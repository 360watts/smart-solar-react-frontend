{"version":3,"file":"static/js/898.4e490e7c.chunk.js","mappings":"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","sources":["components/AuditTrail.tsx","components/Employees.tsx","services/cacheService.ts","services/api.ts"],"sourcesContent":["import React from 'react';\r\n\r\ninterface AuditTrailProps {\r\n  createdBy?: string | null;\r\n  createdAt?: string;\r\n  updatedBy?: string | null;\r\n  updatedAt?: string;\r\n  className?: string;\r\n}\r\n\r\nconst AuditTrail: React.FC<AuditTrailProps> = ({\r\n  createdBy,\r\n  createdAt,\r\n  updatedBy,\r\n  updatedAt,\r\n  className = 'audit-trail',\r\n}) => {\r\n  const formatDate = (dateString?: string) => {\r\n    if (!dateString) return 'N/A';\r\n    try {\r\n      return new Date(dateString).toLocaleString();\r\n    } catch {\r\n      return dateString;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={className}>\r\n      <div className=\"audit-row\">\r\n        <span className=\"audit-label\">Created:</span>\r\n        {createdBy ? (\r\n          <span className=\"audit-value\">\r\n            by <strong>{createdBy}</strong> on {formatDate(createdAt)}\r\n          </span>\r\n        ) : (\r\n          <span className=\"audit-value\">System</span>\r\n        )}\r\n      </div>\r\n\r\n      {updatedBy && (\r\n        <div className=\"audit-row\">\r\n          <span className=\"audit-label\">Last Updated:</span>\r\n          <span className=\"audit-value\">\r\n            by <strong>{updatedBy}</strong> on {formatDate(updatedAt)}\r\n          </span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(AuditTrail);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { apiService } from '../services/api';\r\nimport AuditTrail from './AuditTrail';\r\n\r\ninterface Employee {\r\n  id: number;\r\n  username: string;\r\n  email: string;\r\n  first_name: string;\r\n  last_name: string;\r\n  mobile_number?: string;\r\n  address?: string;\r\n  is_staff: boolean;\r\n  is_superuser: boolean;\r\n  date_joined: string;\r\n  created_by_username?: string;\r\n  created_at?: string;\r\n  updated_by_username?: string;\r\n  updated_at?: string;\r\n}\r\n\r\nconst Employees: React.FC = () => {\r\n  const [employees, setEmployees] = useState<Employee[]>([]);\r\n  const [filteredEmployees, setFilteredEmployees] = useState<Employee[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [editingEmployee, setEditingEmployee] = useState<Employee | null>(null);\r\n  const [creatingEmployee, setCreatingEmployee] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [editForm, setEditForm] = useState({\r\n    first_name: '',\r\n    last_name: '',\r\n    email: '',\r\n    mobile_number: '',\r\n    address: '',\r\n  });\r\n  const [createForm, setCreateForm] = useState({\r\n    username: '',\r\n    email: '',\r\n    password: '',\r\n    first_name: '',\r\n    last_name: '',\r\n    mobile_number: '',\r\n    address: '',\r\n    is_staff: true,\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchEmployees();\r\n  }, []);\r\n\r\n  const [debouncedSearchTerm, setDebouncedSearchTerm] = useState('');\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setDebouncedSearchTerm(searchTerm);\r\n    }, 300);\r\n    return () => clearTimeout(timer);\r\n  }, [searchTerm]);\r\n\r\n  useEffect(() => {\r\n    fetchEmployees(debouncedSearchTerm);\r\n  }, [debouncedSearchTerm]);\r\n\r\n  const fetchEmployees = async (search?: string) => {\r\n    try {\r\n      const data = await apiService.getUsers(search);\r\n      // Filter only staff users (employees) but exclude superusers/admins\r\n      const staffData = data.filter((user: any) => user.is_staff && !user.is_superuser);\r\n      setEmployees(staffData);\r\n      setFilteredEmployees(staffData);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSearch = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setSearchTerm(e.target.value);\r\n  };\r\n\r\n  const handleEdit = (employee: Employee) => {\r\n    setEditingEmployee(employee);\r\n    setEditForm({\r\n      first_name: employee.first_name,\r\n      last_name: employee.last_name,\r\n      email: employee.email,\r\n      mobile_number: employee.mobile_number || '',\r\n      address: employee.address || '',\r\n    });\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (!editingEmployee) return;\r\n\r\n    try {\r\n      await apiService.updateUser(editingEmployee.id, editForm);\r\n      setEditingEmployee(null);\r\n      // Refetch to get the updated employee with audit trail fields\r\n      await fetchEmployees(searchTerm);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to update employee');\r\n    }\r\n  };\r\n\r\n  const handleCreate = async () => {\r\n    try {\r\n      await apiService.createEmployee(createForm);\r\n      setCreatingEmployee(false);\r\n      setCreateForm({\r\n        username: '',\r\n        email: '',\r\n        password: '',\r\n        first_name: '',\r\n        last_name: '',\r\n        mobile_number: '',\r\n        address: '',\r\n        is_staff: true,\r\n      });\r\n      // Refetch to get the new employee with all fields including audit trail\r\n      await fetchEmployees(searchTerm);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to create employee');\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (employee: Employee) => {\r\n    if (window.confirm(`Are you sure you want to delete employee ${employee.username}?`)) {\r\n      try {\r\n        await apiService.deleteUser(employee.id);\r\n        setEmployees(employees.filter(e => e.id !== employee.id));\r\n        setFilteredEmployees(filteredEmployees.filter(e => e.id !== employee.id));\r\n      } catch (err) {\r\n        setError(err instanceof Error ? err.message : 'Failed to delete employee');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setEditingEmployee(null);\r\n    setCreatingEmployee(false);\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"loading\">Loading employees...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"error\">Error: {error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Employee Management</h1>\r\n\r\n      <div className=\"card\">\r\n        <div className=\"card-header\">\r\n          <h2>Employees ({filteredEmployees.length})</h2>\r\n          <div className=\"card-actions\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search employees...\"\r\n              value={searchTerm}\r\n              onChange={handleSearch}\r\n              className=\"search-input\"\r\n            />\r\n            <button onClick={() => setCreatingEmployee(true)} className=\"btn\">\r\n              Add New Employee\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th style={{ textAlign: 'center' }}>Name</th>\r\n              <th style={{ textAlign: 'center' }}>Username</th>\r\n              <th style={{ textAlign: 'center' }}>Email</th>\r\n              <th style={{ textAlign: 'center' }}>Mobile</th>\r\n              <th style={{ textAlign: 'center' }}>Joined</th>\r\n              <th style={{ textAlign: 'center' }}>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {filteredEmployees.map((employee) => (\r\n                <tr key={employee.id}>\r\n                <td style={{ textAlign: 'center' }}>{employee.first_name} {employee.last_name}</td>\r\n                <td style={{ textAlign: 'center' }}>{employee.username}</td>\r\n                <td style={{ textAlign: 'center' }}>{employee.email}</td>\r\n                <td style={{ textAlign: 'center' }}>{employee.mobile_number || '-'}</td>\r\n                <td style={{ textAlign: 'center' }}>\r\n                  {(() => {\r\n                    if (!employee.date_joined) return 'N/A';\r\n                    const date = new Date(employee.date_joined);\r\n                    return isNaN(date.getTime()) ? 'Invalid Date' : date.toLocaleDateString();\r\n                  })()}\r\n                </td>\r\n                <td style={{ textAlign: 'center' }}>\r\n                  <button onClick={() => handleEdit(employee)} style={{ background: 'none', border: 'none', cursor: 'pointer', color: '#6366f1', margin: '0 6px' }} title=\"Edit\">\r\n                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                      <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"></path>\r\n                      <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"></path>\r\n                    </svg>\r\n                  </button>\r\n                  <button onClick={() => handleDelete(employee)} style={{ background: 'none', border: 'none', cursor: 'pointer', color: '#ef4444', margin: '0 6px' }} title=\"Delete\">\r\n                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                      <polyline points=\"3,6 5,6 21,6\"></polyline>\r\n                      <path d=\"M19,6v14a2,2 0 0,1-2,2H7a2,2 0 0,1-2-2V6m3,0V4a2,2 0 0,1,2-2h4a2,2 0 0,1,2,2v2\"></path>\r\n                      <line x1=\"10\" y1=\"11\" x2=\"10\" y2=\"17\"></line>\r\n                      <line x1=\"14\" y1=\"11\" x2=\"14\" y2=\"17\"></line>\r\n                    </svg>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      {(editingEmployee || creatingEmployee) && (\r\n        <div className=\"modal\">\r\n          <div className=\"modal-content\">\r\n            <h3>{editingEmployee ? `Edit Employee: ${editingEmployee.username}` : 'Add New Employee'}</h3>\r\n            <form onSubmit={(e) => { e.preventDefault(); editingEmployee ? handleSave() : handleCreate(); }}>\r\n              <div className=\"modal-body\">\r\n                \r\n                {/* Account Section */}\r\n                <div className=\"form-section\">\r\n                   <h4 className=\"form-section-title\">Account Information</h4>\r\n                   <div className=\"form-grid\"> \r\n                    {creatingEmployee && (\r\n                      <>\r\n                        <input type=\"text\" autoComplete=\"username\" style={{display: 'none'}} />\r\n                        <input type=\"password\" autoComplete=\"current-password\" style={{display: 'none'}} />\r\n                        <div className=\"form-group\">\r\n                          <label>Username</label>\r\n                          <input\r\n                            type=\"text\"\r\n                            value={createForm.username}\r\n                            onChange={(e) => setCreateForm({...createForm, username: e.target.value})}\r\n                            required\r\n                            autoComplete=\"off\"\r\n                            placeholder=\"jdoe\"\r\n                          />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                          <label>Password</label>\r\n                          <input\r\n                            type=\"password\"\r\n                            value={createForm.password}\r\n                            onChange={(e) => setCreateForm({...createForm, password: e.target.value})}\r\n                            required\r\n                            autoComplete=\"new-password\"\r\n                            placeholder=\"••••••••\"\r\n                          />\r\n                        </div>\r\n                      </>\r\n                    )}\r\n                    <div className=\"form-group\">\r\n                       <label>Email Address</label>\r\n                       <input\r\n                         type=\"email\"\r\n                         value={editingEmployee ? editForm.email : createForm.email}\r\n                         onChange={(e) => editingEmployee ? setEditForm({...editForm, email: e.target.value}) : setCreateForm({...createForm, email: e.target.value})}\r\n                         required\r\n                         autoComplete=\"off\"\r\n                         placeholder=\"john.doe@example.com\"\r\n                       />\r\n                     </div>\r\n                   </div>\r\n                </div>\r\n\r\n                {/* Personal Section */}\r\n                <div className=\"form-section\">\r\n                  <h4 className=\"form-section-title\">Personal Details</h4>\r\n                  <div className=\"form-grid form-grid-2\">\r\n                    <div className=\"form-group\">\r\n                      <label>First Name</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={editingEmployee ? editForm.first_name : createForm.first_name}\r\n                        onChange={(e) => editingEmployee ? setEditForm({...editForm, first_name: e.target.value}) : setCreateForm({...createForm, first_name: e.target.value})}\r\n                        required\r\n                        autoComplete=\"off\"\r\n                        placeholder=\"John\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <label>Last Name</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={editingEmployee ? editForm.last_name : createForm.last_name}\r\n                        onChange={(e) => editingEmployee ? setEditForm({...editForm, last_name: e.target.value}) : setCreateForm({...createForm, last_name: e.target.value})}\r\n                        required\r\n                        autoComplete=\"off\"\r\n                        placeholder=\"Doe\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Contact Section */}\r\n                <div className=\"form-section\">\r\n                  <h4 className=\"form-section-title\">Contact Information</h4>\r\n                  <div className=\"form-grid\">\r\n                    <div className=\"form-group\">\r\n                      <label>Mobile Number</label>\r\n                      <input\r\n                        type=\"tel\"\r\n                        value={editingEmployee ? editForm.mobile_number : createForm.mobile_number}\r\n                        onChange={(e) => editingEmployee ? setEditForm({...editForm, mobile_number: e.target.value}) : setCreateForm({...createForm, mobile_number: e.target.value})}\r\n                        autoComplete=\"off\"\r\n                        placeholder=\"+1 (555) 000-0000\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <label>Address</label>\r\n                      <textarea\r\n                        value={editingEmployee ? editForm.address : createForm.address}\r\n                        onChange={(e) => editingEmployee ? setEditForm({...editForm, address: e.target.value}) : setCreateForm({...createForm, address: e.target.value})}\r\n                        autoComplete=\"off\"\r\n                        rows={3}\r\n                        placeholder=\"123 Solar Street...\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n              {editingEmployee && (\r\n                <AuditTrail\r\n                  createdBy={editingEmployee.created_by_username}\r\n                  createdAt={editingEmployee.created_at}\r\n                  updatedBy={editingEmployee.updated_by_username}\r\n                  updatedAt={editingEmployee.updated_at}\r\n                />\r\n              )}\r\n              <div className=\"form-actions\">\r\n                <button type=\"submit\" className=\"btn\">{editingEmployee ? 'Save' : 'Create'}</button>\r\n                <button type=\"button\" onClick={handleCancel} className=\"btn btn-secondary\">Cancel</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Employees;\r\n","/**\r\n * Enhanced in-memory cache service for API responses\r\n * Features:\r\n * - TTL-based expiration\r\n * - Stale-while-revalidate pattern support\r\n * - Subscription system for real-time updates\r\n * - Pattern-based cache invalidation\r\n */\r\n\r\ninterface CacheEntry {\r\n  data: any;\r\n  timestamp: number;\r\n  expiresIn: number; // milliseconds\r\n  staleTime?: number; // Time after which data is considered stale but usable\r\n}\r\n\r\ninterface CacheSubscription {\r\n  callback: (data: any) => void;\r\n  pattern?: RegExp;\r\n}\r\n\r\nclass CacheService {\r\n  private cache: Map<string, CacheEntry> = new Map();\r\n  private subscribers: Map<string, Set<CacheSubscription>> = new Map();\r\n  private static readonly DEFAULT_TTL = 5 * 60 * 1000; // 5 minutes default\r\n  private static readonly LONG_TTL = 30 * 60 * 1000; // 30 minutes for static data\r\n  private static readonly REALTIME_TTL = 10 * 1000; // 10 seconds for real-time data\r\n  private static readonly STALE_TIME = 30 * 1000; // 30 seconds before data is stale\r\n\r\n  /**\r\n   * Set a cache entry and notify subscribers\r\n   */\r\n  set(key: string, data: any, ttlMs: number = CacheService.DEFAULT_TTL, staleTime?: number): void {\r\n    this.cache.set(key, {\r\n      data,\r\n      timestamp: Date.now(),\r\n      expiresIn: ttlMs,\r\n      staleTime: staleTime ?? Math.min(ttlMs / 2, CacheService.STALE_TIME),\r\n    });\r\n    \r\n    // Notify subscribers\r\n    this.notifySubscribers(key, data);\r\n  }\r\n\r\n  /**\r\n   * Get a cache entry if valid (returns null if expired)\r\n   */\r\n  get(key: string): any | null {\r\n    const entry = this.cache.get(key);\r\n    if (!entry) return null;\r\n\r\n    // Check if expired\r\n    const now = Date.now();\r\n    if (now - entry.timestamp > entry.expiresIn) {\r\n      this.cache.delete(key);\r\n      return null;\r\n    }\r\n\r\n    return entry.data;\r\n  }\r\n\r\n  /**\r\n   * Get cache entry even if stale (for stale-while-revalidate pattern)\r\n   * Returns { data, isStale } or null if no entry exists\r\n   */\r\n  getWithStaleStatus(key: string): { data: any; isStale: boolean; isExpired: boolean } | null {\r\n    const entry = this.cache.get(key);\r\n    if (!entry) return null;\r\n\r\n    const now = Date.now();\r\n    const age = now - entry.timestamp;\r\n    const isExpired = age > entry.expiresIn;\r\n    const isStale = age > (entry.staleTime ?? entry.expiresIn / 2);\r\n\r\n    // Remove if fully expired\r\n    if (isExpired) {\r\n      this.cache.delete(key);\r\n      return null;\r\n    }\r\n\r\n    return {\r\n      data: entry.data,\r\n      isStale,\r\n      isExpired: false,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Check if key exists and is not expired\r\n   */\r\n  has(key: string): boolean {\r\n    const entry = this.cache.get(key);\r\n    if (!entry) return false;\r\n\r\n    const now = Date.now();\r\n    if (now - entry.timestamp > entry.expiresIn) {\r\n      this.cache.delete(key);\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Check if cached data is stale but usable\r\n   */\r\n  isStale(key: string): boolean {\r\n    const entry = this.cache.get(key);\r\n    if (!entry) return true;\r\n\r\n    const now = Date.now();\r\n    const age = now - entry.timestamp;\r\n    return age > (entry.staleTime ?? entry.expiresIn / 2);\r\n  }\r\n\r\n  /**\r\n   * Clear a specific cache entry\r\n   */\r\n  clear(key: string): void {\r\n    this.cache.delete(key);\r\n  }\r\n\r\n  /**\r\n   * Clear cache entries matching a pattern\r\n   */\r\n  clearPattern(pattern: string | RegExp): void {\r\n    const regex = typeof pattern === 'string' ? new RegExp(pattern) : pattern;\r\n    const keysToDelete: string[] = [];\r\n    \r\n    this.cache.forEach((_, key) => {\r\n      if (regex.test(key)) {\r\n        keysToDelete.push(key);\r\n      }\r\n    });\r\n    \r\n    keysToDelete.forEach(key => this.cache.delete(key));\r\n  }\r\n\r\n  /**\r\n   * Clear all cache entries\r\n   */\r\n  clearAll(): void {\r\n    this.cache.clear();\r\n  }\r\n\r\n  /**\r\n   * Get cache size\r\n   */\r\n  size(): number {\r\n    return this.cache.size;\r\n  }\r\n\r\n  /**\r\n   * Subscribe to cache updates for a specific key\r\n   */\r\n  subscribe(key: string, callback: (data: any) => void): () => void {\r\n    if (!this.subscribers.has(key)) {\r\n      this.subscribers.set(key, new Set());\r\n    }\r\n    \r\n    const subscription: CacheSubscription = { callback };\r\n    this.subscribers.get(key)!.add(subscription);\r\n\r\n    // Return unsubscribe function\r\n    return () => {\r\n      const subs = this.subscribers.get(key);\r\n      if (subs) {\r\n        subs.delete(subscription);\r\n        if (subs.size === 0) {\r\n          this.subscribers.delete(key);\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Subscribe to cache updates matching a pattern\r\n   */\r\n  subscribePattern(pattern: RegExp, callback: (data: any) => void): () => void {\r\n    const key = `__pattern__${pattern.source}`;\r\n    if (!this.subscribers.has(key)) {\r\n      this.subscribers.set(key, new Set());\r\n    }\r\n    \r\n    const subscription: CacheSubscription = { callback, pattern };\r\n    this.subscribers.get(key)!.add(subscription);\r\n\r\n    return () => {\r\n      const subs = this.subscribers.get(key);\r\n      if (subs) {\r\n        subs.delete(subscription);\r\n        if (subs.size === 0) {\r\n          this.subscribers.delete(key);\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Notify all subscribers of a cache update\r\n   */\r\n  private notifySubscribers(key: string, data: any): void {\r\n    // Direct key subscribers\r\n    const directSubs = this.subscribers.get(key);\r\n    if (directSubs) {\r\n      directSubs.forEach(sub => {\r\n        try {\r\n          sub.callback(data);\r\n        } catch (error) {\r\n          console.error(`Cache subscriber error for key ${key}:`, error);\r\n        }\r\n      });\r\n    }\r\n\r\n    // Pattern subscribers\r\n    this.subscribers.forEach((subs, subKey) => {\r\n      if (subKey.startsWith('__pattern__')) {\r\n        subs.forEach(sub => {\r\n          if (sub.pattern && sub.pattern.test(key)) {\r\n            try {\r\n              sub.callback(data);\r\n            } catch (error) {\r\n              console.error(`Cache pattern subscriber error for key ${key}:`, error);\r\n            }\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get all keys in cache\r\n   */\r\n  keys(): string[] {\r\n    return Array.from(this.cache.keys());\r\n  }\r\n\r\n  /**\r\n   * Get cache stats for debugging\r\n   */\r\n  getStats(): { size: number; keys: string[]; subscribers: number } {\r\n    return {\r\n      size: this.cache.size,\r\n      keys: this.keys(),\r\n      subscribers: Array.from(this.subscribers.values()).reduce((sum, set) => sum + set.size, 0),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get TTL constants\r\n   */\r\n  static getTTL(type: 'short' | 'long' | 'realtime' = 'short'): number {\r\n    switch (type) {\r\n      case 'realtime':\r\n        return CacheService.REALTIME_TTL;\r\n      case 'long':\r\n        return CacheService.LONG_TTL;\r\n      default:\r\n        return CacheService.DEFAULT_TTL;\r\n    }\r\n  }\r\n}\r\n\r\nexport const cacheService = new CacheService();\r\nexport const DEFAULT_TTL = 5 * 60 * 1000; // 5 minutes\r\nexport const LONG_TTL = 30 * 60 * 1000; // 30 minutes\r\nexport const REALTIME_TTL = 10 * 1000; // 10 seconds\r\n","import { cacheService, DEFAULT_TTL } from './cacheService';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'https://smart-solar-django-backend.vercel.app/api';\r\n\r\nclass ApiService {\r\n  private getAuthHeaders(): HeadersInit {\r\n    const tokens = localStorage.getItem('authTokens');\r\n    if (tokens) {\r\n      try {\r\n        const parsedTokens = JSON.parse(tokens);\r\n        return {\r\n          'Authorization': `Bearer ${parsedTokens.access}`,\r\n          'Content-Type': 'application/json',\r\n        };\r\n      } catch (error) {\r\n        console.error('Error parsing auth tokens:', error);\r\n      }\r\n    }\r\n    return {\r\n      'Content-Type': 'application/json',\r\n    };\r\n  }\r\n\r\n  private async request(endpoint: string, options: RequestInit = {}): Promise<any> {\r\n    const url = `${API_BASE_URL}${endpoint}`;\r\n    let headers = this.getAuthHeaders();\r\n\r\n    let response = await fetch(url, {\r\n      ...options,\r\n      headers: {\r\n        ...headers,\r\n        ...options.headers,\r\n      },\r\n    });\r\n\r\n    if (response.status === 401) {\r\n      // Try to refresh token\r\n      const refreshSuccess = await this.refreshToken();\r\n      if (refreshSuccess) {\r\n        // Retry with new token\r\n        headers = this.getAuthHeaders();\r\n        response = await fetch(url, {\r\n          ...options,\r\n          headers: {\r\n            ...headers,\r\n            ...options.headers,\r\n          },\r\n        });\r\n      }\r\n    }\r\n\r\n    if (response.status === 401) {\r\n      // Token refresh failed or not attempted, logout\r\n      localStorage.removeItem('authTokens');\r\n      localStorage.removeItem('authUser');\r\n      window.location.href = '/login';\r\n      throw new Error('Authentication required');\r\n    }\r\n\r\n    if (!response.ok) {\r\n      const errorText = await response.text();\r\n      throw new Error(`API request failed: ${response.status} ${response.statusText} - ${errorText}`);\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  private async refreshToken(): Promise<boolean> {\r\n    const tokens = localStorage.getItem('authTokens');\r\n    if (!tokens) return false;\r\n\r\n    try {\r\n      const parsedTokens = JSON.parse(tokens);\r\n      const response = await fetch(`${API_BASE_URL}/auth/token/refresh/`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ refresh: parsedTokens.refresh }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        const newTokens = {\r\n          access: data.access,\r\n          refresh: parsedTokens.refresh, // Keep the same refresh token\r\n        };\r\n        localStorage.setItem('authTokens', JSON.stringify(newTokens));\r\n        return true;\r\n      }\r\n    } catch (error) {\r\n      console.error('Token refresh failed:', error);\r\n    }\r\n    return false;\r\n  }\r\n\r\n  async getConfiguration(): Promise<any> {\r\n    return this.request('/config/');\r\n  }\r\n\r\n  async getTelemetry(): Promise<any[]> {\r\n    return this.request('/telemetry/');\r\n  }\r\n\r\n  async provisionDevice(data: any): Promise<any> {\r\n    const response = await fetch(`${API_BASE_URL}/devices/provision`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n    if (!response.ok) {\r\n      throw new Error(`Provisioning failed: ${response.statusText}`);\r\n    }\r\n    return response.json();\r\n  }\r\n\r\n  async getAlerts(): Promise<any[]> {\r\n    const cacheKey = 'alerts';\r\n    const cached = cacheService.get(cacheKey);\r\n    if (cached) return cached;\r\n\r\n    const data = await this.request('/alerts/');\r\n    cacheService.set(cacheKey, data, DEFAULT_TTL);\r\n    return data;\r\n  }\r\n\r\n  async getSystemHealth(): Promise<any> {\r\n    const cacheKey = 'system_health';\r\n    const cached = cacheService.get(cacheKey);\r\n    if (cached) return cached;\r\n\r\n    const data = await this.request('/health/');\r\n    cacheService.set(cacheKey, data, DEFAULT_TTL);\r\n    return data;\r\n  }\r\n\r\n  async getKPIs(): Promise<any> {\r\n    const cacheKey = 'kpis';\r\n    const cached = cacheService.get(cacheKey);\r\n    if (cached) return cached;\r\n\r\n    const data = await this.request('/kpis/');\r\n    cacheService.set(cacheKey, data, DEFAULT_TTL);\r\n    return data;\r\n  }\r\n\r\n  async getUsers(search?: string): Promise<any[]> {\r\n    const cacheKey = `users_${search || 'all'}`;\r\n    const cached = cacheService.get(cacheKey);\r\n    if (cached) return cached;\r\n\r\n    const params = search ? `?search=${encodeURIComponent(search)}` : '';\r\n    const data = await this.request(`/users/${params}`);\r\n    cacheService.set(cacheKey, data, DEFAULT_TTL);\r\n    return data;\r\n  }\r\n\r\n  async createUser(userData: any): Promise<any> {\r\n    const result = await this.request('/users/create/', {\r\n      method: 'POST',\r\n      body: JSON.stringify(userData),\r\n    });\r\n    // Invalidate users cache\r\n    cacheService.clear('users_all');\r\n    cacheService.clearAll(); // Clear all cache for safety\r\n    return result;\r\n  }\r\n\r\n  async createEmployee(employeeData: any): Promise<any> {\r\n    const result = await this.request('/users/create/', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ ...employeeData, is_staff: true }),\r\n    });\r\n    cacheService.clear('users_all');\r\n    return result;\r\n  }\r\n\r\n  async getUserDevices(userId: number): Promise<any[]> {\r\n    return this.request(`/users/${userId}/devices/`);\r\n  }\r\n\r\n  async updateUser(userId: number, data: any): Promise<any> {\r\n    const result = await this.request(`/users/${userId}/`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(data),\r\n    });\r\n    cacheService.clear('users_all');\r\n    return result;\r\n  }\r\n\r\n  async deleteUser(userId: number): Promise<any> {\r\n    const result = await this.request(`/users/${userId}/delete/`, {\r\n      method: 'DELETE',\r\n    });\r\n    cacheService.clear('users_all');\r\n    return result;\r\n  }\r\n\r\n  // Profile Management (for current logged-in user)\r\n  async getProfile(): Promise<any> {\r\n    return this.request('/profile/');\r\n  }\r\n\r\n  async updateProfile(data: any): Promise<any> {\r\n    return this.request('/profile/update/', {\r\n      method: 'PUT',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  async changePassword(data: { current_password: string; new_password: string }): Promise<any> {\r\n    return this.request('/profile/change-password/', {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  // Customer Management (separate from staff users/employees)\r\n  async getCustomers(search?: string): Promise<any[]> {\r\n    const params = search ? `?search=${encodeURIComponent(search)}` : '';\r\n    return this.request(`/customers/${params}`);\r\n  }\r\n\r\n  async createCustomer(customerData: any): Promise<any> {\r\n    return this.request('/customers/create/', {\r\n      method: 'POST',\r\n      body: JSON.stringify(customerData),\r\n    });\r\n  }\r\n\r\n  async getCustomer(customerId: number): Promise<any> {\r\n    return this.request(`/customers/${customerId}/`);\r\n  }\r\n\r\n  async updateCustomer(customerId: number, data: any): Promise<any> {\r\n    return this.request(`/customers/${customerId}/update/`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  async deleteCustomer(customerId: number): Promise<any> {\r\n    return this.request(`/customers/${customerId}/delete/`, {\r\n      method: 'DELETE',\r\n    });\r\n  }\r\n\r\n  async getPresets(): Promise<any[]> {\r\n    const cacheKey = 'presets';\r\n    const cached = cacheService.get(cacheKey);\r\n    if (cached) return cached;\r\n\r\n    const data = await this.request('/presets/');\r\n    // Use longer TTL for presets as they change less frequently\r\n    cacheService.set(cacheKey, data, 30 * 60 * 1000); // 30 minutes\r\n    return data;\r\n  }\r\n\r\n  async createPreset(data: any): Promise<any> {\r\n    const result = await this.request('/presets/create/', {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n    });\r\n    cacheService.clear('presets');\r\n    return result;\r\n  }\r\n\r\n  async updatePreset(id: number, data: any): Promise<any> {\r\n    const result = await this.request(`/presets/${id}/`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(data),\r\n    });\r\n    cacheService.clear('presets');\r\n    return result;\r\n  }\r\n\r\n  async deletePreset(id: number): Promise<any> {\r\n    const result = await this.request(`/presets/${id}/delete/`, {\r\n      method: 'DELETE',\r\n    });\r\n    cacheService.clear('presets');\r\n    return result;\r\n  }\r\n\r\n  async getGlobalSlaves(): Promise<any[]> {\r\n    return this.request('/slaves/');\r\n  }\r\n\r\n  async createGlobalSlave(slaveData: any): Promise<any> {\r\n    return this.request('/slaves/create/', {\r\n      method: 'POST',\r\n      body: JSON.stringify(slaveData),\r\n    });\r\n  }\r\n\r\n  async updateGlobalSlave(slaveId: number, slaveData: any): Promise<any> {\r\n    return this.request(`/slaves/${slaveId}/`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(slaveData),\r\n    });\r\n  }\r\n\r\n  async deleteGlobalSlave(slaveId: number): Promise<any> {\r\n    return this.request(`/slaves/${slaveId}/delete/`, {\r\n      method: 'DELETE',\r\n    });\r\n  }\r\n\r\n  async getDevices(search?: string, page: number = 1, pageSize: number = 25): Promise<any> {\r\n    const params = new URLSearchParams();\r\n    if (search) params.append('search', search);\r\n    params.append('page', page.toString());\r\n    params.append('page_size', pageSize.toString());\r\n    \r\n    const queryString = params.toString();\r\n    return this.request(`/devices/?${queryString}`);\r\n  }\r\n\r\n  async createDevice(deviceData: any): Promise<any> {\r\n    return this.request('/devices/create/', {\r\n      method: 'POST',\r\n      body: JSON.stringify(deviceData),\r\n    });\r\n  }\r\n\r\n  async updateDevice(deviceId: number, data: any): Promise<any> {\r\n    return this.request(`/devices/${deviceId}/`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  async deleteDevice(deviceId: number): Promise<any> {\r\n    return this.request(`/devices/${deviceId}/delete/`, {\r\n      method: 'DELETE',\r\n    });\r\n  }\r\n\r\n  async deleteDevicesBulk(deviceIds: number[]): Promise<any> {\r\n    return this.request(`/devices/delete-bulk/`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({ device_ids: deviceIds }),\r\n    });\r\n  }\r\n\r\n  async getSlaves(configId: string): Promise<any[]> {\r\n    return this.request(`/presets/${configId}/slaves/`);\r\n  }\r\n\r\n  async createSlave(configId: string, slaveData: any): Promise<any> {\r\n    return this.request(`/presets/${configId}/slaves/create/`, {\r\n      method: 'POST',\r\n      body: JSON.stringify(slaveData),\r\n    });\r\n  }\r\n\r\n  async updateSlave(configId: string, slaveId: number, slaveData: any): Promise<any> {\r\n    return this.request(`/presets/${configId}/slaves/${slaveId}/`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(slaveData),\r\n    });\r\n  }\r\n\r\n  async deleteSlave(configId: string, slaveId: number): Promise<any> {\r\n    return this.request(`/presets/${configId}/slaves/${slaveId}/delete/`, {\r\n      method: 'DELETE',\r\n    });\r\n  }\r\n\r\n  async addSlavesToPreset(configId: string, slaveIds: number[]): Promise<any> {\r\n    return this.request(`/presets/${configId}/slaves/add/`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({ slave_ids: slaveIds }),\r\n    });\r\n  }\r\n\r\n  async detachSlaveFromPreset(configId: string, slaveId: number): Promise<any> {\r\n    return this.request(`/presets/${configId}/slaves/${slaveId}/detach/`, {\r\n      method: 'POST',\r\n    });\r\n  }\r\n\r\n  // OTA (Over-The-Air) Update Endpoints\r\n  async getFirmwareVersions(activeOnly: boolean = true): Promise<any> {\r\n    const params = new URLSearchParams();\r\n    params.append('active', activeOnly.toString());\r\n    return this.request(`/ota/firmware/?${params.toString()}`);\r\n  }\r\n\r\n  async uploadFirmwareVersion(formData: FormData): Promise<any> {\r\n    const url = `${API_BASE_URL}/ota/firmware/create/`;\r\n    const tokens = localStorage.getItem('authTokens');\r\n    \r\n    if (!tokens) {\r\n      throw new Error('Authentication required');\r\n    }\r\n    \r\n    const parsedTokens = JSON.parse(tokens);\r\n    let headers: HeadersInit = {\r\n      'Authorization': `Bearer ${parsedTokens.access}`,\r\n    };\r\n    // Don't set Content-Type - let browser set it with boundary for multipart/form-data\r\n    \r\n    let response = await fetch(url, {\r\n      method: 'POST',\r\n      headers,\r\n      body: formData,\r\n    });\r\n\r\n    // Handle 401 with token refresh\r\n    if (response.status === 401) {\r\n      const refreshSuccess = await this.refreshToken();\r\n      if (refreshSuccess) {\r\n        const newTokens = JSON.parse(localStorage.getItem('authTokens') || '{}');\r\n        headers = {\r\n          'Authorization': `Bearer ${newTokens.access}`,\r\n        };\r\n        response = await fetch(url, {\r\n          method: 'POST',\r\n          headers,\r\n          body: formData,\r\n        });\r\n      }\r\n    }\r\n\r\n    if (response.status === 401) {\r\n      localStorage.removeItem('authTokens');\r\n      localStorage.removeItem('authUser');\r\n      window.location.href = '/login';\r\n      throw new Error('Authentication required');\r\n    }\r\n\r\n    if (!response.ok) {\r\n      const errorText = await response.text();\r\n      throw new Error(`Upload failed: ${response.status} ${response.statusText} - ${errorText}`);\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  async updateFirmwareVersion(firmwareId: number, data: any): Promise<any> {\r\n    return this.request(`/ota/firmware/${firmwareId}/`, {\r\n      method: 'PATCH',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  async deleteFirmwareVersion(firmwareId: number): Promise<any> {\r\n    return this.request(`/ota/firmware/${firmwareId}/delete/`, {\r\n      method: 'DELETE',\r\n    });\r\n  }\r\n\r\n  async getDeviceUpdateLogs(deviceId: string): Promise<any> {\r\n    return this.request(`/ota/devices/${deviceId}/logs`);\r\n  }\r\n\r\n  async getOTAConfig(): Promise<any> {\r\n    return this.request(`/ota/config/`);\r\n  }\r\n\r\n  async updateOTAConfig(config: any): Promise<any> {\r\n    return this.request(`/ota/config/update/`, {\r\n      method: 'PATCH',\r\n      body: JSON.stringify(config),\r\n    });\r\n  }\r\n\r\n  async getOTAHealth(): Promise<any> {\r\n    return this.request(`/ota/health/`);\r\n  }\r\n}\r\n\r\nexport const apiService = new ApiService();"],"names":["AuditTrail","_ref","createdBy","createdAt","updatedBy","updatedAt","className","formatDate","dateString","Date","toLocaleString","_unused","_jsxs","children","_jsx","React","Employees","employees","setEmployees","useState","filteredEmployees","setFilteredEmployees","loading","setLoading","error","setError","editingEmployee","setEditingEmployee","creatingEmployee","setCreatingEmployee","searchTerm","setSearchTerm","editForm","setEditForm","first_name","last_name","email","mobile_number","address","createForm","setCreateForm","username","password","is_staff","useEffect","fetchEmployees","debouncedSearchTerm","setDebouncedSearchTerm","timer","setTimeout","clearTimeout","async","staffData","apiService","getUsers","search","filter","user","is_superuser","err","Error","message","length","type","placeholder","value","onChange","e","target","onClick","style","textAlign","map","employee","date_joined","date","isNaN","getTime","toLocaleDateString","handleEdit","background","border","cursor","color","margin","title","width","height","viewBox","fill","stroke","strokeWidth","d","window","confirm","concat","deleteUser","id","handleDelete","points","x1","y1","x2","y2","onSubmit","preventDefault","updateUser","handleSave","createEmployee","handleCreate","_Fragment","autoComplete","display","_objectSpread","required","rows","created_by_username","created_at","updated_by_username","updated_at","handleCancel","CacheService","constructor","cache","Map","subscribers","set","key","data","ttlMs","arguments","undefined","DEFAULT_TTL","staleTime","this","timestamp","now","expiresIn","Math","min","STALE_TIME","notifySubscribers","get","entry","delete","getWithStaleStatus","_entry$staleTime","age","isExpired","isStale","has","_entry$staleTime2","clear","clearPattern","pattern","regex","RegExp","keysToDelete","forEach","_","test","push","clearAll","size","subscribe","callback","Set","subscription","add","subs","subscribePattern","source","directSubs","sub","console","subKey","startsWith","keys","Array","from","getStats","values","reduce","sum","getTTL","REALTIME_TTL","LONG_TTL","cacheService","API_BASE_URL","process","getAuthHeaders","tokens","localStorage","getItem","parsedTokens","JSON","parse","access","request","endpoint","options","url","headers","response","fetch","status","refreshToken","removeItem","location","href","ok","errorText","text","statusText","json","method","body","stringify","refresh","newTokens","setItem","getConfiguration","getTelemetry","provisionDevice","getAlerts","cacheKey","cached","getSystemHealth","getKPIs","params","encodeURIComponent","createUser","userData","result","employeeData","getUserDevices","userId","getProfile","updateProfile","changePassword","getCustomers","createCustomer","customerData","getCustomer","customerId","updateCustomer","deleteCustomer","getPresets","createPreset","updatePreset","deletePreset","getGlobalSlaves","createGlobalSlave","slaveData","updateGlobalSlave","slaveId","deleteGlobalSlave","getDevices","page","pageSize","URLSearchParams","append","toString","queryString","createDevice","deviceData","updateDevice","deviceId","deleteDevice","deleteDevicesBulk","deviceIds","device_ids","getSlaves","configId","createSlave","updateSlave","deleteSlave","addSlavesToPreset","slaveIds","slave_ids","detachSlaveFromPreset","getFirmwareVersions","activeOnly","uploadFirmwareVersion","formData","updateFirmwareVersion","firmwareId","deleteFirmwareVersion","getDeviceUpdateLogs","getOTAConfig","updateOTAConfig","config","getOTAHealth"],"sourceRoot":""}