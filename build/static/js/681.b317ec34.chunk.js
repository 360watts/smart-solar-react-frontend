"use strict";(self.webpackChunksmart_solar_frontend=self.webpackChunksmart_solar_frontend||[]).push([[681],{7315(e,s,r){r.d(s,{p:()=>n});r(5043);var t=r(579);const a=()=>(0,t.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})}),n=e=>{let{icon:s,title:r,description:n,action:l}=e;return(0,t.jsxs)("div",{className:"empty-state",children:[(0,t.jsx)("div",{className:"empty-state-icon",children:null!==s&&void 0!==s?s:(0,t.jsx)(a,{})}),(0,t.jsx)("p",{className:"empty-state-title",children:r}),n&&(0,t.jsx)("p",{className:"empty-state-desc",children:n}),l&&(0,t.jsxs)("button",{className:"empty-state-cta",onClick:l.onClick,children:[(0,t.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2.5,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),l.label]})]})}},4681(e,s,r){r.r(s),r.d(s,{default:()=>h});var t=r(9379),a=r(5043),n=r(3216),l=r(5560),i=r(8421),o=r(7315),d=r(1293),c=r(8443),x=r(579);const h=()=>{const e=(0,n.Zp)(),{isDark:s}=(0,i.D)(),[r,h]=(0,a.useState)([]),[m,u]=(0,a.useState)(!0),[p,g]=(0,a.useState)(null),[j,b]=(0,a.useState)(null),[f,v]=(0,a.useState)(!1),[y,N]=(0,a.useState)(""),[A,C]=(0,a.useState)(null),[w,k]=(0,a.useState)([]),[_,S]=(0,a.useState)(!1),[M,D]=(0,a.useState)(1),[I,U]=(0,a.useState)(c.yQ),[z,E]=(0,a.useState)(0),[B,R]=(0,a.useState)(0),[W,T]=(0,a.useState)({first_name:"",last_name:"",email:"",mobile_number:"",address:""}),[L,q]=(0,a.useState)({username:"",email:"",password:"",first_name:"",last_name:"",mobile_number:"",address:""}),[F,H]=(0,a.useState)({show:!1,user:null}),[J,O]=(0,a.useState)({show:!1,message:""}),[P,K]=(0,a.useState)("");(0,a.useEffect)(()=>{const e=setTimeout(()=>{K(y),D(1)},300);return()=>clearTimeout(e)},[y]),(0,a.useEffect)(()=>{Y(P,M,I)},[P,M,I]);const Y=async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.yQ;u(!0);try{var t,a;const n=await l.K.getUsers(e,s,r),i=(n.results||[]).filter(e=>!e.is_staff);h(i),E(null!==(t=n.count)&&void 0!==t?t:0),R(null!==(a=n.total_pages)&&void 0!==a?a:0),u(!1)}catch(n){g(n instanceof Error?n.message:"An error occurred"),u(!1)}},V=e=>{b(e),T({first_name:e.first_name,last_name:e.last_name,email:e.email,mobile_number:e.mobile_number||"",address:e.address||""})},Q=async()=>{if(j)try{await l.K.updateUser(j.id,W),b(null),await Y(P,M,I)}catch(e){g(e instanceof Error?e.message:"Failed to update user")}},G=()=>{C(null),k([])},Z=()=>{b(null),v(!1)};return m?(0,x.jsxs)("div",{className:"admin-container",children:[(0,x.jsx)("h1",{children:"User Management"}),(0,x.jsxs)("div",{className:"card",children:[(0,x.jsx)("div",{className:"card-header",children:(0,x.jsx)("h2",{children:"Users"})}),(0,x.jsxs)("table",{className:"table",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"Username"}),(0,x.jsx)("th",{children:"Email"}),(0,x.jsx)("th",{children:"Name"}),(0,x.jsx)("th",{children:"Actions"})]})}),(0,x.jsx)("tbody",{children:[1,2,3,4,5].map(e=>(0,x.jsx)(d.wg,{columns:4},e))})]})]})]}):p?(0,x.jsxs)("div",{className:"error",children:["Error: ",p]}):A?(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"20px"},children:[(0,x.jsx)("button",{onClick:G,className:"btn btn-secondary",style:{marginRight:"15px"},children:"\u2190 Back to Users"}),(0,x.jsxs)("h1",{style:{margin:0},children:[A.first_name," ",A.last_name,"'s Dashboard"]})]}),(0,x.jsxs)("div",{className:"card",style:{marginBottom:"20px"},children:[(0,x.jsxs)("div",{className:"card-header",children:[(0,x.jsx)("h2",{children:"User Information"}),(0,x.jsx)("button",{onClick:()=>V(A),className:"btn",children:"Edit User"})]}),(0,x.jsx)("div",{style:{padding:"20px"},children:(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"15px"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("strong",{children:"Username:"}),(0,x.jsx)("p",{style:{margin:"5px 0"},children:A.username})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("strong",{children:"Email:"}),(0,x.jsx)("p",{style:{margin:"5px 0"},children:A.email})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("strong",{children:"Mobile:"}),(0,x.jsx)("p",{style:{margin:"5px 0"},children:A.mobile_number||"-"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("strong",{children:"Address:"}),(0,x.jsx)("p",{style:{margin:"5px 0"},children:A.address||"-"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("strong",{children:"Joined:"}),(0,x.jsx)("p",{style:{margin:"5px 0"},children:A.date_joined?new Date(A.date_joined).toLocaleDateString():"N/A"})]})]})})]}),(0,x.jsxs)("div",{className:"card",style:{marginBottom:"20px"},children:[(0,x.jsx)("div",{className:"card-header",children:(0,x.jsxs)("h2",{children:["Assigned Devices (",w.length,")"]})}),_?(0,x.jsx)("div",{style:{padding:"24px",textAlign:"center",color:"var(--text-secondary, #94a3b8)"},children:"Loading devices..."}):w.length>0?(0,x.jsxs)("table",{className:"table",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{style:{textAlign:"center"},children:"Device Serial"}),(0,x.jsx)("th",{style:{textAlign:"center"},children:"MAC / HW ID"}),(0,x.jsx)("th",{style:{textAlign:"center"},children:"Model"}),(0,x.jsx)("th",{style:{textAlign:"center"},children:"Config Version"}),(0,x.jsx)("th",{style:{textAlign:"center"},children:"Provisioned At"})]})}),(0,x.jsx)("tbody",{children:w.map(s=>(0,x.jsxs)("tr",{className:"clickable-row",onClick:()=>e("/devices?deviceId=".concat(s.id)),style:{cursor:"pointer"},children:[(0,x.jsx)("td",{style:{textAlign:"center",fontFamily:"JetBrains Mono, monospace",fontSize:"0.85rem"},children:s.device_serial}),(0,x.jsx)("td",{style:{textAlign:"center",fontFamily:"JetBrains Mono, monospace",fontSize:"0.85rem"},children:s.hw_id||(0,x.jsx)("span",{style:{color:"var(--text-muted)"},children:"\u2014"})}),(0,x.jsx)("td",{style:{textAlign:"center"},children:s.model||(0,x.jsx)("span",{style:{color:"var(--text-muted)"},children:"\u2014"})}),(0,x.jsx)("td",{style:{textAlign:"center"},children:s.config_version||"-"}),(0,x.jsx)("td",{style:{textAlign:"center"},children:s.provisioned_at?new Date(s.provisioned_at).toLocaleDateString():"-"})]},s.id))})]}):(0,x.jsx)("div",{style:{padding:"32px",textAlign:"center",color:"var(--text-muted, #64748b)",fontSize:"0.9375rem"},children:"No devices assigned to this user yet."})]}),j&&(0,x.jsx)("div",{className:"modal",children:(0,x.jsxs)("div",{className:"modal-content",children:[(0,x.jsxs)("h3",{children:["Edit User: ",j.username]}),(0,x.jsxs)("form",{onSubmit:e=>{e.preventDefault(),Q()},children:[(0,x.jsxs)("div",{className:"modal-body",children:[(0,x.jsxs)("div",{className:"form-section",children:[(0,x.jsx)("h4",{className:"form-section-title",children:"Account Information"}),(0,x.jsx)("div",{className:"form-grid",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{children:"Email Address"}),(0,x.jsx)("input",{type:"email",value:W.email,onChange:e=>T((0,t.A)((0,t.A)({},W),{},{email:e.target.value})),required:!0,autoComplete:"off",placeholder:"john.doe@example.com"})]})})]}),(0,x.jsxs)("div",{className:"form-section",children:[(0,x.jsx)("h4",{className:"form-section-title",children:"Personal Details"}),(0,x.jsxs)("div",{className:"form-grid form-grid-2",children:[(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{children:"First Name"}),(0,x.jsx)("input",{type:"text",value:W.first_name,onChange:e=>T((0,t.A)((0,t.A)({},W),{},{first_name:e.target.value})),required:!0,autoComplete:"off",placeholder:"John"})]}),(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{children:"Last Name"}),(0,x.jsx)("input",{type:"text",value:W.last_name,onChange:e=>T((0,t.A)((0,t.A)({},W),{},{last_name:e.target.value})),required:!0,autoComplete:"off",placeholder:"Doe"})]})]})]}),(0,x.jsxs)("div",{className:"form-section",children:[(0,x.jsx)("h4",{className:"form-section-title",children:"Contact Information"}),(0,x.jsxs)("div",{className:"form-grid",children:[(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{children:"Mobile Number"}),(0,x.jsx)("input",{type:"tel",value:W.mobile_number,onChange:e=>T((0,t.A)((0,t.A)({},W),{},{mobile_number:e.target.value})),required:!0,autoComplete:"off",placeholder:"+1 (555) 000-0000"})]}),(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{children:"Address"}),(0,x.jsx)("textarea",{value:W.address,onChange:e=>T((0,t.A)((0,t.A)({},W),{},{address:e.target.value})),autoComplete:"off",rows:3,placeholder:"123 Solar Street..."})]})]})]})]}),(0,x.jsxs)("div",{className:"form-actions",style:{padding:"0 24px 24px 24px"},children:[(0,x.jsx)("button",{type:"submit",className:"btn",children:"Save Changes"}),(0,x.jsx)("button",{type:"button",onClick:Z,className:"btn btn-secondary",children:"Cancel"})]})]})]})})]}):(0,x.jsxs)("div",{children:[(0,x.jsx)("h1",{children:"User Management"}),(0,x.jsxs)("div",{className:"card",children:[(0,x.jsxs)("div",{className:"card-header",children:[(0,x.jsxs)("h2",{children:["Users (",z,")"]}),(0,x.jsxs)("div",{className:"card-actions",children:[(0,x.jsx)("input",{type:"text",placeholder:"Search users...",value:y,onChange:e=>{N(e.target.value)},className:"search-input"}),(0,x.jsx)("button",{onClick:()=>v(!0),className:"btn",children:"Register New User"})]})]}),(0,x.jsxs)("table",{className:"table",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{style:{textAlign:"center"},children:"Name"}),(0,x.jsx)("th",{style:{textAlign:"center"},children:"Email"}),(0,x.jsx)("th",{style:{textAlign:"center"},children:"Mobile"}),(0,x.jsx)("th",{style:{textAlign:"center"},children:"Address"}),(0,x.jsx)("th",{style:{textAlign:"center"},children:"Joined"}),(0,x.jsx)("th",{style:{textAlign:"center"},children:"Actions"})]})}),(0,x.jsx)("tbody",{children:0===r.length?(0,x.jsx)("tr",{children:(0,x.jsx)("td",{colSpan:6,style:{textAlign:"center",padding:"2rem"},children:(0,x.jsx)(o.p,{title:y?"No users match your search":"No users yet",description:y?"Try a different search term.":"Create a user to get started.",action:y?void 0:{label:"Create User",onClick:()=>v(!0)}})})}):r.map(e=>(0,x.jsxs)("tr",{onClick:()=>(async e=>{C(e),S(!0);try{const s=await l.K.getUserDevices(e.id);k(s)}catch(s){console.error("Error fetching user devices:",s),k([])}finally{S(!1)}})(e),style:{cursor:"pointer"},className:"clickable-row",children:[(0,x.jsxs)("td",{style:{textAlign:"center"},children:[e.first_name," ",e.last_name]}),(0,x.jsx)("td",{style:{textAlign:"center"},children:e.email}),(0,x.jsx)("td",{style:{textAlign:"center"},children:e.mobile_number||"-"}),(0,x.jsx)("td",{style:{textAlign:"center"},children:e.address||"-"}),(0,x.jsx)("td",{style:{textAlign:"center"},children:(()=>{if(!e.date_joined)return"N/A";const s=new Date(e.date_joined);return isNaN(s.getTime())?"Invalid Date":s.toLocaleDateString()})()}),(0,x.jsxs)("td",{style:{textAlign:"center"},onClick:e=>e.stopPropagation(),children:[(0,x.jsx)("button",{onClick:()=>V(e),style:{background:"none",border:"none",cursor:"pointer",color:"var(--text-secondary, #94a3b8)",margin:"0 6px"},title:"Edit",children:(0,x.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,x.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,x.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),(0,x.jsx)("button",{onClick:()=>(e=>{console.log("\ud83d\uddd1\ufe0f handleDelete called with user:",e.username),H({show:!0,user:e})})(e),style:{background:"none",border:"none",cursor:"pointer",color:"var(--danger-color, #ef4444)",margin:"0 6px"},title:"Delete",children:(0,x.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,x.jsx)("polyline",{points:"3,6 5,6 21,6"}),(0,x.jsx)("path",{d:"M19,6v14a2,2 0 0,1-2,2H7a2,2 0 0,1-2-2V6m3,0V4a2,2 0 0,1,2-2h4a2,2 0 0,1,2,2v2"}),(0,x.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),(0,x.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})]})]},e.id))})]}),z>0&&(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px",borderTop:"1px solid var(--border-color, rgba(148, 163, 184, 0.1))",gap:"16px"},children:[(0,x.jsxs)("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary, #94a3b8)"},children:["Showing ",(M-1)*I+1," - ",Math.min(M*I,z)," of ",z," users"]}),(0,x.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,x.jsx)("button",{onClick:()=>D(Math.max(1,M-1)),disabled:1===M,style:{padding:"8px 12px",border:"1px solid var(--border-color, rgba(148, 163, 184, 0.2))",borderRadius:"6px",background:1===M?"rgba(148, 163, 184, 0.1)":"transparent",color:"var(--text-primary, #f8fafc)",cursor:1===M?"not-allowed":"pointer",opacity:1===M?"0.5":"1"},children:"\u2190 Previous"}),(0,x.jsx)("div",{style:{display:"flex",gap:"4px",alignItems:"center"},children:(()=>{const e=[];for(let r=1;r<=B;r++){var s;1===r||r===B||Math.abs(r-M)<=1?e.push((0,x.jsx)("button",{onClick:()=>D(r),style:{padding:"6px 10px",border:"1px solid var(--border-color, rgba(148, 163, 184, 0.2))",borderRadius:"4px",background:r===M?"rgba(99, 102, 241, 0.2)":"transparent",color:"var(--text-primary, #f8fafc)",cursor:"pointer",fontWeight:r===M?"bold":"normal",minWidth:"32px"},children:r},r)):(null===(s=e[e.length-1])||void 0===s?void 0:s.key)!=="ellipsis-"+Math.floor(r/10)&&e.push((0,x.jsx)("span",{style:{padding:"0 4px",color:"var(--text-secondary, #94a3b8)"},children:"..."},"ellipsis-".concat(Math.floor(r/10))))}return e})()}),(0,x.jsx)("button",{onClick:()=>D(Math.min(B,M+1)),disabled:M===B,style:{padding:"8px 12px",border:"1px solid var(--border-color, rgba(148, 163, 184, 0.2))",borderRadius:"6px",background:M===B?"rgba(148, 163, 184, 0.1)":"transparent",color:"var(--text-primary, #f8fafc)",cursor:M===B?"not-allowed":"pointer",opacity:M===B?"0.5":"1"},children:"Next \u2192"})]}),(0,x.jsxs)("select",{value:I,onChange:e=>{U(parseInt(e.target.value)),D(1)},style:{padding:"8px",border:s?"1px solid #404040":"1px solid rgba(148, 163, 184, 0.2)",borderRadius:"6px",background:s?"#1a1a1a":"#0f172a",color:s?"#e0e0e0":"#f8fafc",cursor:"pointer",fontSize:"0.875rem"},children:[(0,x.jsx)("option",{value:10,children:"10 per page"}),(0,x.jsx)("option",{value:25,children:"25 per page"}),(0,x.jsx)("option",{value:50,children:"50 per page"}),(0,x.jsx)("option",{value:100,children:"100 per page"})]})]})]}),(j||f)&&(0,x.jsx)("div",{className:"modal",children:(0,x.jsxs)("div",{className:"modal-content",children:[(0,x.jsx)("h3",{children:j?"Edit User: ".concat(j.username):"Register New User"}),(0,x.jsxs)("form",{onSubmit:e=>{e.preventDefault(),j?Q():(async()=>{try{await l.K.createUser(L),v(!1),q({username:"",email:"",password:"",first_name:"",last_name:"",mobile_number:"",address:""}),await Y(P,M,I)}catch(e){g(e instanceof Error?e.message:"Failed to create user")}})()},children:[(0,x.jsxs)("div",{className:"modal-body",children:[(0,x.jsxs)("div",{className:"form-section",children:[(0,x.jsx)("h4",{className:"form-section-title",children:"Account Information"}),(0,x.jsxs)("div",{className:"form-grid",children:[f&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("input",{type:"text",autoComplete:"username",style:{display:"none"}}),(0,x.jsx)("input",{type:"password",autoComplete:"current-password",style:{display:"none"}}),(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{children:"Username"}),(0,x.jsx)("input",{type:"text",value:L.username,onChange:e=>q((0,t.A)((0,t.A)({},L),{},{username:e.target.value})),required:!0,autoComplete:"off",placeholder:"jdoe"})]}),(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{children:"Password"}),(0,x.jsx)("input",{type:"password",value:L.password,onChange:e=>q((0,t.A)((0,t.A)({},L),{},{password:e.target.value})),required:!0,autoComplete:"new-password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})]})]}),(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{children:"Email Address"}),(0,x.jsx)("input",{type:"email",value:j?W.email:L.email,onChange:e=>j?T((0,t.A)((0,t.A)({},W),{},{email:e.target.value})):q((0,t.A)((0,t.A)({},L),{},{email:e.target.value})),required:!0,autoComplete:"off",placeholder:"john.doe@example.com"})]})]})]}),(0,x.jsxs)("div",{className:"form-section",children:[(0,x.jsx)("h4",{className:"form-section-title",children:"Personal Details"}),(0,x.jsxs)("div",{className:"form-grid form-grid-2",children:[(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{children:"First Name"}),(0,x.jsx)("input",{type:"text",value:j?W.first_name:L.first_name,onChange:e=>j?T((0,t.A)((0,t.A)({},W),{},{first_name:e.target.value})):q((0,t.A)((0,t.A)({},L),{},{first_name:e.target.value})),required:!0,autoComplete:"off",placeholder:"John"})]}),(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{children:"Last Name"}),(0,x.jsx)("input",{type:"text",value:j?W.last_name:L.last_name,onChange:e=>j?T((0,t.A)((0,t.A)({},W),{},{last_name:e.target.value})):q((0,t.A)((0,t.A)({},L),{},{last_name:e.target.value})),required:!0,autoComplete:"off",placeholder:"Doe"})]})]})]}),(0,x.jsxs)("div",{className:"form-section",children:[(0,x.jsx)("h4",{className:"form-section-title",children:"Contact Information"}),(0,x.jsxs)("div",{className:"form-grid",children:[(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{children:"Mobile Number"}),(0,x.jsx)("input",{type:"tel",value:j?W.mobile_number:L.mobile_number,onChange:e=>j?T((0,t.A)((0,t.A)({},W),{},{mobile_number:e.target.value})):q((0,t.A)((0,t.A)({},L),{},{mobile_number:e.target.value})),required:!0,autoComplete:"off",placeholder:"+1 (555) 000-0000"})]}),(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{children:"Address"}),(0,x.jsx)("textarea",{value:j?W.address:L.address,onChange:e=>j?T((0,t.A)((0,t.A)({},W),{},{address:e.target.value})):q((0,t.A)((0,t.A)({},L),{},{address:e.target.value})),autoComplete:"off",rows:3,placeholder:"123 Solar Street..."})]})]})]})]}),(0,x.jsxs)("div",{className:"form-actions",style:{padding:"0 24px 24px 24px"},children:[(0,x.jsx)("button",{type:"submit",className:"btn",children:j?"Save Changes":"Create Customer"}),(0,x.jsx)("button",{type:"button",onClick:Z,className:"btn btn-secondary",children:"Cancel"})]})]})]})}),F.show&&F.user&&(0,x.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:(0,x.jsxs)("div",{style:{background:s?"#2d2d2d":"white",borderRadius:"16px",padding:"2rem",maxWidth:"500px",width:"90%",boxShadow:s?"0 20px 60px rgba(0,0,0,0.6)":"0 20px 60px rgba(0,0,0,0.3)",border:"2px solid #7f1d1d",animation:"slideIn 0.2s ease-out"},children:[(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1.5rem"},children:[(0,x.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"linear-gradient(135deg, #7f1d1d 0%, #991b1b 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",animation:"pulse 2s infinite"},children:"\ud83d\uddd1\ufe0f"}),(0,x.jsx)("h3",{style:{fontSize:"1.5rem",fontWeight:"600",margin:0,color:"#7f1d1d"},children:"Delete User"})]}),(0,x.jsxs)("div",{style:{marginBottom:"1.5rem",color:s?"#b0b0b0":"#495057",lineHeight:"1.6"},children:[(0,x.jsxs)("p",{style:{marginBottom:"1rem"},children:["Are you sure you want to delete user ",(0,x.jsx)("strong",{style:{color:s?"#e0e0e0":"#2c3e50"},children:F.user.username}),"?"]}),(0,x.jsxs)("div",{style:{background:s?"rgba(127, 29, 29, 0.1)":"#fee2e2",border:s?"1px solid rgba(127, 29, 29, 0.3)":"1px solid #fecaca",borderRadius:"8px",padding:"0.75rem 1rem",fontSize:"0.9rem",color:s?"#fca5a5":"#991b1b"},children:[(0,x.jsx)("strong",{children:"\u26a0\ufe0f Warning:"})," This will permanently delete the user account. Any devices associated with this user will become unassigned."]})]}),(0,x.jsxs)("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[(0,x.jsx)("button",{onClick:()=>H({show:!1,user:null}),style:{background:s?"#3a3a3a":"#e0e0e0",color:s?"#e0e0e0":"#495057",border:"none",padding:"0.75rem 1.5rem",borderRadius:"8px",fontSize:"0.95rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.background=s?"#4a4a4a":"#d0d0d0",onMouseOut:e=>e.currentTarget.style.background=s?"#3a3a3a":"#e0e0e0",children:"Cancel"}),(0,x.jsx)("button",{onClick:async()=>{if(F.user)try{await l.K.deleteUser(F.user.id),(null===A||void 0===A?void 0:A.id)===F.user.id&&(C(null),k([])),H({show:!1,user:null}),await Y(P,M,I),O({show:!0,message:'User "'.concat(F.user.username,'" has been deleted successfully.')})}catch(e){g(e instanceof Error?e.message:"Failed to delete user"),H({show:!1,user:null})}},style:{background:"linear-gradient(135deg, #7f1d1d 0%, #991b1b 100%)",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"8px",fontSize:"0.95rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 4px 12px rgba(127, 29, 29, 0.3)",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.transform="translateY(-1px)",onMouseOut:e=>e.currentTarget.style.transform="translateY(0)",children:"Yes, Delete"})]})]})}),J.show&&(0,x.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(2px)"},children:(0,x.jsx)("div",{style:{background:s?"#2d2d2d":"white",borderRadius:"16px",padding:"2rem",maxWidth:"450px",width:"90%",boxShadow:s?"0 20px 60px rgba(0,0,0,0.6)":"0 20px 60px rgba(0,0,0,0.3)",border:s?"1px solid #28a745":"2px solid #28a745",animation:"slideIn 0.2s ease-out"},children:(0,x.jsxs)("div",{style:{textAlign:"center"},children:[(0,x.jsx)("div",{style:{width:"64px",height:"64px",borderRadius:"50%",background:"linear-gradient(135deg, #28a745 0%, #20c997 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",margin:"0 auto 1rem",animation:"scaleIn 0.3s ease-out"},children:"\u2713"}),(0,x.jsx)("h3",{style:{fontSize:"1.5rem",fontWeight:"600",marginBottom:"1rem",color:s?"#e0e0e0":"#2c3e50"},children:"Success"}),(0,x.jsx)("p",{style:{color:s?"#b0b0b0":"#495057",lineHeight:"1.6",marginBottom:"1.5rem"},children:J.message}),(0,x.jsx)("button",{onClick:()=>O({show:!1,message:""}),style:{background:"linear-gradient(135deg, #28a745 0%, #20c997 100%)",color:"white",border:"none",padding:"0.75rem 2rem",borderRadius:"8px",fontSize:"0.95rem",fontWeight:"600",cursor:"pointer",boxShadow:"0 4px 12px rgba(40, 167, 69, 0.3)",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.transform="translateY(-1px)",onMouseOut:e=>e.currentTarget.style.transform="translateY(0)",children:"Got it!"})]})})})]})}}}]);
//# sourceMappingURL=681.b317ec34.chunk.js.map