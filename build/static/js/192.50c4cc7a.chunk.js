"use strict";(self.webpackChunksmart_solar_frontend=self.webpackChunksmart_solar_frontend||[]).push([[192],{3192(e,r,t){t.r(r),t.d(r,{default:()=>l});var s=t(5043),i=t(5560),n=t(9550),a=t(8421),o=t(579);const l=()=>{const{isDark:e}=(0,a.D)(),[r,t]=(0,s.useState)([]),[l,d]=(0,s.useState)(!0),[c,g]=(0,s.useState)(null),[m,x]=(0,s.useState)("all"),[h,p]=(0,s.useState)("overview");(0,s.useEffect)(()=>{y();const e=setInterval(y,3e4);return()=>clearInterval(e)},[]);const y=async()=>{try{const e=await i.K.getAlerts();t(e),d(!1)}catch(e){g(e instanceof Error?e.message:"An error occurred"),d(!1)}},v=e=>{switch(e){case"critical":return"status-critical";case"warning":return"status-warning";case"info":return"status-info";default:return"status-offline"}},f=e=>{switch(e){case"critical":return"\ud83d\udea8";case"warning":return"\u26a0\ufe0f";case"info":return"\u2139\ufe0f";default:return"\u2753"}},j=r.filter(e=>"all"===m||e.severity===m),u=r.filter(e=>!e.resolved);return l?(0,o.jsx)("div",{className:"loading",children:"Loading alerts..."}):c?(0,o.jsxs)("div",{className:"error",children:["Error: ",c]}):(0,o.jsxs)("div",{className:"admin-container",children:[(0,o.jsxs)("div",{className:"admin-header",style:{marginBottom:"2rem"},children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("h1",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[(0,o.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,o.jsx)("path",{d:"M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"}),(0,o.jsx)("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),(0,o.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),"System Alerts"]}),(0,o.jsx)("p",{style:{color:"var(--text-secondary)",margin:0},children:"Monitor and track system alerts and notifications"})]}),(0,o.jsx)("div",{className:"health-status",children:(0,o.jsxs)("span",{className:"status-badge ".concat(0===u.length?"status-badge-success":u.some(e=>"critical"===e.severity)?"status-badge-danger":"status-badge-warning"),children:[u.length," UNRESOLVED"]})})]}),(0,o.jsxs)("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem",borderBottom:e?"2px solid #404040":"2px solid var(--border-color)",paddingBottom:"0"},children:[(0,o.jsxs)("button",{onClick:()=>p("overview"),style:{background:"overview"===h?"var(--primary-gradient)":"transparent",color:"overview"===h?e?"#e0e0e0":"var(--text-primary)":"var(--text-secondary)",border:"none",padding:"0.75rem 1.5rem",cursor:"pointer",fontSize:"0.95rem",fontWeight:"overview"===h?"600":"500",borderRadius:"8px 8px 0 0",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,o.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,o.jsx)("rect",{x:"3",y:"3",width:"7",height:"7"}),(0,o.jsx)("rect",{x:"14",y:"3",width:"7",height:"7"}),(0,o.jsx)("rect",{x:"14",y:"14",width:"7",height:"7"}),(0,o.jsx)("rect",{x:"3",y:"14",width:"7",height:"7"})]}),"Overview"]}),(0,o.jsxs)("button",{onClick:()=>p("alerts"),style:{background:"alerts"===h?"var(--primary-gradient)":"transparent",color:"alerts"===h?e?"#e0e0e0":"var(--text-primary)":"var(--text-secondary)",border:"none",padding:"0.75rem 1.5rem",cursor:"pointer",fontSize:"0.95rem",fontWeight:"alerts"===h?"600":"500",borderRadius:"8px 8px 0 0",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,o.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,o.jsx)("path",{d:"M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"}),(0,o.jsx)("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),(0,o.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),"All Alerts (",j.length,")"]}),(0,o.jsxs)("button",{onClick:()=>p("analytics"),style:{background:"analytics"===h?"var(--primary-gradient)":"transparent",color:"analytics"===h?e?"#e0e0e0":"var(--text-primary)":"var(--text-secondary)",border:"none",padding:"0.75rem 1.5rem",cursor:"pointer",fontSize:"0.95rem",fontWeight:"analytics"===h?"600":"500",borderRadius:"8px 8px 0 0",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,o.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,o.jsx)("path",{d:"M3 3v18h18"}),(0,o.jsx)("path",{d:"M18 17V9"}),(0,o.jsx)("path",{d:"M13 17V5"}),(0,o.jsx)("path",{d:"M8 17v-3"})]}),"Analytics"]})]}),"overview"===h&&(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},children:[(0,o.jsxs)("div",{className:"admin-card",children:[(0,o.jsxs)("h2",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1.5rem"},children:[(0,o.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,o.jsx)("path",{d:"M3 3v18h18"}),(0,o.jsx)("path",{d:"M18 17V9"}),(0,o.jsx)("path",{d:"M13 17V5"}),(0,o.jsx)("path",{d:"M8 17v-3"})]}),"Alert Summary"]}),(0,o.jsxs)("div",{style:{display:"grid",gap:"1rem"},children:[(0,o.jsxs)("div",{style:{padding:"1rem",background:e?"#242424":"var(--bg-secondary)",borderRadius:"8px"},children:[(0,o.jsx)("p",{style:{margin:0,fontSize:"0.85rem",color:"var(--text-secondary)"},children:"Total Alerts"}),(0,o.jsx)("p",{style:{margin:"0.25rem 0 0",fontSize:"2rem",fontWeight:"800",fontFamily:"monospace",color:e?"#e0e0e0":"#2c3e50"},children:r.length})]}),(0,o.jsxs)("div",{style:{padding:"1rem",background:e?"rgba(239, 68, 68, 0.15)":"rgba(239, 68, 68, 0.1)",borderRadius:"8px",border:e?"1px solid rgba(239, 68, 68, 0.3)":"1px solid rgba(239, 68, 68, 0.2)"},children:[(0,o.jsx)("p",{style:{margin:0,fontSize:"0.85rem",color:"#ef4444"},children:"Unresolved"}),(0,o.jsx)("p",{style:{margin:"0.25rem 0 0",fontSize:"2rem",fontWeight:"800",fontFamily:"monospace",color:"#ef4444"},children:u.length})]}),(0,o.jsxs)("div",{style:{padding:"1rem",background:e?"rgba(220, 38, 38, 0.15)":"rgba(220, 38, 38, 0.1)",borderRadius:"8px",border:e?"1px solid rgba(220, 38, 38, 0.3)":"1px solid rgba(220, 38, 38, 0.2)"},children:[(0,o.jsx)("p",{style:{margin:0,fontSize:"0.85rem",color:"#dc2626"},children:"Critical"}),(0,o.jsx)("p",{style:{margin:"0.25rem 0 0",fontSize:"2rem",fontWeight:"800",fontFamily:"monospace",color:"#dc2626"},children:r.filter(e=>"critical"===e.severity).length})]}),(0,o.jsxs)("div",{style:{padding:"1rem",background:e?"rgba(245, 158, 11, 0.15)":"rgba(245, 158, 11, 0.1)",borderRadius:"8px",border:e?"1px solid rgba(245, 158, 11, 0.3)":"1px solid rgba(245, 158, 11, 0.2)"},children:[(0,o.jsx)("p",{style:{margin:0,fontSize:"0.85rem",color:"#f59e0b"},children:"Warnings"}),(0,o.jsx)("p",{style:{margin:"0.25rem 0 0",fontSize:"2rem",fontWeight:"800",fontFamily:"monospace",color:"#f59e0b"},children:r.filter(e=>"warning"===e.severity).length})]})]})]}),(0,o.jsxs)("div",{className:"admin-card",children:[(0,o.jsxs)("h2",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1.5rem"},children:[(0,o.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,o.jsx)("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),"Filter by Severity"]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Severity Level"}),(0,o.jsxs)("select",{className:"form-control",value:m,onChange:e=>x(e.target.value),style:{padding:"0.75rem",borderRadius:"8px",border:e?"1px solid #404040":"1px solid var(--border-color)",background:e?"#1a1a1a":"var(--bg-secondary)",color:e?"#e0e0e0":"#2c3e50"},children:[(0,o.jsx)("option",{value:"all",children:"All Severities"}),(0,o.jsx)("option",{value:"critical",children:"Critical"}),(0,o.jsx)("option",{value:"warning",children:"Warning"}),(0,o.jsx)("option",{value:"info",children:"Info"})]})]}),(0,o.jsxs)("div",{style:{marginTop:"1.5rem",padding:"1rem",background:e?"#242424":"var(--bg-secondary)",borderRadius:"8px"},children:[(0,o.jsx)("p",{style:{margin:0,fontSize:"0.85rem",color:"var(--text-secondary)"},children:"Filtered Results"}),(0,o.jsxs)("p",{style:{margin:"0.25rem 0 0",fontSize:"1.5rem",fontWeight:"700",color:e?"#e0e0e0":"#2c3e50"},children:[j.length," alerts"]})]})]})]}),"alerts"===h&&(0,o.jsxs)("div",{className:"admin-card",children:[(0,o.jsxs)("h2",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1.5rem"},children:[(0,o.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,o.jsx)("path",{d:"M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"}),(0,o.jsx)("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),(0,o.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),"Active Alerts (",j.length,")"]}),0===j.length?(0,o.jsxs)("div",{style:{textAlign:"center",padding:"3rem 1rem",color:"var(--text-secondary)"},children:[(0,o.jsxs)("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",style:{margin:"0 auto 1rem",opacity:.3},children:[(0,o.jsx)("path",{d:"M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"}),(0,o.jsx)("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),(0,o.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),(0,o.jsx)("p",{style:{fontSize:"1.1rem",marginBottom:"0.5rem"},children:"No alerts found"}),(0,o.jsx)("p",{style:{fontSize:"0.9rem"},children:"All systems are running smoothly"})]}):(0,o.jsx)("div",{className:"alerts-list",children:j.map(r=>(0,o.jsxs)("div",{className:"alert-item ".concat(v(r.severity)),style:{border:e?"1px solid #404040":"1px solid var(--border-color)",borderRadius:"12px",padding:"1.25rem",marginBottom:"1rem",background:e?"#242424":"var(--bg-secondary)",transition:"all 0.2s",borderLeft:"4px solid ".concat("critical"===r.severity?"#ef4444":"warning"===r.severity?"#f59e0b":"#3b82f6")},children:[(0,o.jsxs)("div",{className:"alert-header",style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.75rem",flexWrap:"wrap"},children:[(0,o.jsx)("span",{className:"alert-icon",style:{fontSize:"1.5rem"},children:f(r.severity)}),(0,o.jsx)("span",{className:"alert-type",style:{background:e?"#1a1a1a":"var(--bg-tertiary)",padding:"0.25rem 0.75rem",borderRadius:"6px",fontSize:"0.85rem",fontWeight:"600",color:e?"#e0e0e0":"#2c3e50"},children:r.type.replace("_"," ").toUpperCase()}),(0,o.jsxs)("span",{className:"alert-device",style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:["Device: ",r.device_id]}),(0,o.jsx)("span",{className:"alert-time",style:{marginLeft:"auto",color:"var(--text-secondary)",fontSize:"0.8rem"},children:new Date(r.timestamp).toLocaleString()})]}),(0,o.jsx)("div",{className:"alert-message",style:{color:"var(--text-primary)",marginBottom:"0.75rem",fontSize:"0.95rem"},children:r.message}),(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:e?"1px solid #404040":"1px solid var(--border-color)"},children:[(0,o.jsx)("div",{className:"alert-status",style:{padding:"0.25rem 0.75rem",borderRadius:"6px",fontSize:"0.8rem",fontWeight:"600",background:r.resolved?e?"rgba(16, 185, 129, 0.2)":"rgba(16, 185, 129, 0.1)":e?"rgba(239, 68, 68, 0.2)":"rgba(239, 68, 68, 0.1)",color:r.resolved?"#10b981":"#ef4444"},children:r.resolved?"\u2713 Resolved":"\u25cf Active"}),(0,o.jsx)(n.A,{createdBy:r.created_by_username,createdAt:r.created_at})]})]},r.id))})]}),"analytics"===h&&(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},children:[(0,o.jsxs)("div",{className:"admin-card",children:[(0,o.jsxs)("h2",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1.5rem"},children:[(0,o.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,o.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,o.jsx)("path",{d:"M12 6v6l4 2"})]}),"By Severity"]}),(0,o.jsx)("div",{style:{display:"grid",gap:"1rem"},children:[{severity:"critical",count:r.filter(e=>"critical"===e.severity).length,color:"#ef4444",label:"Critical"},{severity:"warning",count:r.filter(e=>"warning"===e.severity).length,color:"#f59e0b",label:"Warnings"},{severity:"info",count:r.filter(e=>"info"===e.severity).length,color:"#3b82f6",label:"Info"}].map(r=>(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",background:"".concat(r.color,e?"20":"15"),borderRadius:"8px",border:"1px solid ".concat(r.color,"40")},children:[(0,o.jsx)("span",{style:{fontWeight:"600",color:r.color},children:r.label}),(0,o.jsx)("span",{style:{fontSize:"1.5rem",fontWeight:"800",fontFamily:"monospace",color:r.color},children:r.count})]},r.severity))})]}),(0,o.jsxs)("div",{className:"admin-card",children:[(0,o.jsxs)("h2",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1.5rem"},children:[(0,o.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,o.jsx)("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})}),"By Status"]}),(0,o.jsxs)("div",{style:{display:"grid",gap:"1rem"},children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",background:e?"rgba(16, 185, 129, 0.15)":"rgba(16, 185, 129, 0.1)",borderRadius:"8px",border:e?"1px solid rgba(16, 185, 129, 0.4)":"1px solid rgba(16, 185, 129, 0.3)"},children:[(0,o.jsx)("span",{style:{fontWeight:"600",color:"#10b981"},children:"Resolved"}),(0,o.jsx)("span",{style:{fontSize:"1.5rem",fontWeight:"800",fontFamily:"monospace",color:"#10b981"},children:r.filter(e=>e.resolved).length})]}),(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",background:e?"rgba(239, 68, 68, 0.15)":"rgba(239, 68, 68, 0.1)",borderRadius:"8px",border:e?"1px solid rgba(239, 68, 68, 0.4)":"1px solid rgba(239, 68, 68, 0.3)"},children:[(0,o.jsx)("span",{style:{fontWeight:"600",color:"#ef4444"},children:"Unresolved"}),(0,o.jsx)("span",{style:{fontSize:"1.5rem",fontWeight:"800",fontFamily:"monospace",color:"#ef4444"},children:u.length})]}),(0,o.jsxs)("div",{style:{padding:"1rem",background:e?"#242424":"var(--bg-secondary)",borderRadius:"8px",textAlign:"center"},children:[(0,o.jsx)("p",{style:{margin:0,fontSize:"0.85rem",color:"var(--text-secondary)"},children:"Resolution Rate"}),(0,o.jsxs)("p",{style:{margin:"0.25rem 0 0",fontSize:"2rem",fontWeight:"800",fontFamily:"monospace",color:e?"#e0e0e0":"#2c3e50"},children:[r.length>0?Math.round(r.filter(e=>e.resolved).length/r.length*100):0,"%"]})]})]})]}),(0,o.jsxs)("div",{className:"admin-card",style:{gridColumn:"span 2"},children:[(0,o.jsxs)("h2",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1.5rem"},children:[(0,o.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,o.jsx)("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2"}),(0,o.jsx)("path",{d:"M8 21h8M12 17v4"})]}),"Recent Critical Alerts"]}),0===r.filter(e=>"critical"===e.severity).length?(0,o.jsx)("div",{style:{textAlign:"center",padding:"2rem",color:"var(--text-secondary)"},children:(0,o.jsx)("p",{children:"No critical alerts - system is stable"})}):(0,o.jsx)("div",{style:{display:"grid",gap:"0.75rem"},children:r.filter(e=>"critical"===e.severity).slice(0,5).map(r=>(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem 1rem",background:e?"rgba(239, 68, 68, 0.1)":"rgba(239, 68, 68, 0.05)",borderRadius:"8px",borderLeft:"4px solid #ef4444"},children:[(0,o.jsxs)("div",{style:{flex:1},children:[(0,o.jsx)("strong",{style:{color:"#ef4444",fontSize:"0.9rem"},children:r.type.replace("_"," ").toUpperCase()}),(0,o.jsx)("p",{style:{margin:"0.25rem 0 0",fontSize:"0.85rem",color:"var(--text-secondary)"},children:r.message})]}),(0,o.jsx)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"6px",fontSize:"0.75rem",fontWeight:"600",background:r.resolved?e?"rgba(16, 185, 129, 0.2)":"rgba(16, 185, 129, 0.1)":e?"rgba(239, 68, 68, 0.2)":"rgba(239, 68, 68, 0.1)",color:r.resolved?"#10b981":"#ef4444",whiteSpace:"nowrap",marginLeft:"1rem"},children:r.resolved?"Resolved":"Active"})]},r.id))})]})]})]})}}}]);
//# sourceMappingURL=192.50c4cc7a.chunk.js.map