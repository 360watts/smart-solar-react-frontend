{"version":3,"file":"static/js/681.3d067451.chunk.js","mappings":"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","sources":["components/Users.tsx","services/cacheService.ts","services/api.ts"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { apiService } from '../services/api';\r\nimport { useTheme } from '../contexts/ThemeContext';\r\n\r\ninterface User {\r\n  id: number;\r\n  username: string;\r\n  email: string;\r\n  first_name: string;\r\n  last_name: string;\r\n  mobile_number?: string;\r\n  address?: string;\r\n  is_staff: boolean;\r\n  is_superuser: boolean;\r\n  date_joined: string;\r\n}\r\n\r\ninterface Device {\r\n  id: number;\r\n  device_serial: string;\r\n  hw_id?: string;\r\n  model?: string;\r\n  provisioned_at?: string;\r\n  config_version?: string;\r\n}\r\n\r\nconst Users: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const { isDark } = useTheme();\r\n  const [users, setUsers] = useState<User[]>([]);\r\n  const [filteredUsers, setFilteredUsers] = useState<User[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [editingUser, setEditingUser] = useState<User | null>(null);\r\n  const [creatingUser, setCreatingUser] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedUser, setSelectedUser] = useState<User | null>(null);\r\n  const [userDevices, setUserDevices] = useState<Device[]>([]);\r\n  const [loadingDevices, setLoadingDevices] = useState(false);\r\n\r\n  const [editForm, setEditForm] = useState({\r\n    first_name: '',\r\n    last_name: '',\r\n    email: '',\r\n    mobile_number: '',\r\n    address: '',\r\n  });\r\n  const [createForm, setCreateForm] = useState({\r\n    username: '',\r\n    email: '',\r\n    password: '',\r\n    first_name: '',\r\n    last_name: '',\r\n    mobile_number: '',\r\n    address: '',\r\n  });\r\n\r\n  // Modern modal states\r\n  const [deleteModal, setDeleteModal] = useState<{ show: boolean; user: User | null }>({ show: false, user: null });\r\n  const [successModal, setSuccessModal] = useState<{ show: boolean; message: string }>({ show: false, message: '' });\r\n\r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  const [debouncedSearchTerm, setDebouncedSearchTerm] = useState('');\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setDebouncedSearchTerm(searchTerm);\r\n    }, 300);\r\n    return () => clearTimeout(timer);\r\n  }, [searchTerm]);\r\n\r\n  useEffect(() => {\r\n    fetchUsers(debouncedSearchTerm);\r\n  }, [debouncedSearchTerm]);\r\n\r\n  const fetchUsers = async (search?: string) => {\r\n    try {\r\n      const data = await apiService.getUsers(search);\r\n      const filteredData = data.filter((user: any) => !user.is_staff);\r\n      setUsers(filteredData);\r\n      setFilteredUsers(filteredData);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSearch = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setSearchTerm(e.target.value);\r\n  };\r\n\r\n  const handleEdit = (user: User) => {\r\n    setEditingUser(user);\r\n    setEditForm({\r\n      first_name: user.first_name,\r\n      last_name: user.last_name,\r\n      email: user.email,\r\n      mobile_number: user.mobile_number || '',\r\n      address: user.address || '',\r\n    });\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (!editingUser) return;\r\n\r\n    try {\r\n      await apiService.updateUser(editingUser.id, editForm);\r\n      setEditingUser(null);\r\n      await fetchUsers(searchTerm);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to update user');\r\n    }\r\n  };\r\n\r\n  const handleCreate = async () => {\r\n    try {\r\n      await apiService.createUser(createForm);\r\n      setCreatingUser(false);\r\n      setCreateForm({\r\n        username: '',\r\n        email: '',\r\n        password: '',\r\n        first_name: '',\r\n        last_name: '',\r\n        mobile_number: '',\r\n        address: '',\r\n      });\r\n      await fetchUsers(searchTerm);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to create user');\r\n    }\r\n  };\r\n\r\n  const handleDelete = (user: any) => {\r\n    console.log('üóëÔ∏è handleDelete called with user:', user.username);\r\n    setDeleteModal({ show: true, user });\r\n  };\r\n\r\n  const confirmDelete = async () => {\r\n    if (!deleteModal.user) return;\r\n    \r\n    try {\r\n      await apiService.deleteUser(deleteModal.user.id);\r\n      setUsers(users.filter(u => u.id !== deleteModal.user!.id));\r\n      setFilteredUsers(filteredUsers.filter(u => u.id !== deleteModal.user!.id));\r\n      if (selectedUser?.id === deleteModal.user.id) {\r\n        setSelectedUser(null);\r\n        setUserDevices([]);\r\n      }\r\n      setDeleteModal({ show: false, user: null });\r\n      setSuccessModal({ \r\n        show: true, \r\n        message: `User \"${deleteModal.user.username}\" has been deleted successfully.` \r\n      });\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to delete user');\r\n      setDeleteModal({ show: false, user: null });\r\n    }\r\n  };\r\n\r\n  const handleViewUser = async (user: User) => {\r\n    setSelectedUser(user);\r\n    setLoadingDevices(true);\r\n\r\n    try {\r\n      const devices = await apiService.getUserDevices(user.id);\r\n      setUserDevices(devices);\r\n    } catch (err) {\r\n      console.error('Error fetching user devices:', err);\r\n      setUserDevices([]);\r\n    } finally {\r\n      setLoadingDevices(false);\r\n    }\r\n  };\r\n\r\n  const handleBackToList = () => {\r\n    setSelectedUser(null);\r\n    setUserDevices([]);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setEditingUser(null);\r\n    setCreatingUser(false);\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"loading\">Loading users...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"error\">Error: {error}</div>;\r\n  }\r\n\r\n  // Show user dashboard when a user is selected\r\n  if (selectedUser) {\r\n    return (\r\n      <div>\r\n        <div style={{ display: 'flex', alignItems: 'center', marginBottom: '20px' }}>\r\n          <button\r\n            onClick={handleBackToList}\r\n            className=\"btn btn-secondary\"\r\n            style={{ marginRight: '15px' }}\r\n          >\r\n            ‚Üê Back to Users\r\n          </button>\r\n          <h1 style={{ margin: 0 }}>{selectedUser.first_name} {selectedUser.last_name}'s Dashboard</h1>\r\n        </div>\r\n\r\n        {/* User Information */}\r\n        <div className=\"card\" style={{ marginBottom: '20px' }}>\r\n          <div className=\"card-header\">\r\n            <h2>User Information</h2>\r\n            <button onClick={() => handleEdit(selectedUser)} className=\"btn\">\r\n              Edit User\r\n            </button>\r\n          </div>\r\n          <div style={{ padding: '20px' }}>\r\n            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '15px' }}>\r\n              <div>\r\n                <strong>Username:</strong>\r\n                <p style={{ margin: '5px 0' }}>{selectedUser.username}</p>\r\n              </div>\r\n              <div>\r\n                <strong>Email:</strong>\r\n                <p style={{ margin: '5px 0' }}>{selectedUser.email}</p>\r\n              </div>\r\n              <div>\r\n                <strong>Mobile:</strong>\r\n                <p style={{ margin: '5px 0' }}>{selectedUser.mobile_number || '-'}</p>\r\n              </div>\r\n              <div>\r\n                <strong>Address:</strong>\r\n                <p style={{ margin: '5px 0' }}>{selectedUser.address || '-'}</p>\r\n              </div>\r\n              <div>\r\n                <strong>Joined:</strong>\r\n                <p style={{ margin: '5px 0' }}>\r\n                  {selectedUser.date_joined\r\n                    ? new Date(selectedUser.date_joined).toLocaleDateString()\r\n                    : 'N/A'}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Assigned Devices */}\r\n        <div className=\"card\" style={{ marginBottom: '20px' }}>\r\n          <div className=\"card-header\">\r\n            <h2>Assigned Devices ({userDevices.length})</h2>\r\n          </div>\r\n          {loadingDevices ? (\r\n            <div style={{ padding: '24px', textAlign: 'center', color: 'var(--text-secondary, #94a3b8)' }}>Loading devices...</div>\r\n          ) : userDevices.length > 0 ? (\r\n            <table className=\"table\">\r\n              <thead>\r\n                <tr>\r\n                  <th style={{ textAlign: 'center' }}>Device Serial</th>\r\n                  <th style={{ textAlign: 'center' }}>MAC / HW ID</th>\r\n                  <th style={{ textAlign: 'center' }}>Model</th>\r\n                  <th style={{ textAlign: 'center' }}>Config Version</th>\r\n                  <th style={{ textAlign: 'center' }}>Provisioned At</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {userDevices.map((device) => (\r\n                  <tr\r\n                    key={device.id}\r\n                    className=\"clickable-row\"\r\n                    onClick={() => navigate(`/devices?deviceId=${device.id}`)}\r\n                    style={{ cursor: 'pointer' }}\r\n                  >\r\n                    <td style={{ textAlign: 'center', fontFamily: 'JetBrains Mono, monospace', fontSize: '0.85rem' }}>{device.device_serial}</td>\r\n                    <td style={{ textAlign: 'center', fontFamily: 'JetBrains Mono, monospace', fontSize: '0.85rem' }}>{device.hw_id || <span style={{ color: 'var(--text-muted)' }}>‚Äî</span>}</td>\r\n                    <td style={{ textAlign: 'center' }}>{device.model || <span style={{ color: 'var(--text-muted)' }}>‚Äî</span>}</td>\r\n                    <td style={{ textAlign: 'center' }}>{device.config_version || '-'}</td>\r\n                    <td style={{ textAlign: 'center' }}>\r\n                      {device.provisioned_at\r\n                        ? new Date(device.provisioned_at).toLocaleDateString()\r\n                        : '-'}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          ) : (\r\n            <div style={{ padding: '32px', textAlign: 'center', color: 'var(--text-muted, #64748b)', fontSize: '0.9375rem' }}>\r\n              No devices assigned to this user yet.\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Edit User modal */}\r\n        {editingUser && (\r\n          <div className=\"modal\">\r\n            <div className=\"modal-content\">\r\n              <h3>Edit User: {editingUser.username}</h3>\r\n              <form onSubmit={(e) => { e.preventDefault(); handleSave(); }}>\r\n                <div className=\"modal-body\">\r\n                  <div className=\"form-section\">\r\n                    <h4 className=\"form-section-title\">Account Information</h4>\r\n                    <div className=\"form-grid\">\r\n                      <div className=\"form-group\">\r\n                        <label>Email Address</label>\r\n                        <input\r\n                          type=\"email\"\r\n                          value={editForm.email}\r\n                          onChange={(e) => setEditForm({...editForm, email: e.target.value})}\r\n                          required\r\n                          autoComplete=\"off\"\r\n                          placeholder=\"john.doe@example.com\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"form-section\">\r\n                    <h4 className=\"form-section-title\">Personal Details</h4>\r\n                    <div className=\"form-grid form-grid-2\">\r\n                      <div className=\"form-group\">\r\n                        <label>First Name</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={editForm.first_name}\r\n                          onChange={(e) => setEditForm({...editForm, first_name: e.target.value})}\r\n                          required\r\n                          autoComplete=\"off\"\r\n                          placeholder=\"John\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <label>Last Name</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={editForm.last_name}\r\n                          onChange={(e) => setEditForm({...editForm, last_name: e.target.value})}\r\n                          required\r\n                          autoComplete=\"off\"\r\n                          placeholder=\"Doe\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"form-section\">\r\n                    <h4 className=\"form-section-title\">Contact Information</h4>\r\n                    <div className=\"form-grid\">\r\n                      <div className=\"form-group\">\r\n                        <label>Mobile Number</label>\r\n                        <input\r\n                          type=\"tel\"\r\n                          value={editForm.mobile_number}\r\n                          onChange={(e) => setEditForm({...editForm, mobile_number: e.target.value})}\r\n                          required\r\n                          autoComplete=\"off\"\r\n                          placeholder=\"+1 (555) 000-0000\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <label>Address</label>\r\n                        <textarea\r\n                          value={editForm.address}\r\n                          onChange={(e) => setEditForm({...editForm, address: e.target.value})}\r\n                          autoComplete=\"off\"\r\n                          rows={3}\r\n                          placeholder=\"123 Solar Street...\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"form-actions\" style={{ padding: '0 24px 24px 24px' }}>\r\n                  <button type=\"submit\" className=\"btn\">Save Changes</button>\r\n                  <button type=\"button\" onClick={handleCancel} className=\"btn btn-secondary\">Cancel</button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>User Management</h1>\r\n\r\n      <div className=\"card\">\r\n        <div className=\"card-header\">\r\n          <h2>Users ({filteredUsers.length})</h2>\r\n          <div className=\"card-actions\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search users...\"\r\n              value={searchTerm}\r\n              onChange={handleSearch}\r\n              className=\"search-input\"\r\n            />\r\n            <button onClick={() => setCreatingUser(true)} className=\"btn\">\r\n              Register New User\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th style={{ textAlign: 'center' }}>Name</th>\r\n              <th style={{ textAlign: 'center' }}>Email</th>\r\n              <th style={{ textAlign: 'center' }}>Mobile</th>\r\n              <th style={{ textAlign: 'center' }}>Address</th>\r\n              <th style={{ textAlign: 'center' }}>Joined</th>\r\n              <th style={{ textAlign: 'center' }}>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {filteredUsers.map((user) => (\r\n              <tr\r\n                key={user.id}\r\n                onClick={() => handleViewUser(user)}\r\n                style={{ cursor: 'pointer' }}\r\n                className=\"clickable-row\"\r\n              >\r\n                <td style={{ textAlign: 'center' }}>{user.first_name} {user.last_name}</td>\r\n                <td style={{ textAlign: 'center' }}>{user.email}</td>\r\n                <td style={{ textAlign: 'center' }}>{user.mobile_number || '-'}</td>\r\n                <td style={{ textAlign: 'center' }}>{user.address || '-'}</td>\r\n                <td style={{ textAlign: 'center' }}>\r\n                  {(() => {\r\n                    if (!user.date_joined) return 'N/A';\r\n                    const date = new Date(user.date_joined);\r\n                    return isNaN(date.getTime()) ? 'Invalid Date' : date.toLocaleDateString();\r\n                  })()}\r\n                </td>\r\n                <td style={{ textAlign: 'center' }} onClick={(e) => e.stopPropagation()}>\r\n                  <button onClick={() => handleEdit(user)} style={{ background: 'none', border: 'none', cursor: 'pointer', color: 'var(--text-secondary, #94a3b8)', margin: '0 6px' }} title=\"Edit\">\r\n                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                      <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"></path>\r\n                      <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"></path>\r\n                    </svg>\r\n                  </button>\r\n                  <button onClick={() => handleDelete(user)} style={{ background: 'none', border: 'none', cursor: 'pointer', color: 'var(--danger-color, #ef4444)', margin: '0 6px' }} title=\"Delete\">\r\n                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                      <polyline points=\"3,6 5,6 21,6\"></polyline>\r\n                      <path d=\"M19,6v14a2,2 0 0,1-2,2H7a2,2 0 0,1-2-2V6m3,0V4a2,2 0 0,1,2-2h4a2,2 0 0,1,2,2v2\"></path>\r\n                      <line x1=\"10\" y1=\"11\" x2=\"10\" y2=\"17\"></line>\r\n                      <line x1=\"14\" y1=\"11\" x2=\"14\" y2=\"17\"></line>\r\n                    </svg>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      {(editingUser || creatingUser) && (\r\n        <div className=\"modal\">\r\n          <div className=\"modal-content\">\r\n            <h3>{editingUser ? `Edit User: ${editingUser.username}` : 'Register New User'}</h3>\r\n            <form onSubmit={(e) => { e.preventDefault(); editingUser ? handleSave() : handleCreate(); }}>\r\n              <div className=\"modal-body\">\r\n\r\n                {/* Account Information */}\r\n                <div className=\"form-section\">\r\n                  <h4 className=\"form-section-title\">Account Information</h4>\r\n                  <div className=\"form-grid\">\r\n                    {creatingUser && (\r\n                      <>\r\n                        <input type=\"text\" autoComplete=\"username\" style={{display: 'none'}} />\r\n                        <input type=\"password\" autoComplete=\"current-password\" style={{display: 'none'}} />\r\n\r\n                        <div className=\"form-group\">\r\n                          <label>Username</label>\r\n                          <input\r\n                            type=\"text\"\r\n                            value={createForm.username}\r\n                            onChange={(e) => setCreateForm({...createForm, username: e.target.value})}\r\n                            required\r\n                            autoComplete=\"off\"\r\n                            placeholder=\"jdoe\"\r\n                          />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                          <label>Password</label>\r\n                          <input\r\n                            type=\"password\"\r\n                            value={createForm.password}\r\n                            onChange={(e) => setCreateForm({...createForm, password: e.target.value})}\r\n                            required\r\n                            autoComplete=\"new-password\"\r\n                            placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\r\n                          />\r\n                        </div>\r\n                      </>\r\n                    )}\r\n                    <div className=\"form-group\">\r\n                      <label>Email Address</label>\r\n                      <input\r\n                        type=\"email\"\r\n                        value={editingUser ? editForm.email : createForm.email}\r\n                        onChange={(e) => editingUser ? setEditForm({...editForm, email: e.target.value}) : setCreateForm({...createForm, email: e.target.value})}\r\n                        required\r\n                        autoComplete=\"off\"\r\n                        placeholder=\"john.doe@example.com\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Personal Details */}\r\n                <div className=\"form-section\">\r\n                  <h4 className=\"form-section-title\">Personal Details</h4>\r\n                  <div className=\"form-grid form-grid-2\">\r\n                    <div className=\"form-group\">\r\n                      <label>First Name</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={editingUser ? editForm.first_name : createForm.first_name}\r\n                        onChange={(e) => editingUser ? setEditForm({...editForm, first_name: e.target.value}) : setCreateForm({...createForm, first_name: e.target.value})}\r\n                        required\r\n                        autoComplete=\"off\"\r\n                        placeholder=\"John\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <label>Last Name</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={editingUser ? editForm.last_name : createForm.last_name}\r\n                        onChange={(e) => editingUser ? setEditForm({...editForm, last_name: e.target.value}) : setCreateForm({...createForm, last_name: e.target.value})}\r\n                        required\r\n                        autoComplete=\"off\"\r\n                        placeholder=\"Doe\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Contact Information */}\r\n                <div className=\"form-section\">\r\n                  <h4 className=\"form-section-title\">Contact Information</h4>\r\n                  <div className=\"form-grid\">\r\n                    <div className=\"form-group\">\r\n                      <label>Mobile Number</label>\r\n                      <input\r\n                        type=\"tel\"\r\n                        value={editingUser ? editForm.mobile_number : createForm.mobile_number}\r\n                        onChange={(e) => editingUser ? setEditForm({...editForm, mobile_number: e.target.value}) : setCreateForm({...createForm, mobile_number: e.target.value})}\r\n                        required\r\n                        autoComplete=\"off\"\r\n                        placeholder=\"+1 (555) 000-0000\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <label>Address</label>\r\n                      <textarea\r\n                        value={editingUser ? editForm.address : createForm.address}\r\n                        onChange={(e) => editingUser ? setEditForm({...editForm, address: e.target.value}) : setCreateForm({...createForm, address: e.target.value})}\r\n                        autoComplete=\"off\"\r\n                        rows={3}\r\n                        placeholder=\"123 Solar Street...\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n              <div className=\"form-actions\" style={{ padding: '0 24px 24px 24px' }}>\r\n                <button type=\"submit\" className=\"btn\">{editingUser ? 'Save Changes' : 'Create Customer'}</button>\r\n                <button type=\"button\" onClick={handleCancel} className=\"btn btn-secondary\">Cancel</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Modern Delete User Confirmation Modal */}\r\n      {deleteModal.show && deleteModal.user && (\r\n        <div style={{\r\n          position: 'fixed',\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          background: 'rgba(0,0,0,0.6)',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          zIndex: 1000,\r\n          backdropFilter: 'blur(4px)'\r\n        }}>\r\n          <div style={{\r\n            background: isDark ? '#2d2d2d' : 'white',\r\n            borderRadius: '16px',\r\n            padding: '2rem',\r\n            maxWidth: '500px',\r\n            width: '90%',\r\n            boxShadow: isDark ? '0 20px 60px rgba(0,0,0,0.6)' : '0 20px 60px rgba(0,0,0,0.3)',\r\n            border: isDark ? '2px solid #7f1d1d' : '2px solid #7f1d1d',\r\n            animation: 'slideIn 0.2s ease-out'\r\n          }}>\r\n            <div style={{ display: 'flex', alignItems: 'center', gap: '1rem', marginBottom: '1.5rem' }}>\r\n              <div style={{\r\n                width: '48px',\r\n                height: '48px',\r\n                borderRadius: '12px',\r\n                background: 'linear-gradient(135deg, #7f1d1d 0%, #991b1b 100%)',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                fontSize: '1.5rem',\r\n                animation: 'pulse 2s infinite'\r\n              }}>\r\n                üóëÔ∏è\r\n              </div>\r\n              <h3 style={{ fontSize: '1.5rem', fontWeight: '600', margin: 0, color: '#7f1d1d' }}>\r\n                Delete User\r\n              </h3>\r\n            </div>\r\n            \r\n            <div style={{ marginBottom: '1.5rem', color: isDark ? '#b0b0b0' : '#495057', lineHeight: '1.6' }}>\r\n              <p style={{ marginBottom: '1rem' }}>\r\n                Are you sure you want to delete user <strong style={{ color: isDark ? '#e0e0e0' : '#2c3e50' }}>{deleteModal.user.username}</strong>?\r\n              </p>\r\n              <div style={{\r\n                background: isDark ? 'rgba(127, 29, 29, 0.1)' : '#fee2e2',\r\n                border: isDark ? '1px solid rgba(127, 29, 29, 0.3)' : '1px solid #fecaca',\r\n                borderRadius: '8px',\r\n                padding: '0.75rem 1rem',\r\n                fontSize: '0.9rem',\r\n                color: isDark ? '#fca5a5' : '#991b1b'\r\n              }}>\r\n                <strong>‚ö†Ô∏è Warning:</strong> This will permanently delete the user account. Any devices associated with this user will become unassigned.\r\n              </div>\r\n            </div>\r\n            \r\n            <div style={{ display: 'flex', gap: '0.75rem', justifyContent: 'flex-end' }}>\r\n              <button\r\n                onClick={() => setDeleteModal({ show: false, user: null })}\r\n                style={{\r\n                  background: isDark ? '#3a3a3a' : '#e0e0e0',\r\n                  color: isDark ? '#e0e0e0' : '#495057',\r\n                  border: 'none',\r\n                  padding: '0.75rem 1.5rem',\r\n                  borderRadius: '8px',\r\n                  fontSize: '0.95rem',\r\n                  fontWeight: '600',\r\n                  cursor: 'pointer',\r\n                  transition: 'all 0.2s'\r\n                }}\r\n                onMouseOver={e => e.currentTarget.style.background = isDark ? '#4a4a4a' : '#d0d0d0'}\r\n                onMouseOut={e => e.currentTarget.style.background = isDark ? '#3a3a3a' : '#e0e0e0'}\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={confirmDelete}\r\n                style={{\r\n                  background: 'linear-gradient(135deg, #7f1d1d 0%, #991b1b 100%)',\r\n                  color: 'white',\r\n                  border: 'none',\r\n                  padding: '0.75rem 1.5rem',\r\n                  borderRadius: '8px',\r\n                  fontSize: '0.95rem',\r\n                  fontWeight: '600',\r\n                  cursor: 'pointer',\r\n                  boxShadow: '0 4px 12px rgba(127, 29, 29, 0.3)',\r\n                  transition: 'all 0.2s'\r\n                }}\r\n                onMouseOver={e => e.currentTarget.style.transform = 'translateY(-1px)'}\r\n                onMouseOut={e => e.currentTarget.style.transform = 'translateY(0)'}\r\n              >\r\n                Yes, Delete\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Modern Success Notification Modal */}\r\n      {successModal.show && (\r\n        <div style={{\r\n          position: 'fixed',\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          background: 'rgba(0,0,0,0.4)',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          zIndex: 1000,\r\n          backdropFilter: 'blur(2px)'\r\n        }}>\r\n          <div style={{\r\n            background: isDark ? '#2d2d2d' : 'white',\r\n            borderRadius: '16px',\r\n            padding: '2rem',\r\n            maxWidth: '450px',\r\n            width: '90%',\r\n            boxShadow: isDark ? '0 20px 60px rgba(0,0,0,0.6)' : '0 20px 60px rgba(0,0,0,0.3)',\r\n            border: isDark ? '1px solid #28a745' : '2px solid #28a745',\r\n            animation: 'slideIn 0.2s ease-out'\r\n          }}>\r\n            <div style={{ textAlign: 'center' }}>\r\n              <div style={{\r\n                width: '64px',\r\n                height: '64px',\r\n                borderRadius: '50%',\r\n                background: 'linear-gradient(135deg, #28a745 0%, #20c997 100%)',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                fontSize: '2rem',\r\n                margin: '0 auto 1rem',\r\n                animation: 'scaleIn 0.3s ease-out'\r\n              }}>\r\n                ‚úì\r\n              </div>\r\n              \r\n              <h3 style={{ fontSize: '1.5rem', fontWeight: '600', marginBottom: '1rem', color: isDark ? '#e0e0e0' : '#2c3e50' }}>\r\n                Success\r\n              </h3>\r\n              \r\n              <p style={{ color: isDark ? '#b0b0b0' : '#495057', lineHeight: '1.6', marginBottom: '1.5rem' }}>\r\n                {successModal.message}\r\n              </p>\r\n              \r\n              <button\r\n                onClick={() => setSuccessModal({ show: false, message: '' })}\r\n                style={{\r\n                  background: 'linear-gradient(135deg, #28a745 0%, #20c997 100%)',\r\n                  color: 'white',\r\n                  border: 'none',\r\n                  padding: '0.75rem 2rem',\r\n                  borderRadius: '8px',\r\n                  fontSize: '0.95rem',\r\n                  fontWeight: '600',\r\n                  cursor: 'pointer',\r\n                  boxShadow: '0 4px 12px rgba(40, 167, 69, 0.3)',\r\n                  transition: 'all 0.2s'\r\n                }}\r\n                onMouseOver={e => e.currentTarget.style.transform = 'translateY(-1px)'}\r\n                onMouseOut={e => e.currentTarget.style.transform = 'translateY(0)'}\r\n              >\r\n                Got it!\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","/**\r\n * Enhanced in-memory cache service for API responses\r\n * Features:\r\n * - TTL-based expiration\r\n * - Stale-while-revalidate pattern support\r\n * - Subscription system for real-time updates\r\n * - Pattern-based cache invalidation\r\n */\r\n\r\ninterface CacheEntry {\r\n  data: any;\r\n  timestamp: number;\r\n  expiresIn: number; // milliseconds\r\n  staleTime?: number; // Time after which data is considered stale but usable\r\n}\r\n\r\ninterface CacheSubscription {\r\n  callback: (data: any) => void;\r\n  pattern?: RegExp;\r\n}\r\n\r\nclass CacheService {\r\n  private cache: Map<string, CacheEntry> = new Map();\r\n  private subscribers: Map<string, Set<CacheSubscription>> = new Map();\r\n  private static readonly DEFAULT_TTL = 5 * 60 * 1000; // 5 minutes default\r\n  private static readonly LONG_TTL = 30 * 60 * 1000; // 30 minutes for static data\r\n  private static readonly REALTIME_TTL = 10 * 1000; // 10 seconds for real-time data\r\n  private static readonly STALE_TIME = 30 * 1000; // 30 seconds before data is stale\r\n\r\n  /**\r\n   * Set a cache entry and notify subscribers\r\n   */\r\n  set(key: string, data: any, ttlMs: number = CacheService.DEFAULT_TTL, staleTime?: number): void {\r\n    this.cache.set(key, {\r\n      data,\r\n      timestamp: Date.now(),\r\n      expiresIn: ttlMs,\r\n      staleTime: staleTime ?? Math.min(ttlMs / 2, CacheService.STALE_TIME),\r\n    });\r\n    \r\n    // Notify subscribers\r\n    this.notifySubscribers(key, data);\r\n  }\r\n\r\n  /**\r\n   * Get a cache entry if valid (returns null if expired)\r\n   */\r\n  get(key: string): any | null {\r\n    const entry = this.cache.get(key);\r\n    if (!entry) return null;\r\n\r\n    // Check if expired\r\n    const now = Date.now();\r\n    if (now - entry.timestamp > entry.expiresIn) {\r\n      this.cache.delete(key);\r\n      return null;\r\n    }\r\n\r\n    return entry.data;\r\n  }\r\n\r\n  /**\r\n   * Get cache entry even if stale (for stale-while-revalidate pattern)\r\n   * Returns { data, isStale } or null if no entry exists\r\n   */\r\n  getWithStaleStatus(key: string): { data: any; isStale: boolean; isExpired: boolean } | null {\r\n    const entry = this.cache.get(key);\r\n    if (!entry) return null;\r\n\r\n    const now = Date.now();\r\n    const age = now - entry.timestamp;\r\n    const isExpired = age > entry.expiresIn;\r\n    const isStale = age > (entry.staleTime ?? entry.expiresIn / 2);\r\n\r\n    // Remove if fully expired\r\n    if (isExpired) {\r\n      this.cache.delete(key);\r\n      return null;\r\n    }\r\n\r\n    return {\r\n      data: entry.data,\r\n      isStale,\r\n      isExpired: false,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Check if key exists and is not expired\r\n   */\r\n  has(key: string): boolean {\r\n    const entry = this.cache.get(key);\r\n    if (!entry) return false;\r\n\r\n    const now = Date.now();\r\n    if (now - entry.timestamp > entry.expiresIn) {\r\n      this.cache.delete(key);\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Check if cached data is stale but usable\r\n   */\r\n  isStale(key: string): boolean {\r\n    const entry = this.cache.get(key);\r\n    if (!entry) return true;\r\n\r\n    const now = Date.now();\r\n    const age = now - entry.timestamp;\r\n    return age > (entry.staleTime ?? entry.expiresIn / 2);\r\n  }\r\n\r\n  /**\r\n   * Clear a specific cache entry\r\n   */\r\n  clear(key: string): void {\r\n    this.cache.delete(key);\r\n  }\r\n\r\n  /**\r\n   * Clear cache entries matching a pattern\r\n   */\r\n  clearPattern(pattern: string | RegExp): void {\r\n    const regex = typeof pattern === 'string' ? new RegExp(pattern) : pattern;\r\n    const keysToDelete: string[] = [];\r\n    \r\n    this.cache.forEach((_, key) => {\r\n      if (regex.test(key)) {\r\n        keysToDelete.push(key);\r\n      }\r\n    });\r\n    \r\n    keysToDelete.forEach(key => this.cache.delete(key));\r\n  }\r\n\r\n  /**\r\n   * Clear all cache entries\r\n   */\r\n  clearAll(): void {\r\n    this.cache.clear();\r\n  }\r\n\r\n  /**\r\n   * Get cache size\r\n   */\r\n  size(): number {\r\n    return this.cache.size;\r\n  }\r\n\r\n  /**\r\n   * Subscribe to cache updates for a specific key\r\n   */\r\n  subscribe(key: string, callback: (data: any) => void): () => void {\r\n    if (!this.subscribers.has(key)) {\r\n      this.subscribers.set(key, new Set());\r\n    }\r\n    \r\n    const subscription: CacheSubscription = { callback };\r\n    this.subscribers.get(key)!.add(subscription);\r\n\r\n    // Return unsubscribe function\r\n    return () => {\r\n      const subs = this.subscribers.get(key);\r\n      if (subs) {\r\n        subs.delete(subscription);\r\n        if (subs.size === 0) {\r\n          this.subscribers.delete(key);\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Subscribe to cache updates matching a pattern\r\n   */\r\n  subscribePattern(pattern: RegExp, callback: (data: any) => void): () => void {\r\n    const key = `__pattern__${pattern.source}`;\r\n    if (!this.subscribers.has(key)) {\r\n      this.subscribers.set(key, new Set());\r\n    }\r\n    \r\n    const subscription: CacheSubscription = { callback, pattern };\r\n    this.subscribers.get(key)!.add(subscription);\r\n\r\n    return () => {\r\n      const subs = this.subscribers.get(key);\r\n      if (subs) {\r\n        subs.delete(subscription);\r\n        if (subs.size === 0) {\r\n          this.subscribers.delete(key);\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Notify all subscribers of a cache update\r\n   */\r\n  private notifySubscribers(key: string, data: any): void {\r\n    // Direct key subscribers\r\n    const directSubs = this.subscribers.get(key);\r\n    if (directSubs) {\r\n      directSubs.forEach(sub => {\r\n        try {\r\n          sub.callback(data);\r\n        } catch (error) {\r\n          console.error(`Cache subscriber error for key ${key}:`, error);\r\n        }\r\n      });\r\n    }\r\n\r\n    // Pattern subscribers\r\n    this.subscribers.forEach((subs, subKey) => {\r\n      if (subKey.startsWith('__pattern__')) {\r\n        subs.forEach(sub => {\r\n          if (sub.pattern && sub.pattern.test(key)) {\r\n            try {\r\n              sub.callback(data);\r\n            } catch (error) {\r\n              console.error(`Cache pattern subscriber error for key ${key}:`, error);\r\n            }\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get all keys in cache\r\n   */\r\n  keys(): string[] {\r\n    return Array.from(this.cache.keys());\r\n  }\r\n\r\n  /**\r\n   * Get cache stats for debugging\r\n   */\r\n  getStats(): { size: number; keys: string[]; subscribers: number } {\r\n    return {\r\n      size: this.cache.size,\r\n      keys: this.keys(),\r\n      subscribers: Array.from(this.subscribers.values()).reduce((sum, set) => sum + set.size, 0),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get TTL constants\r\n   */\r\n  static getTTL(type: 'short' | 'long' | 'realtime' = 'short'): number {\r\n    switch (type) {\r\n      case 'realtime':\r\n        return CacheService.REALTIME_TTL;\r\n      case 'long':\r\n        return CacheService.LONG_TTL;\r\n      default:\r\n        return CacheService.DEFAULT_TTL;\r\n    }\r\n  }\r\n}\r\n\r\nexport const cacheService = new CacheService();\r\nexport const DEFAULT_TTL = 5 * 60 * 1000; // 5 minutes\r\nexport const LONG_TTL = 30 * 60 * 1000; // 30 minutes\r\nexport const REALTIME_TTL = 10 * 1000; // 10 seconds\r\n","import { cacheService, DEFAULT_TTL } from './cacheService';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'https://smart-solar-django-backend.vercel.app/api';\r\n\r\nclass ApiService {\r\n  private getAuthHeaders(): HeadersInit {\r\n    const tokens = localStorage.getItem('authTokens');\r\n    if (tokens) {\r\n      try {\r\n        const parsedTokens = JSON.parse(tokens);\r\n        return {\r\n          'Authorization': `Bearer ${parsedTokens.access}`,\r\n          'Content-Type': 'application/json',\r\n        };\r\n      } catch (error) {\r\n        console.error('Error parsing auth tokens:', error);\r\n      }\r\n    }\r\n    return {\r\n      'Content-Type': 'application/json',\r\n    };\r\n  }\r\n\r\n  private async request(endpoint: string, options: RequestInit = {}): Promise<any> {\r\n    const url = `${API_BASE_URL}${endpoint}`;\r\n    let headers = this.getAuthHeaders();\r\n\r\n    let response = await fetch(url, {\r\n      ...options,\r\n      headers: {\r\n        ...headers,\r\n        ...options.headers,\r\n      },\r\n    });\r\n\r\n    if (response.status === 401) {\r\n      // Try to refresh token\r\n      const refreshSuccess = await this.refreshToken();\r\n      if (refreshSuccess) {\r\n        // Retry with new token\r\n        headers = this.getAuthHeaders();\r\n        response = await fetch(url, {\r\n          ...options,\r\n          headers: {\r\n            ...headers,\r\n            ...options.headers,\r\n          },\r\n        });\r\n      }\r\n    }\r\n\r\n    if (response.status === 401) {\r\n      // Token refresh failed or not attempted, logout\r\n      localStorage.removeItem('authTokens');\r\n      localStorage.removeItem('authUser');\r\n      window.location.href = '/login';\r\n      throw new Error('Authentication required');\r\n    }\r\n\r\n    if (!response.ok) {\r\n      const errorText = await response.text();\r\n      throw new Error(`API request failed: ${response.status} ${response.statusText} - ${errorText}`);\r\n    }\r\n\r\n    if (response.status === 204) return null;\r\n    return response.json();\r\n  }\r\n\r\n  private async refreshToken(): Promise<boolean> {\r\n    const tokens = localStorage.getItem('authTokens');\r\n    if (!tokens) return false;\r\n\r\n    try {\r\n      const parsedTokens = JSON.parse(tokens);\r\n      const response = await fetch(`${API_BASE_URL}/auth/token/refresh/`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ refresh: parsedTokens.refresh }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        const newTokens = {\r\n          access: data.access,\r\n          refresh: parsedTokens.refresh, // Keep the same refresh token\r\n        };\r\n        localStorage.setItem('authTokens', JSON.stringify(newTokens));\r\n        return true;\r\n      }\r\n    } catch (error) {\r\n      console.error('Token refresh failed:', error);\r\n    }\r\n    return false;\r\n  }\r\n\r\n  async getConfiguration(): Promise<any> {\r\n    return this.request('/config/');\r\n  }\r\n\r\n  async getTelemetry(): Promise<any[]> {\r\n    return this.request('/telemetry/');\r\n  }\r\n\r\n  async provisionDevice(data: any): Promise<any> {\r\n    const response = await fetch(`${API_BASE_URL}/devices/provision`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n    if (!response.ok) {\r\n      throw new Error(`Provisioning failed: ${response.statusText}`);\r\n    }\r\n    return response.json();\r\n  }\r\n\r\n  async getAlerts(): Promise<any[]> {\r\n    const cacheKey = 'alerts';\r\n    const cached = cacheService.get(cacheKey);\r\n    if (cached) return cached;\r\n\r\n    const data = await this.request('/alerts/');\r\n    cacheService.set(cacheKey, data, DEFAULT_TTL);\r\n    return data;\r\n  }\r\n\r\n  async getSystemHealth(): Promise<any> {\r\n    const cacheKey = 'system_health';\r\n    const cached = cacheService.get(cacheKey);\r\n    if (cached) return cached;\r\n\r\n    const data = await this.request('/health/');\r\n    cacheService.set(cacheKey, data, DEFAULT_TTL);\r\n    return data;\r\n  }\r\n\r\n  async getKPIs(): Promise<any> {\r\n    const cacheKey = 'kpis';\r\n    const cached = cacheService.get(cacheKey);\r\n    if (cached) return cached;\r\n\r\n    const data = await this.request('/kpis/');\r\n    cacheService.set(cacheKey, data, DEFAULT_TTL);\r\n    return data;\r\n  }\r\n\r\n  async getUsers(search?: string): Promise<any[]> {\r\n    const cacheKey = `users_${search || 'all'}`;\r\n    const cached = cacheService.get(cacheKey);\r\n    if (cached) return cached;\r\n\r\n    const params = search ? `?search=${encodeURIComponent(search)}` : '';\r\n    const data = await this.request(`/users/${params}`);\r\n    cacheService.set(cacheKey, data, DEFAULT_TTL);\r\n    return data;\r\n  }\r\n\r\n  async createUser(userData: any): Promise<any> {\r\n    const result = await this.request('/users/create/', {\r\n      method: 'POST',\r\n      body: JSON.stringify(userData),\r\n    });\r\n    // Invalidate users cache\r\n    cacheService.clear('users_all');\r\n    cacheService.clearAll(); // Clear all cache for safety\r\n    return result;\r\n  }\r\n\r\n  async createEmployee(employeeData: any): Promise<any> {\r\n    const result = await this.request('/users/create/', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ ...employeeData, is_staff: true }),\r\n    });\r\n    cacheService.clear('users_all');\r\n    return result;\r\n  }\r\n\r\n  async getUserDevices(userId: number): Promise<any[]> {\r\n    return this.request(`/users/${userId}/devices/`);\r\n  }\r\n\r\n  async getUserSite(userId: number): Promise<any> {\r\n    return this.request(`/users/${userId}/site/`);\r\n  }\r\n\r\n  async createUserSite(userId: number, data: Record<string, unknown>): Promise<any> {\r\n    return this.request(`/users/${userId}/site/`, {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  async updateUserSite(userId: number, data: Record<string, unknown>): Promise<any> {\r\n    return this.request(`/users/${userId}/site/update/`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  async getDeviceSite(deviceId: number): Promise<any> {\r\n    return this.request(`/devices/${deviceId}/site/`);\r\n  }\r\n\r\n  async createDeviceSite(deviceId: number, data: Record<string, unknown>): Promise<any> {\r\n    return this.request(`/devices/${deviceId}/site/`, {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  async updateDeviceSite(deviceId: number, data: Record<string, unknown>): Promise<any> {\r\n    return this.request(`/devices/${deviceId}/site/update/`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  // DynamoDB site data\r\n  async getSiteTelemetry(siteId: string, params?: { start_date?: string; end_date?: string; days?: number }): Promise<any[]> {\r\n    const query = new URLSearchParams();\r\n    if (params?.start_date) query.append('start_date', params.start_date);\r\n    if (params?.end_date) query.append('end_date', params.end_date);\r\n    if (params?.days) query.append('days', params.days.toString());\r\n    const url = `/sites/${siteId}/telemetry/${query.toString() ? '?' + query.toString() : ''}`;\r\n    return this.request(url);\r\n  }\r\n\r\n  async getSiteForecast(siteId: string, params?: { date?: string; start_date?: string; end_date?: string }): Promise<any[]> {\r\n    const query = new URLSearchParams();\r\n    if (params?.date) query.append('date', params.date);\r\n    if (params?.start_date) query.append('start_date', params.start_date);\r\n    if (params?.end_date) query.append('end_date', params.end_date);\r\n    const url = `/sites/${siteId}/forecast/${query.toString() ? '?' + query.toString() : ''}`;\r\n    return this.request(url);\r\n  }\r\n\r\n  /**\r\n   * Returns { current: WeatherObs | null, hourly_forecast: WeatherFcst[] }\r\n   *   current.obs_timestamp    ‚Äî ISO UTC of the observation\r\n   *   current.ghi_wm2          ‚Äî global horizontal irradiance (W/m¬≤)\r\n   *   current.temperature_c    ‚Äî air temperature (¬∞C)\r\n   *   current.humidity_pct     ‚Äî relative humidity (%)\r\n   *   current.wind_speed_ms    ‚Äî wind speed (m/s)\r\n   *   current.cloud_cover_pct  ‚Äî cloud cover (%)\r\n   *   hourly_forecast[n].forecast_for ‚Äî ISO UTC of the forecast slot\r\n   *   hourly_forecast[n].ghi_wm2 ‚Ä¶   ‚Äî same fields as current\r\n   */\r\n  async getSiteWeather(siteId: string): Promise<{ current: any | null; hourly_forecast: any[] } | null> {\r\n    return this.request(`/sites/${siteId}/weather/`);\r\n  }\r\n\r\n  async updateUser(userId: number, data: any): Promise<any> {\r\n    const result = await this.request(`/users/${userId}/`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(data),\r\n    });\r\n    cacheService.clear('users_all');\r\n    return result;\r\n  }\r\n\r\n  async deleteUser(userId: number): Promise<any> {\r\n    const result = await this.request(`/users/${userId}/delete/`, {\r\n      method: 'DELETE',\r\n    });\r\n    cacheService.clear('users_all');\r\n    return result;\r\n  }\r\n\r\n  // Profile Management (for current logged-in user)\r\n  async getProfile(): Promise<any> {\r\n    return this.request('/profile/');\r\n  }\r\n\r\n  async updateProfile(data: any): Promise<any> {\r\n    return this.request('/profile/update/', {\r\n      method: 'PUT',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  async changePassword(data: { current_password: string; new_password: string }): Promise<any> {\r\n    return this.request('/profile/change-password/', {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  // Customer Management (separate from staff users/employees)\r\n  async getCustomers(search?: string): Promise<any[]> {\r\n    const params = search ? `?search=${encodeURIComponent(search)}` : '';\r\n    return this.request(`/customers/${params}`);\r\n  }\r\n\r\n  async createCustomer(customerData: any): Promise<any> {\r\n    return this.request('/customers/create/', {\r\n      method: 'POST',\r\n      body: JSON.stringify(customerData),\r\n    });\r\n  }\r\n\r\n  async getCustomer(customerId: number): Promise<any> {\r\n    return this.request(`/customers/${customerId}/`);\r\n  }\r\n\r\n  async updateCustomer(customerId: number, data: any): Promise<any> {\r\n    return this.request(`/customers/${customerId}/update/`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  async deleteCustomer(customerId: number): Promise<any> {\r\n    return this.request(`/customers/${customerId}/delete/`, {\r\n      method: 'DELETE',\r\n    });\r\n  }\r\n\r\n  async getPresets(): Promise<any[]> {\r\n    const cacheKey = 'presets';\r\n    const cached = cacheService.get(cacheKey);\r\n    if (cached) return cached;\r\n\r\n    const data = await this.request('/presets/');\r\n    // Use longer TTL for presets as they change less frequently\r\n    cacheService.set(cacheKey, data, 30 * 60 * 1000); // 30 minutes\r\n    return data;\r\n  }\r\n\r\n  async createPreset(data: any): Promise<any> {\r\n    const result = await this.request('/presets/create/', {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n    });\r\n    cacheService.clear('presets');\r\n    return result;\r\n  }\r\n\r\n  async updatePreset(id: number, data: any): Promise<any> {\r\n    const result = await this.request(`/presets/${id}/`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(data),\r\n    });\r\n    cacheService.clear('presets');\r\n    return result;\r\n  }\r\n\r\n  async deletePreset(id: number): Promise<any> {\r\n    const result = await this.request(`/presets/${id}/delete/`, {\r\n      method: 'DELETE',\r\n    });\r\n    cacheService.clear('presets');\r\n    return result;\r\n  }\r\n\r\n  async getGlobalSlaves(): Promise<any[]> {\r\n    return this.request('/slaves/');\r\n  }\r\n\r\n  async createGlobalSlave(slaveData: any): Promise<any> {\r\n    return this.request('/slaves/create/', {\r\n      method: 'POST',\r\n      body: JSON.stringify(slaveData),\r\n    });\r\n  }\r\n\r\n  async updateGlobalSlave(slaveId: number, slaveData: any): Promise<any> {\r\n    return this.request(`/slaves/${slaveId}/`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(slaveData),\r\n    });\r\n  }\r\n\r\n  async deleteGlobalSlave(slaveId: number): Promise<any> {\r\n    return this.request(`/slaves/${slaveId}/delete/`, {\r\n      method: 'DELETE',\r\n    });\r\n  }\r\n\r\n  async getDevices(search?: string, page: number = 1, pageSize: number = 25): Promise<any> {\r\n    const params = new URLSearchParams();\r\n    if (search) params.append('search', search);\r\n    params.append('page', page.toString());\r\n    params.append('page_size', pageSize.toString());\r\n    \r\n    const queryString = params.toString();\r\n    return this.request(`/devices/?${queryString}`);\r\n  }\r\n\r\n  async createDevice(deviceData: any): Promise<any> {\r\n    return this.request('/devices/create/', {\r\n      method: 'POST',\r\n      body: JSON.stringify(deviceData),\r\n    });\r\n  }\r\n\r\n  async updateDevice(deviceId: number, data: any): Promise<any> {\r\n    return this.request(`/devices/${deviceId}/`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  async deleteDevice(deviceId: number): Promise<any> {\r\n    return this.request(`/devices/${deviceId}/delete/`, {\r\n      method: 'DELETE',\r\n    });\r\n  }\r\n\r\n  async rebootDevice(deviceId: number): Promise<any> {\r\n    return this.request(`/devices/${deviceId}/reboot/`, {\r\n      method: 'POST',\r\n    });\r\n  }\r\n\r\n  async hardResetDevice(deviceId: number): Promise<any> {\r\n    return this.request(`/devices/${deviceId}/hard-reset/`, {\r\n      method: 'POST',\r\n    });\r\n  }\r\n\r\n  async getDeviceLogs(deviceId: number, limit: number = 100, offset: number = 0): Promise<any> {\r\n    return this.request(`/devices/${deviceId}/logs/?limit=${limit}&offset=${offset}`);\r\n  }\r\n\r\n  async toggleDeviceLogs(deviceId: number, enabled: boolean): Promise<any> {\r\n    return this.request(`/devices/${deviceId}/logs/toggle/`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({ enabled }),\r\n    });\r\n  }\r\n\r\n  async deleteDevicesBulk(deviceIds: number[]): Promise<any> {\r\n    return this.request(`/devices/delete-bulk/`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({ device_ids: deviceIds }),\r\n    });\r\n  }\r\n\r\n  async getSlaves(configId: string): Promise<any[]> {\r\n    return this.request(`/presets/${configId}/slaves/`);\r\n  }\r\n\r\n  async createSlave(configId: string, slaveData: any): Promise<any> {\r\n    return this.request(`/presets/${configId}/slaves/create/`, {\r\n      method: 'POST',\r\n      body: JSON.stringify(slaveData),\r\n    });\r\n  }\r\n\r\n  async updateSlave(configId: string, slaveId: number, slaveData: any): Promise<any> {\r\n    return this.request(`/presets/${configId}/slaves/${slaveId}/`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(slaveData),\r\n    });\r\n  }\r\n\r\n  async deleteSlave(configId: string, slaveId: number): Promise<any> {\r\n    return this.request(`/presets/${configId}/slaves/${slaveId}/delete/`, {\r\n      method: 'DELETE',\r\n    });\r\n  }\r\n\r\n  async addSlavesToPreset(configId: string, slaveIds: number[]): Promise<any> {\r\n    return this.request(`/presets/${configId}/slaves/add/`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({ slave_ids: slaveIds }),\r\n    });\r\n  }\r\n\r\n  async detachSlaveFromPreset(configId: string, slaveId: number): Promise<any> {\r\n    return this.request(`/presets/${configId}/slaves/${slaveId}/detach/`, {\r\n      method: 'POST',\r\n    });\r\n  }\r\n\r\n  // OTA (Over-The-Air) Update Endpoints\r\n  async getFirmwareVersions(activeOnly: boolean = true): Promise<any> {\r\n    const params = new URLSearchParams();\r\n    params.append('active', activeOnly.toString());\r\n    return this.request(`/ota/firmware/?${params.toString()}`);\r\n  }\r\n\r\n  async uploadFirmwareVersion(formData: FormData): Promise<any> {\r\n    const url = `${API_BASE_URL}/ota/firmware/create/`;\r\n    const tokens = localStorage.getItem('authTokens');\r\n    \r\n    if (!tokens) {\r\n      throw new Error('Authentication required');\r\n    }\r\n    \r\n    const parsedTokens = JSON.parse(tokens);\r\n    let headers: HeadersInit = {\r\n      'Authorization': `Bearer ${parsedTokens.access}`,\r\n    };\r\n    // Don't set Content-Type - let browser set it with boundary for multipart/form-data\r\n    \r\n    let response = await fetch(url, {\r\n      method: 'POST',\r\n      headers,\r\n      body: formData,\r\n    });\r\n\r\n    // Handle 401 with token refresh\r\n    if (response.status === 401) {\r\n      const refreshSuccess = await this.refreshToken();\r\n      if (refreshSuccess) {\r\n        const newTokens = JSON.parse(localStorage.getItem('authTokens') || '{}');\r\n        headers = {\r\n          'Authorization': `Bearer ${newTokens.access}`,\r\n        };\r\n        response = await fetch(url, {\r\n          method: 'POST',\r\n          headers,\r\n          body: formData,\r\n        });\r\n      }\r\n    }\r\n\r\n    if (response.status === 401) {\r\n      localStorage.removeItem('authTokens');\r\n      localStorage.removeItem('authUser');\r\n      window.location.href = '/login';\r\n      throw new Error('Authentication required');\r\n    }\r\n\r\n    if (!response.ok) {\r\n      const errorText = await response.text();\r\n      throw new Error(`Upload failed: ${response.status} ${response.statusText} - ${errorText}`);\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  async updateFirmwareVersion(firmwareId: number, data: any): Promise<any> {\r\n    return this.request(`/ota/firmware/${firmwareId}/`, {\r\n      method: 'PATCH',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  async deleteFirmwareVersion(firmwareId: number): Promise<any> {\r\n    return this.request(`/ota/firmware/${firmwareId}/delete/`, {\r\n      method: 'DELETE',\r\n    });\r\n  }\r\n\r\n  async getDeviceUpdateLogs(deviceId: string): Promise<any> {\r\n    return this.request(`/ota/devices/${deviceId}/logs`);\r\n  }\r\n\r\n  async getOTAConfig(): Promise<any> {\r\n    return this.request(`/ota/config/`);\r\n  }\r\n\r\n  async updateOTAConfig(config: any): Promise<any> {\r\n    return this.request(`/ota/config/update/`, {\r\n      method: 'PATCH',\r\n      body: JSON.stringify(config),\r\n    });\r\n  }\r\n\r\n  async getOTAHealth(): Promise<any> {\r\n    return this.request(`/ota/health/`);\r\n  }\r\n\r\n  async triggerRollback(deviceSerial: string, notes?: string): Promise<any> {\r\n    return this.request(`/ota/updates/rollback/`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        device_serial: deviceSerial,\r\n        notes: notes || ''\r\n      }),\r\n    });\r\n  }\r\n\r\n  async deployFirmware(firmwareId: number, deviceSerials: string[], notes?: string): Promise<any> {\r\n    return this.request(`/ota/updates/multiple/`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        firmware_id: firmwareId,\r\n        device_serials: deviceSerials,\r\n        notes: notes || ''\r\n      }),\r\n    });\r\n  }\r\n\r\n  async listTargetedUpdates(): Promise<any> {\r\n    return this.request(`/ota/updates/`);\r\n  }\r\n\r\n  async getTargetedUpdate(updateId: number): Promise<any> {\r\n    return this.request(`/ota/updates/${updateId}/`);\r\n  }\r\n}\r\n\r\nexport const apiService = new ApiService();"],"names":["Users","navigate","useNavigate","isDark","useTheme","users","setUsers","useState","filteredUsers","setFilteredUsers","loading","setLoading","error","setError","editingUser","setEditingUser","creatingUser","setCreatingUser","searchTerm","setSearchTerm","selectedUser","setSelectedUser","userDevices","setUserDevices","loadingDevices","setLoadingDevices","editForm","setEditForm","first_name","last_name","email","mobile_number","address","createForm","setCreateForm","username","password","deleteModal","setDeleteModal","show","user","successModal","setSuccessModal","message","useEffect","fetchUsers","debouncedSearchTerm","setDebouncedSearchTerm","timer","setTimeout","clearTimeout","async","filteredData","apiService","getUsers","search","filter","is_staff","err","Error","handleEdit","handleSave","updateUser","id","handleBackToList","handleCancel","_jsx","className","children","_jsxs","style","display","alignItems","marginBottom","onClick","marginRight","margin","padding","gridTemplateColumns","gap","date_joined","Date","toLocaleDateString","length","textAlign","color","map","device","concat","cursor","fontFamily","fontSize","device_serial","hw_id","model","config_version","provisioned_at","onSubmit","e","preventDefault","type","value","onChange","_objectSpread","target","required","autoComplete","placeholder","rows","devices","getUserDevices","console","handleViewUser","date","isNaN","getTime","stopPropagation","background","border","title","width","height","viewBox","fill","stroke","strokeWidth","d","log","handleDelete","points","x1","y1","x2","y2","createUser","handleCreate","_Fragment","position","top","left","right","bottom","justifyContent","zIndex","backdropFilter","borderRadius","maxWidth","boxShadow","animation","fontWeight","lineHeight","transition","onMouseOver","currentTarget","onMouseOut","deleteUser","u","transform","CacheService","constructor","cache","Map","subscribers","set","key","data","ttlMs","arguments","undefined","DEFAULT_TTL","staleTime","this","timestamp","now","expiresIn","Math","min","STALE_TIME","notifySubscribers","get","entry","delete","getWithStaleStatus","_entry$staleTime","age","isExpired","isStale","has","_entry$staleTime2","clear","clearPattern","pattern","regex","RegExp","keysToDelete","forEach","_","test","push","clearAll","size","subscribe","callback","Set","subscription","add","subs","subscribePattern","source","directSubs","sub","subKey","startsWith","keys","Array","from","getStats","values","reduce","sum","getTTL","REALTIME_TTL","LONG_TTL","cacheService","API_BASE_URL","process","getAuthHeaders","tokens","localStorage","getItem","parsedTokens","JSON","parse","access","request","endpoint","options","url","headers","response","fetch","status","refreshToken","removeItem","window","location","href","ok","errorText","text","statusText","json","method","body","stringify","refresh","newTokens","setItem","getConfiguration","getTelemetry","provisionDevice","getAlerts","cacheKey","cached","getSystemHealth","getKPIs","params","encodeURIComponent","userData","result","createEmployee","employeeData","userId","getUserSite","createUserSite","updateUserSite","getDeviceSite","deviceId","createDeviceSite","updateDeviceSite","getSiteTelemetry","siteId","query","URLSearchParams","start_date","append","end_date","days","toString","getSiteForecast","getSiteWeather","getProfile","updateProfile","changePassword","getCustomers","createCustomer","customerData","getCustomer","customerId","updateCustomer","deleteCustomer","getPresets","createPreset","updatePreset","deletePreset","getGlobalSlaves","createGlobalSlave","slaveData","updateGlobalSlave","slaveId","deleteGlobalSlave","getDevices","page","pageSize","queryString","createDevice","deviceData","updateDevice","deleteDevice","rebootDevice","hardResetDevice","getDeviceLogs","limit","offset","toggleDeviceLogs","enabled","deleteDevicesBulk","deviceIds","device_ids","getSlaves","configId","createSlave","updateSlave","deleteSlave","addSlavesToPreset","slaveIds","slave_ids","detachSlaveFromPreset","getFirmwareVersions","activeOnly","uploadFirmwareVersion","formData","updateFirmwareVersion","firmwareId","deleteFirmwareVersion","getDeviceUpdateLogs","getOTAConfig","updateOTAConfig","config","getOTAHealth","triggerRollback","deviceSerial","notes","deployFirmware","deviceSerials","firmware_id","device_serials","listTargetedUpdates","getTargetedUpdate","updateId"],"sourceRoot":""}