"use strict";(self.webpackChunksmart_solar_frontend=self.webpackChunksmart_solar_frontend||[]).push([[392],{392:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var s=r(2555),a=r(5043),n=r(5475),o=r(5560);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;const[r,s]=(0,a.useState)(null),n=(0,a.useCallback)(function(){for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];r&&clearTimeout(r);const i=setTimeout(()=>{e(...n)},t);s(i)},[e,t,r]);return(0,a.useEffect)(()=>()=>{r&&clearTimeout(r)},[r]),n}var c=r(9550),l=r(579);const d=()=>{var e,t;const[r,d]=(0,a.useState)([]),[u,h]=(0,a.useState)([]),[p,g]=(0,a.useState)(!0),[v,y]=(0,a.useState)(null),[m,f]=(0,a.useState)(null),[x,b]=(0,a.useState)(!1),[j,S]=(0,a.useState)(""),[w,A]=(0,a.useState)(""),[_,T]=(0,a.useState)([]),[k,N]=(0,a.useState)(!1),[C,D]=(0,a.useState)([]),[E,q]=(0,a.useState)(new Set),[O,L]=(0,a.useState)(!1),[P,U]=(0,a.useState)(1),[z,J]=(0,a.useState)(25),[I,B]=(0,a.useState)(0),[M,F]=(0,a.useState)(0),[R,H]=(0,a.useState)({device_serial:"",user:"",config_version:""}),[K,W]=(0,a.useState)({device_serial:"",user:"",config_version:""}),V=(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{g(!0);const r=await o.K.getDevices(t||void 0,e,z);r.results?(d(r.results),h(r.results),B(r.count),F(r.total_pages),U(r.current_page)):(d(Array.isArray(r)?r:[]),h(Array.isArray(r)?r:[]),B(Array.isArray(r)?r.length:0),F(1),U(1)),g(!1)}catch(r){y(r instanceof Error?r.message:"An error occurred"),g(!1)}},[z]);(0,a.useEffect)(()=>{(async()=>{try{const e=await o.K.getUsers();D(e)}catch(e){console.error("Failed to fetch users:",e),y("Failed to load users for device assignment")}})()},[]),(0,a.useEffect)(()=>{V(P,j)},[P,j,z,V]),(0,a.useEffect)(()=>{const e=()=>{N(!1)};return k&&document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[k]),(0,a.useEffect)(()=>{if(""===w.trim())T(C);else{const e=w.toLowerCase(),t=C.filter(t=>{const r="".concat(t.first_name," ").concat(t.last_name).toLowerCase();return t.username.toLowerCase().includes(e)||t.first_name.toLowerCase().includes(e)||t.last_name.toLowerCase().includes(e)||r.includes(e)||t.email.toLowerCase().includes(e)});T(t)}},[C,w]);const G=i(e=>{},300);return p?(0,l.jsx)("div",{className:"loading",children:"Loading devices..."}):v?(0,l.jsxs)("div",{className:"error",children:["Error: ",v]}):(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{children:"Device Management"}),(0,l.jsxs)("div",{className:"card",children:[(0,l.jsxs)("div",{className:"card-header",children:[(0,l.jsxs)("h2",{children:["Devices (",u.length,")"]}),(0,l.jsxs)("div",{className:"card-actions",children:[(0,l.jsx)("input",{type:"text",placeholder:"Search devices...",value:j,onChange:e=>{const t=e.target.value;S(t),U(1),G(t)},className:"search-input"}),E.size>0&&(0,l.jsx)("button",{onClick:async()=>{if(0===E.size)return void y("No devices selected for deletion");const e=Array.from(E).map(e=>r.find(t=>t.id===e)).filter(Boolean),t="Are you sure you want to delete ".concat(E.size," device(s)?\n\n").concat(e.map(e=>null===e||void 0===e?void 0:e.device_serial).join(", "));if(window.confirm(t))try{L(!0),await o.K.deleteDevicesBulk(Array.from(E)),q(new Set),await V(P,j),L(!1)}catch(s){L(!1),console.error("Bulk delete error:",s),y(s instanceof Error?s.message:"Failed to delete devices")}},disabled:O,style:{background:"var(--danger-color, #ef4444)",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",cursor:O?"not-allowed":"pointer",fontSize:"0.875rem",fontWeight:"500",opacity:O?"0.6":"1"},children:O?"Deleting ".concat(E.size,"..."):"Delete Selected (".concat(E.size,")")}),(0,l.jsx)("button",{onClick:()=>{b(!0),A(""),N(!1)},className:"btn",children:"Register New Device"})]})]}),(0,l.jsxs)("table",{className:"table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{style:{textAlign:"center",width:"40px"},children:(0,l.jsx)("input",{type:"checkbox",checked:E.size===u.length&&u.length>0,onChange:()=>{if(E.size===u.length)q(new Set);else{const e=new Set(u.map(e=>e.id));q(e)}},title:"Select all displayed devices"})}),(0,l.jsx)("th",{style:{textAlign:"center"},children:"Device Serial"}),(0,l.jsx)("th",{style:{textAlign:"center"},children:"Assigned To"}),(0,l.jsx)("th",{style:{textAlign:"center"},children:"Created By"}),(0,l.jsx)("th",{style:{textAlign:"center"},children:"Config Version"}),(0,l.jsx)("th",{style:{textAlign:"center"},children:"Provisioned At"}),(0,l.jsx)("th",{style:{textAlign:"center"},children:"Actions"})]})}),(0,l.jsx)("tbody",{children:u.map(e=>(0,l.jsxs)("tr",{style:{background:E.has(e.id)?"rgba(99, 102, 241, 0.1)":"transparent"},children:[(0,l.jsx)("td",{style:{textAlign:"center"},children:(0,l.jsx)("input",{type:"checkbox",checked:E.has(e.id),onChange:()=>(e=>{const t=new Set(E);t.has(e)?t.delete(e):t.add(e),q(t)})(e.id)})}),(0,l.jsx)("td",{style:{textAlign:"center"},children:(0,l.jsx)(n.N_,{to:"/devices/".concat(e.device_serial),className:"text-blue-600 hover:text-blue-800 hover:underline font-medium",children:e.device_serial})}),(0,l.jsx)("td",{style:{textAlign:"center"},children:e.user||"-"}),(0,l.jsx)("td",{style:{textAlign:"center",fontSize:"0.875rem",color:"var(--text-secondary, #94a3b8)"},children:e.created_by_username||"-"}),(0,l.jsx)("td",{style:{textAlign:"center"},children:e.config_version||"-"}),(0,l.jsx)("td",{style:{textAlign:"center"},children:(()=>{if(!e.provisioned_at)return"N/A";const t=new Date(e.provisioned_at);return isNaN(t.getTime())?"Invalid Date":t.toLocaleDateString()})()}),(0,l.jsxs)("td",{style:{textAlign:"center"},children:[(0,l.jsx)("button",{onClick:()=>(e=>{var t,r;f(e),H({device_serial:e.device_serial,user:e.user||"",config_version:e.config_version||""}),A(e.user?"".concat(null===(t=C.find(t=>t.username===e.user))||void 0===t?void 0:t.first_name," ").concat(null===(r=C.find(t=>t.username===e.user))||void 0===r?void 0:r.last_name," (").concat(e.user,")"):""),N(!1)})(e),style:{background:"none",border:"none",cursor:"pointer",color:"var(--text-secondary, #94a3b8)"},title:"Edit",children:(0,l.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,l.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,l.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),(0,l.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete device ".concat(e.device_serial,"?")))try{console.log("Deleting device with ID:",e.id,"Serial:",e.device_serial),await o.K.deleteDevice(e.id),await V(P,j)}catch(t){console.error("Delete error:",t),y(t instanceof Error?t.message:"Failed to delete device")}})(e),style:{background:"none",border:"none",cursor:"pointer",color:"var(--danger-color, #ef4444)"},title:"Delete",children:(0,l.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,l.jsx)("polyline",{points:"3,6 5,6 21,6"}),(0,l.jsx)("path",{d:"M19,6v14a2,2 0 0,1-2,2H7a2,2 0 0,1-2-2V6m3,0V4a2,2 0 0,1,2-2h4a2,2 0 0,1,2,2v2"}),(0,l.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),(0,l.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})]})]},e.id))})]}),I>0&&(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px",borderTop:"1px solid var(--border-color, rgba(148, 163, 184, 0.1))",gap:"16px"},children:[(0,l.jsxs)("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary, #94a3b8)"},children:["Showing ",(P-1)*z+1," - ",Math.min(P*z,I)," of ",I," devices"]}),(0,l.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,l.jsx)("button",{onClick:()=>U(Math.max(1,P-1)),disabled:1===P,style:{padding:"8px 12px",border:"1px solid var(--border-color, rgba(148, 163, 184, 0.2))",borderRadius:"6px",background:1===P?"rgba(148, 163, 184, 0.1)":"transparent",color:"var(--text-primary, #f8fafc)",cursor:1===P?"not-allowed":"pointer",opacity:1===P?"0.5":"1"},children:"\u2190 Previous"}),(0,l.jsx)("div",{style:{display:"flex",gap:"4px",alignItems:"center"},children:(()=>{const e=[];for(let r=1;r<=M;r++){var t;1===r||r===M||Math.abs(r-P)<=1?e.push((0,l.jsx)("button",{onClick:()=>U(r),style:{padding:"6px 10px",border:"1px solid var(--border-color, rgba(148, 163, 184, 0.2))",borderRadius:"4px",background:r===P?"rgba(99, 102, 241, 0.2)":"transparent",color:"var(--text-primary, #f8fafc)",cursor:"pointer",fontWeight:r===P?"bold":"normal",minWidth:"32px"},children:r},r)):(null===(t=e[e.length-1])||void 0===t?void 0:t.key)!=="ellipsis-"+Math.floor(r/10)&&e.push((0,l.jsx)("span",{style:{padding:"0 4px",color:"var(--text-secondary, #94a3b8)"},children:"..."},"ellipsis-".concat(Math.floor(r/10))))}return e})()}),(0,l.jsx)("button",{onClick:()=>U(Math.min(M,P+1)),disabled:P===M,style:{padding:"8px 12px",border:"1px solid var(--border-color, rgba(148, 163, 184, 0.2))",borderRadius:"6px",background:P===M?"rgba(148, 163, 184, 0.1)":"transparent",color:"var(--text-primary, #f8fafc)",cursor:P===M?"not-allowed":"pointer",opacity:P===M?"0.5":"1"},children:"Next \u2192"})]}),(0,l.jsxs)("select",{value:z,onChange:e=>{J(parseInt(e.target.value)),U(1)},style:{padding:"8px",border:"1px solid var(--border-color, rgba(148, 163, 184, 0.2))",borderRadius:"6px",background:"var(--bg-primary, #0f172a)",color:"var(--text-primary, #f8fafc)",cursor:"pointer",fontSize:"0.875rem"},children:[(0,l.jsx)("option",{value:10,children:"10 per page"}),(0,l.jsx)("option",{value:25,children:"25 per page"}),(0,l.jsx)("option",{value:50,children:"50 per page"}),(0,l.jsx)("option",{value:100,children:"100 per page"})]})]})]}),(m||x)&&(0,l.jsx)("div",{className:"modal",children:(0,l.jsxs)("div",{className:"modal-content",children:[(0,l.jsx)("h3",{children:m?"Edit Device: ".concat(m.device_serial):"Register New Device"}),(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),m?(async()=>{if(m)try{await o.K.updateDevice(m.id,R),f(null),await V(P,j)}catch(e){y(e instanceof Error?e.message:"Failed to update device")}})():(async()=>{try{await o.K.createDevice(K),b(!1),W({device_serial:"",user:"",config_version:""}),await V(P,j)}catch(e){y(e instanceof Error?e.message:"Failed to create device")}})()},children:[(0,l.jsxs)("div",{className:"modal-body",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Device Serial:"}),(0,l.jsx)("input",{type:"text",value:m?R.device_serial:K.device_serial,onChange:e=>m?H((0,s.A)((0,s.A)({},R),{},{device_serial:e.target.value})):W((0,s.A)((0,s.A)({},K),{},{device_serial:e.target.value})),required:!0,autoComplete:"off"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"User:"}),(0,l.jsxs)("div",{style:{position:"relative"},onClick:e=>e.stopPropagation(),children:[(0,l.jsx)("input",{type:"text",placeholder:"Search and select user...",value:w,onChange:e=>{A(e.target.value),N(!0)},onFocus:()=>N(!0),autoComplete:"off"}),(m?R.user:K.user)&&(0,l.jsxs)("div",{style:{marginTop:"8px",fontSize:"0.875rem",color:"var(--text-secondary, #94a3b8)"},children:["Selected: ",null===(e=C.find(e=>e.username===(m?R.user:K.user)))||void 0===e?void 0:e.first_name," ",null===(t=C.find(e=>e.username===(m?R.user:K.user)))||void 0===t?void 0:t.last_name," (",m?R.user:K.user,")",(0,l.jsx)("button",{type:"button",onClick:()=>{m?H((0,s.A)((0,s.A)({},R),{},{user:""})):W((0,s.A)((0,s.A)({},K),{},{user:""})),A("")},style:{marginLeft:"10px",background:"none",border:"none",color:"var(--danger-color, #ef4444)",cursor:"pointer",fontSize:"1.25rem"},children:"\xd7"})]}),k&&(0,l.jsx)("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"var(--bg-secondary, #0f172a)",border:"1px solid var(--border-color, rgba(148, 163, 184, 0.1))",borderRadius:"10px",maxHeight:"200px",overflowY:"auto",zIndex:1e3,boxShadow:"0 8px 32px rgba(0, 0, 0, 0.35)"},children:_.length>0?_.map(e=>(0,l.jsxs)("div",{onClick:()=>{m?H((0,s.A)((0,s.A)({},R),{},{user:e.username})):W((0,s.A)((0,s.A)({},K),{},{user:e.username})),A("".concat(e.first_name," ").concat(e.last_name," (").concat(e.username,")")),N(!1)},style:{padding:"12px 16px",cursor:"pointer",borderBottom:"1px solid var(--border-color, rgba(148, 163, 184, 0.1))",background:(m?R.user:K.user)===e.username?"rgba(99, 102, 241, 0.15)":"transparent",color:"var(--text-primary, #f8fafc)",transition:"all 0.15s ease",fontSize:"0.875rem"},onMouseEnter:e=>e.currentTarget.style.background="rgba(255, 255, 255, 0.06)",onMouseLeave:t=>t.currentTarget.style.background=(m?R.user:K.user)===e.username?"rgba(99, 102, 241, 0.15)":"transparent",children:[e.first_name," ",e.last_name," (",e.username,") - ",e.email]},e.id)):(0,l.jsx)("div",{style:{padding:"12px 16px",color:"var(--text-muted, #64748b)",fontSize:"0.875rem"},children:""===w.trim()?"Start typing to search users...":"No users found"})})]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Config Version:"}),(0,l.jsx)("input",{type:"text",value:m?R.config_version:K.config_version,onChange:e=>m?H((0,s.A)((0,s.A)({},R),{},{config_version:e.target.value})):W((0,s.A)((0,s.A)({},K),{},{config_version:e.target.value})),autoComplete:"off"})]})]}),m&&(0,l.jsx)(c.A,{createdBy:m.created_by_username,createdAt:m.created_at,updatedBy:m.updated_by_username,updatedAt:m.updated_at}),(0,l.jsxs)("div",{className:"form-actions",children:[(0,l.jsx)("button",{type:"submit",className:"btn",children:m?"Save":"Create"}),(0,l.jsx)("button",{type:"button",onClick:()=>{f(null),b(!1),A(""),N(!1)},className:"btn btn-secondary",children:"Cancel"})]})]})]})})]})}},5560:(e,t,r)=>{r.d(t,{K:()=>c});var s=r(2555);class a{constructor(){this.cache=new Map}set(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.DEFAULT_TTL;this.cache.set(e,{data:t,timestamp:Date.now(),expiresIn:r})}get(e){const t=this.cache.get(e);if(!t)return null;return Date.now()-t.timestamp>t.expiresIn?(this.cache.delete(e),null):t.data}has(e){const t=this.cache.get(e);if(!t)return!1;return!(Date.now()-t.timestamp>t.expiresIn)||(this.cache.delete(e),!1)}clear(e){this.cache.delete(e)}clearAll(){this.cache.clear()}size(){return this.cache.size}static getTTL(){return"long"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"short")?a.LONG_TTL:a.DEFAULT_TTL}}a.DEFAULT_TTL=3e5,a.LONG_TTL=18e5;const n=new a,o=3e5,i="https://smart-solar-django-backend.vercel.app/api";const c=new class{getAuthHeaders(){const e=localStorage.getItem("authTokens");if(e)try{const t=JSON.parse(e);return{Authorization:"Bearer ".concat(t.access),"Content-Type":"application/json"}}catch(t){console.error("Error parsing auth tokens:",t)}return{"Content-Type":"application/json"}}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="".concat(i).concat(e);let a=this.getAuthHeaders(),n=await fetch(r,(0,s.A)((0,s.A)({},t),{},{headers:(0,s.A)((0,s.A)({},a),t.headers)}));if(401===n.status){await this.refreshToken()&&(a=this.getAuthHeaders(),n=await fetch(r,(0,s.A)((0,s.A)({},t),{},{headers:(0,s.A)((0,s.A)({},a),t.headers)})))}if(401===n.status)throw localStorage.removeItem("authTokens"),localStorage.removeItem("authUser"),window.location.href="/login",new Error("Authentication required");if(!n.ok){const e=await n.text();throw new Error("API request failed: ".concat(n.status," ").concat(n.statusText," - ").concat(e))}return n.json()}async refreshToken(){const e=localStorage.getItem("authTokens");if(!e)return!1;try{const t=JSON.parse(e),r=await fetch("".concat(i,"/auth/token/refresh/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh:t.refresh})});if(r.ok){const e={access:(await r.json()).access,refresh:t.refresh};return localStorage.setItem("authTokens",JSON.stringify(e)),!0}}catch(t){console.error("Token refresh failed:",t)}return!1}async get(e){return await this.request(e,{method:"GET"})}async post(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=(0,s.A)({method:"POST"},r);if(!t||t instanceof FormData){if(t instanceof FormData){a.body=t;const e=(0,s.A)({},this.getAuthHeaders());delete e["Content-Type"],a.headers=(0,s.A)((0,s.A)({},e),r.headers)}}else a.body=JSON.stringify(t);return this.request(e,a)}async put(e,t){return this.request(e,{method:"PUT",body:t?JSON.stringify(t):void 0})}async delete(e){return this.request(e,{method:"DELETE"})}async getConfiguration(){return this.request("/config/")}async getTelemetry(){return this.request("/telemetry/")}async provisionDevice(e){const t=await fetch("".concat(i,"/devices/provision"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Provisioning failed: ".concat(t.statusText));return t.json()}async getAlerts(){const e="alerts",t=n.get(e);if(t)return t;const r=await this.request("/alerts/");return n.set(e,r,o),r}async getSystemHealth(){const e="system_health",t=n.get(e);if(t)return t;const r=await this.request("/health/");return n.set(e,r,o),r}async getKPIs(){const e="kpis",t=n.get(e);if(t)return t;const r=await this.request("/kpis/");return n.set(e,r,o),r}async getUsers(e){const t="users_".concat(e||"all"),r=n.get(t);if(r)return r;const s=e?"?search=".concat(encodeURIComponent(e)):"",a=await this.request("/users/".concat(s));return n.set(t,a,o),a}async createUser(e){const t=await this.request("/users/create/",{method:"POST",body:JSON.stringify(e)});return n.clear("users_all"),n.clearAll(),t}async createEmployee(e){const t=await this.request("/users/create/",{method:"POST",body:JSON.stringify((0,s.A)((0,s.A)({},e),{},{is_staff:!0}))});return n.clear("users_all"),t}async getUserDevices(e){return this.request("/users/".concat(e,"/devices/"))}async updateUser(e,t){const r=await this.request("/users/".concat(e,"/"),{method:"PUT",body:JSON.stringify(t)});return n.clear("users_all"),r}async deleteUser(e){const t=await this.request("/users/".concat(e,"/delete/"),{method:"DELETE"});return n.clear("users_all"),t}async getProfile(){return this.request("/profile/")}async updateProfile(e){return this.request("/profile/update/",{method:"PUT",body:JSON.stringify(e)})}async changePassword(e){return this.request("/profile/change-password/",{method:"POST",body:JSON.stringify(e)})}async getCustomers(e){const t=e?"?search=".concat(encodeURIComponent(e)):"";return this.request("/customers/".concat(t))}async createCustomer(e){return this.request("/customers/create/",{method:"POST",body:JSON.stringify(e)})}async getCustomer(e){return this.request("/customers/".concat(e,"/"))}async updateCustomer(e,t){return this.request("/customers/".concat(e,"/update/"),{method:"PUT",body:JSON.stringify(t)})}async deleteCustomer(e){return this.request("/customers/".concat(e,"/delete/"),{method:"DELETE"})}async getPresets(){const e="presets",t=n.get(e);if(t)return t;const r=await this.request("/presets/");return n.set(e,r,18e5),r}async createPreset(e){const t=await this.request("/presets/create/",{method:"POST",body:JSON.stringify(e)});return n.clear("presets"),t}async updatePreset(e,t){const r=await this.request("/presets/".concat(e,"/"),{method:"PUT",body:JSON.stringify(t)});return n.clear("presets"),r}async deletePreset(e){const t=await this.request("/presets/".concat(e,"/delete/"),{method:"DELETE"});return n.clear("presets"),t}async getDevices(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25;const s=new URLSearchParams;e&&s.append("search",e),s.append("page",t.toString()),s.append("page_size",r.toString());const a=s.toString();return this.request("/devices/?".concat(a))}async createDevice(e){return this.request("/devices/create/",{method:"POST",body:JSON.stringify(e)})}async updateDevice(e,t){return this.request("/devices/".concat(e,"/"),{method:"PUT",body:JSON.stringify(t)})}async deleteDevice(e){return this.request("/devices/".concat(e,"/delete/"),{method:"DELETE"})}async deleteDevicesBulk(e){return this.request("/devices/delete-bulk/",{method:"POST",body:JSON.stringify({device_ids:e})})}async getSlaves(e){return this.request("/presets/".concat(e,"/slaves/"))}async createSlave(e,t){return this.request("/presets/".concat(e,"/slaves/create/"),{method:"POST",body:JSON.stringify(t)})}async updateSlave(e,t,r){return this.request("/presets/".concat(e,"/slaves/").concat(t,"/"),{method:"PUT",body:JSON.stringify(r)})}async deleteSlave(e,t){return this.request("/presets/".concat(e,"/slaves/").concat(t,"/delete/"),{method:"DELETE"})}}},9550:(e,t,r)=>{r.d(t,{A:()=>a});r(5043);var s=r(579);const a=e=>{let{createdBy:t,createdAt:r,updatedBy:a,updatedAt:n,className:o="audit-trail"}=e;const i=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleString()}catch(t){return e}};return(0,s.jsxs)("div",{className:o,children:[(0,s.jsxs)("div",{className:"audit-row",children:[(0,s.jsx)("span",{className:"audit-label",children:"Created:"}),t?(0,s.jsxs)("span",{className:"audit-value",children:["by ",(0,s.jsx)("strong",{children:t})," on ",i(r)]}):(0,s.jsx)("span",{className:"audit-value",children:"System"})]}),a&&(0,s.jsxs)("div",{className:"audit-row",children:[(0,s.jsx)("span",{className:"audit-label",children:"Last Updated:"}),(0,s.jsxs)("span",{className:"audit-value",children:["by ",(0,s.jsx)("strong",{children:a})," on ",i(n)]})]})]})}}}]);
//# sourceMappingURL=392.7bf3c489.chunk.js.map