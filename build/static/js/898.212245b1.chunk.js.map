{"version":3,"file":"static/js/898.212245b1.chunk.js","mappings":"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","sources":["components/AuditTrail.tsx","components/Employees.tsx"],"sourcesContent":["import React from 'react';\r\n\r\ninterface AuditTrailProps {\r\n  createdBy?: string | null;\r\n  createdAt?: string;\r\n  updatedBy?: string | null;\r\n  updatedAt?: string;\r\n  className?: string;\r\n}\r\n\r\nconst AuditTrail: React.FC<AuditTrailProps> = ({\r\n  createdBy,\r\n  createdAt,\r\n  updatedBy,\r\n  updatedAt,\r\n  className = 'audit-trail',\r\n}) => {\r\n  const formatDate = (dateString?: string) => {\r\n    if (!dateString) return 'N/A';\r\n    try {\r\n      return new Date(dateString).toLocaleString();\r\n    } catch {\r\n      return dateString;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={className}>\r\n      <div className=\"audit-row\">\r\n        <span className=\"audit-label\">Created:</span>\r\n        {createdBy ? (\r\n          <span className=\"audit-value\">\r\n            by <strong>{createdBy}</strong> on {formatDate(createdAt)}\r\n          </span>\r\n        ) : (\r\n          <span className=\"audit-value\">System</span>\r\n        )}\r\n      </div>\r\n\r\n      {updatedBy && (\r\n        <div className=\"audit-row\">\r\n          <span className=\"audit-label\">Last Updated:</span>\r\n          <span className=\"audit-value\">\r\n            by <strong>{updatedBy}</strong> on {formatDate(updatedAt)}\r\n          </span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(AuditTrail);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { apiService } from '../services/api';\r\nimport AuditTrail from './AuditTrail';\r\n\r\ninterface Employee {\r\n  id: number;\r\n  username: string;\r\n  email: string;\r\n  first_name: string;\r\n  last_name: string;\r\n  mobile_number?: string;\r\n  address?: string;\r\n  is_staff: boolean;\r\n  is_superuser: boolean;\r\n  date_joined: string;\r\n  created_by_username?: string;\r\n  created_at?: string;\r\n  updated_by_username?: string;\r\n  updated_at?: string;\r\n}\r\n\r\nconst Employees: React.FC = () => {\r\n  const [employees, setEmployees] = useState<Employee[]>([]);\r\n  const [filteredEmployees, setFilteredEmployees] = useState<Employee[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [deleteConfirmModal, setDeleteConfirmModal] = useState<{ show: boolean; employee: Employee | null }>({ show: false, employee: null });\r\n  const [editingEmployee, setEditingEmployee] = useState<Employee | null>(null);\r\n  const [creatingEmployee, setCreatingEmployee] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [editForm, setEditForm] = useState({\r\n    first_name: '',\r\n    last_name: '',\r\n    email: '',\r\n    mobile_number: '',\r\n    address: '',\r\n  });\r\n  const [createForm, setCreateForm] = useState({\r\n    username: '',\r\n    email: '',\r\n    password: '',\r\n    first_name: '',\r\n    last_name: '',\r\n    mobile_number: '',\r\n    address: '',\r\n    is_staff: true,\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchEmployees();\r\n  }, []);\r\n\r\n  const [debouncedSearchTerm, setDebouncedSearchTerm] = useState('');\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setDebouncedSearchTerm(searchTerm);\r\n    }, 300);\r\n    return () => clearTimeout(timer);\r\n  }, [searchTerm]);\r\n\r\n  useEffect(() => {\r\n    fetchEmployees(debouncedSearchTerm);\r\n  }, [debouncedSearchTerm]);\r\n\r\n  const fetchEmployees = async (search?: string) => {\r\n    try {\r\n      const data = await apiService.getUsers(search);\r\n      // Filter only staff users (employees) but exclude superusers/admins\r\n      const staffData = data.filter((user: any) => user.is_staff && !user.is_superuser);\r\n      setEmployees(staffData);\r\n      setFilteredEmployees(staffData);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSearch = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setSearchTerm(e.target.value);\r\n  };\r\n\r\n  const handleEdit = (employee: Employee) => {\r\n    setEditingEmployee(employee);\r\n    setEditForm({\r\n      first_name: employee.first_name,\r\n      last_name: employee.last_name,\r\n      email: employee.email,\r\n      mobile_number: employee.mobile_number || '',\r\n      address: employee.address || '',\r\n    });\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (!editingEmployee) return;\r\n\r\n    try {\r\n      await apiService.updateUser(editingEmployee.id, editForm);\r\n      setEditingEmployee(null);\r\n      // Refetch to get the updated employee with audit trail fields\r\n      await fetchEmployees(searchTerm);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to update employee');\r\n    }\r\n  };\r\n\r\n  const handleCreate = async () => {\r\n    try {\r\n      await apiService.createEmployee(createForm);\r\n      setCreatingEmployee(false);\r\n      setCreateForm({\r\n        username: '',\r\n        email: '',\r\n        password: '',\r\n        first_name: '',\r\n        last_name: '',\r\n        mobile_number: '',\r\n        address: '',\r\n        is_staff: true,\r\n      });\r\n      // Refetch to get the new employee with all fields including audit trail\r\n      await fetchEmployees(searchTerm);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to create employee');\r\n    }\r\n  };\r\n\r\n  const handleDelete = (employee: Employee) => {\r\n    setDeleteConfirmModal({ show: true, employee });\r\n  };\r\n\r\n  const confirmDeleteEmployee = async () => {\r\n    if (!deleteConfirmModal.employee) return;\r\n    try {\r\n      await apiService.deleteUser(deleteConfirmModal.employee.id);\r\n      setEmployees(employees.filter(e => e.id !== deleteConfirmModal.employee!.id));\r\n      setFilteredEmployees(filteredEmployees.filter(e => e.id !== deleteConfirmModal.employee!.id));\r\n      setDeleteConfirmModal({ show: false, employee: null });\r\n    } catch (err) {\r\n      setDeleteConfirmModal({ show: false, employee: null });\r\n      setError(err instanceof Error ? err.message : 'Failed to delete employee');\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setEditingEmployee(null);\r\n    setCreatingEmployee(false);\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"loading\">Loading employees...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"error\">Error: {error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Employee Management</h1>\r\n\r\n      <div className=\"card\">\r\n        <div className=\"card-header\">\r\n          <h2>Employees ({filteredEmployees.length})</h2>\r\n          <div className=\"card-actions\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search employees...\"\r\n              value={searchTerm}\r\n              onChange={handleSearch}\r\n              className=\"search-input\"\r\n            />\r\n            <button onClick={() => setCreatingEmployee(true)} className=\"btn\">\r\n              Add New Employee\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th style={{ textAlign: 'center' }}>Name</th>\r\n              <th style={{ textAlign: 'center' }}>Username</th>\r\n              <th style={{ textAlign: 'center' }}>Email</th>\r\n              <th style={{ textAlign: 'center' }}>Mobile</th>\r\n              <th style={{ textAlign: 'center' }}>Joined</th>\r\n              <th style={{ textAlign: 'center' }}>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {filteredEmployees.map((employee) => (\r\n                <tr key={employee.id}>\r\n                <td style={{ textAlign: 'center' }}>{employee.first_name} {employee.last_name}</td>\r\n                <td style={{ textAlign: 'center' }}>{employee.username}</td>\r\n                <td style={{ textAlign: 'center' }}>{employee.email}</td>\r\n                <td style={{ textAlign: 'center' }}>{employee.mobile_number || '-'}</td>\r\n                <td style={{ textAlign: 'center' }}>\r\n                  {(() => {\r\n                    if (!employee.date_joined) return 'N/A';\r\n                    const date = new Date(employee.date_joined);\r\n                    return isNaN(date.getTime()) ? 'Invalid Date' : date.toLocaleDateString();\r\n                  })()}\r\n                </td>\r\n                <td style={{ textAlign: 'center' }}>\r\n                  <button onClick={() => handleEdit(employee)} style={{ background: 'none', border: 'none', cursor: 'pointer', color: '#6366f1', margin: '0 6px' }} title=\"Edit\">\r\n                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                      <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"></path>\r\n                      <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"></path>\r\n                    </svg>\r\n                  </button>\r\n                  <button onClick={() => handleDelete(employee)} style={{ background: 'none', border: 'none', cursor: 'pointer', color: '#ef4444', margin: '0 6px' }} title=\"Delete\">\r\n                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                      <polyline points=\"3,6 5,6 21,6\"></polyline>\r\n                      <path d=\"M19,6v14a2,2 0 0,1-2,2H7a2,2 0 0,1-2-2V6m3,0V4a2,2 0 0,1,2-2h4a2,2 0 0,1,2,2v2\"></path>\r\n                      <line x1=\"10\" y1=\"11\" x2=\"10\" y2=\"17\"></line>\r\n                      <line x1=\"14\" y1=\"11\" x2=\"14\" y2=\"17\"></line>\r\n                    </svg>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      {(editingEmployee || creatingEmployee) && (\r\n        <div className=\"modal\">\r\n          <div className=\"modal-content\">\r\n            <h3>{editingEmployee ? `Edit Employee: ${editingEmployee.username}` : 'Add New Employee'}</h3>\r\n            <form onSubmit={(e) => { e.preventDefault(); editingEmployee ? handleSave() : handleCreate(); }}>\r\n              <div className=\"modal-body\">\r\n                \r\n                {/* Account Section */}\r\n                <div className=\"form-section\">\r\n                   <h4 className=\"form-section-title\">Account Information</h4>\r\n                   <div className=\"form-grid\"> \r\n                    {creatingEmployee && (\r\n                      <>\r\n                        <input type=\"text\" autoComplete=\"username\" style={{display: 'none'}} />\r\n                        <input type=\"password\" autoComplete=\"current-password\" style={{display: 'none'}} />\r\n                        <div className=\"form-group\">\r\n                          <label>Username</label>\r\n                          <input\r\n                            type=\"text\"\r\n                            value={createForm.username}\r\n                            onChange={(e) => setCreateForm({...createForm, username: e.target.value})}\r\n                            required\r\n                            autoComplete=\"off\"\r\n                            placeholder=\"jdoe\"\r\n                          />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                          <label>Password</label>\r\n                          <input\r\n                            type=\"password\"\r\n                            value={createForm.password}\r\n                            onChange={(e) => setCreateForm({...createForm, password: e.target.value})}\r\n                            required\r\n                            autoComplete=\"new-password\"\r\n                            placeholder=\"••••••••\"\r\n                          />\r\n                        </div>\r\n                      </>\r\n                    )}\r\n                    <div className=\"form-group\">\r\n                       <label>Email Address</label>\r\n                       <input\r\n                         type=\"email\"\r\n                         value={editingEmployee ? editForm.email : createForm.email}\r\n                         onChange={(e) => editingEmployee ? setEditForm({...editForm, email: e.target.value}) : setCreateForm({...createForm, email: e.target.value})}\r\n                         required\r\n                         autoComplete=\"off\"\r\n                         placeholder=\"john.doe@example.com\"\r\n                       />\r\n                     </div>\r\n                   </div>\r\n                </div>\r\n\r\n                {/* Personal Section */}\r\n                <div className=\"form-section\">\r\n                  <h4 className=\"form-section-title\">Personal Details</h4>\r\n                  <div className=\"form-grid form-grid-2\">\r\n                    <div className=\"form-group\">\r\n                      <label>First Name</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={editingEmployee ? editForm.first_name : createForm.first_name}\r\n                        onChange={(e) => editingEmployee ? setEditForm({...editForm, first_name: e.target.value}) : setCreateForm({...createForm, first_name: e.target.value})}\r\n                        required\r\n                        autoComplete=\"off\"\r\n                        placeholder=\"John\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <label>Last Name</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={editingEmployee ? editForm.last_name : createForm.last_name}\r\n                        onChange={(e) => editingEmployee ? setEditForm({...editForm, last_name: e.target.value}) : setCreateForm({...createForm, last_name: e.target.value})}\r\n                        required\r\n                        autoComplete=\"off\"\r\n                        placeholder=\"Doe\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Contact Section */}\r\n                <div className=\"form-section\">\r\n                  <h4 className=\"form-section-title\">Contact Information</h4>\r\n                  <div className=\"form-grid\">\r\n                    <div className=\"form-group\">\r\n                      <label>Mobile Number</label>\r\n                      <input\r\n                        type=\"tel\"\r\n                        value={editingEmployee ? editForm.mobile_number : createForm.mobile_number}\r\n                        onChange={(e) => editingEmployee ? setEditForm({...editForm, mobile_number: e.target.value}) : setCreateForm({...createForm, mobile_number: e.target.value})}\r\n                        autoComplete=\"off\"\r\n                        placeholder=\"+1 (555) 000-0000\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <label>Address</label>\r\n                      <textarea\r\n                        value={editingEmployee ? editForm.address : createForm.address}\r\n                        onChange={(e) => editingEmployee ? setEditForm({...editForm, address: e.target.value}) : setCreateForm({...createForm, address: e.target.value})}\r\n                        autoComplete=\"off\"\r\n                        rows={3}\r\n                        placeholder=\"123 Solar Street...\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n              {editingEmployee && (\r\n                <AuditTrail\r\n                  createdBy={editingEmployee.created_by_username}\r\n                  createdAt={editingEmployee.created_at}\r\n                  updatedBy={editingEmployee.updated_by_username}\r\n                  updatedAt={editingEmployee.updated_at}\r\n                />\r\n              )}\r\n              <div className=\"form-actions\">\r\n                <button type=\"submit\" className=\"btn\">{editingEmployee ? 'Save' : 'Create'}</button>\r\n                <button type=\"button\" onClick={handleCancel} className=\"btn btn-secondary\">Cancel</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {deleteConfirmModal.show && deleteConfirmModal.employee && (\r\n        <div className=\"modal\">\r\n          <div className=\"modal-content\" style={{ maxWidth: '450px' }}>\r\n            <h3 style={{ color: '#dc3545', marginBottom: '1rem' }}>⚠️ Delete Employee</h3>\r\n            <p>\r\n              Are you sure you want to permanently delete{' '}\r\n              <strong>{deleteConfirmModal.employee.username}</strong>?\r\n            </p>\r\n            <p style={{ fontSize: '0.9rem', color: '#6c757d', marginTop: '0.5rem' }}>\r\n              This action cannot be undone.\r\n            </p>\r\n            <div className=\"form-actions\" style={{ marginTop: '1.5rem' }}>\r\n              <button\r\n                onClick={confirmDeleteEmployee}\r\n                className=\"btn\"\r\n                style={{ background: '#dc3545', borderColor: '#dc3545' }}\r\n              >\r\n                Delete\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setDeleteConfirmModal({ show: false, employee: null })}\r\n                className=\"btn btn-secondary\"\r\n              >\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Employees;\r\n"],"names":["AuditTrail","_ref","createdBy","createdAt","updatedBy","updatedAt","className","formatDate","dateString","Date","toLocaleString","_unused","_jsxs","children","_jsx","React","Employees","employees","setEmployees","useState","filteredEmployees","setFilteredEmployees","loading","setLoading","error","setError","deleteConfirmModal","setDeleteConfirmModal","show","employee","editingEmployee","setEditingEmployee","creatingEmployee","setCreatingEmployee","searchTerm","setSearchTerm","editForm","setEditForm","first_name","last_name","email","mobile_number","address","createForm","setCreateForm","username","password","is_staff","useEffect","fetchEmployees","debouncedSearchTerm","setDebouncedSearchTerm","timer","setTimeout","clearTimeout","async","staffData","apiService","getUsers","search","filter","user","is_superuser","err","Error","message","length","type","placeholder","value","onChange","e","target","onClick","style","textAlign","map","date_joined","date","isNaN","getTime","toLocaleDateString","handleEdit","background","border","cursor","color","margin","title","width","height","viewBox","fill","stroke","strokeWidth","d","handleDelete","points","x1","y1","x2","y2","id","concat","onSubmit","preventDefault","updateUser","handleSave","createEmployee","handleCreate","_Fragment","autoComplete","display","_objectSpread","required","rows","created_by_username","created_at","updated_by_username","updated_at","handleCancel","maxWidth","marginBottom","fontSize","marginTop","deleteUser","borderColor"],"sourceRoot":""}