{"version":3,"file":"static/js/35.4c7ec8b6.chunk.js","mappings":"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","sources":["components/DevicePresets.tsx","services/cacheService.ts","services/api.ts"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { apiService } from '../services/api';\r\n\r\ninterface Preset {\r\n  id: number;\r\n  config_id: string;\r\n  name: string;\r\n  description: string;\r\n  gateway_configuration: {\r\n    general_settings: {\r\n      config_id: string;\r\n      schema_version: number;\r\n      last_updated: string;\r\n    };\r\n    uart_configuration: {\r\n      baud_rate: number;\r\n      data_bits: number;\r\n      stop_bits: number;\r\n      parity: string;\r\n    };\r\n  };\r\n  slaves_count: number;\r\n}\r\n\r\ninterface SlaveDevice {\r\n  id: number;\r\n  slaveId: number;\r\n  deviceName: string;\r\n  pollingIntervalMs: number;\r\n  timeoutMs: number;\r\n  enabled: boolean;\r\n  registers: RegisterMapping[];\r\n}\r\n\r\ninterface RegisterMapping {\r\n  id: number;\r\n  label: string;\r\n  address: number;\r\n  numRegisters: number;\r\n  functionCode: number;\r\n  dataType: number;\r\n  scaleFactor: number;\r\n  offset: number;\r\n  enabled: boolean;\r\n}\r\n\r\nconst DevicePresets: React.FC = () => {\r\n  const [presets, setPresets] = useState<Preset[]>([]);\r\n  const [filteredPresets, setFilteredPresets] = useState<Preset[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [editingPreset, setEditingPreset] = useState<Preset | null>(null);\r\n  const [creatingPreset, setCreatingPreset] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedPreset, setSelectedPreset] = useState<Preset | null>(null);\r\n  const [configuringSlaves, setConfiguringSlaves] = useState<Preset | null>(null);\r\n  const [slaves, setSlaves] = useState<SlaveDevice[]>([]);\r\n  const [creatingSlave, setCreatingSlave] = useState(false);\r\n  const [editingSlave, setEditingSlave] = useState<SlaveDevice | null>(null);\r\n  const [editForm, setEditForm] = useState({\r\n    config_id: '',\r\n    name: '',\r\n    description: '',\r\n    baud_rate: 9600,\r\n    data_bits: 8,\r\n    stop_bits: 1,\r\n    parity: 0,\r\n  });\r\n  const [createForm, setCreateForm] = useState({\r\n    name: '',\r\n    description: '',\r\n    baud_rate: 9600,\r\n    data_bits: 8,\r\n    stop_bits: 1,\r\n    parity: 0,\r\n  });\r\n  const [slaveForm, setSlaveForm] = useState({\r\n    slave_id: '',\r\n    device_name: '',\r\n    polling_interval_ms: 5000,\r\n    timeout_ms: 1000,\r\n    enabled: true,\r\n    registers: [] as RegisterMapping[]\r\n  });\r\n  const [registerForm, setRegisterForm] = useState({\r\n    label: '',\r\n    address: 0,\r\n    num_registers: 1,\r\n    function_code: 3,\r\n    data_type: 0,\r\n    scale_factor: 1.0,\r\n    offset: 0.0,\r\n    enabled: true\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchPresets();\r\n  }, []);\r\n\r\n  const [debouncedSearchTerm, setDebouncedSearchTerm] = useState('');\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setDebouncedSearchTerm(searchTerm);\r\n    }, 300);\r\n    return () => clearTimeout(timer);\r\n  }, [searchTerm]);\r\n\r\n  useEffect(() => {\r\n    fetchPresets(debouncedSearchTerm);\r\n  }, [debouncedSearchTerm]);\r\n\r\n  const fetchPresets = async (search?: string) => {\r\n    try {\r\n      const data = await apiService.getPresets();\r\n      // Filter presets based on search term\r\n      let filteredData = data;\r\n      if (search) {\r\n        const searchLower = search.toLowerCase();\r\n        filteredData = data.filter((preset: Preset) =>\r\n          preset.name.toLowerCase().includes(searchLower) ||\r\n          preset.config_id.toLowerCase().includes(searchLower) ||\r\n          preset.description.toLowerCase().includes(searchLower)\r\n        );\r\n      }\r\n      setPresets(data);\r\n      setFilteredPresets(filteredData);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSearch = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setSearchTerm(e.target.value);\r\n  };\r\n\r\n  const handleEdit = (preset: Preset) => {\r\n    setEditingPreset(preset);\r\n    setEditForm({\r\n      config_id: preset.gateway_configuration.general_settings.config_id,\r\n      name: preset.name,\r\n      description: preset.description,\r\n      baud_rate: preset.gateway_configuration.uart_configuration.baud_rate,\r\n      data_bits: preset.gateway_configuration.uart_configuration.data_bits,\r\n      stop_bits: preset.gateway_configuration.uart_configuration.stop_bits,\r\n      parity: preset.gateway_configuration.uart_configuration.parity === 'None' ? 0 : \r\n              preset.gateway_configuration.uart_configuration.parity === 'Odd' ? 1 : 2,\r\n    });\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (!editingPreset) return;\r\n\r\n    try {\r\n      const updatedPreset = await apiService.updatePreset(editingPreset.id, editForm);\r\n      const updatedPresets = presets.map(p => p.id === editingPreset.id ? updatedPreset : p);\r\n      setPresets(updatedPresets);\r\n      // Also update filtered presets to reflect the changes immediately\r\n      const searchLower = searchTerm.toLowerCase();\r\n      const updatedFiltered = updatedPresets.filter((preset: Preset) =>\r\n        preset.name.toLowerCase().includes(searchLower) ||\r\n        preset.config_id.toLowerCase().includes(searchLower) ||\r\n        preset.description.toLowerCase().includes(searchLower)\r\n      );\r\n      setFilteredPresets(updatedFiltered);\r\n      setEditingPreset(null);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to update preset');\r\n    }\r\n  };\r\n\r\n  const handleCreate = async () => {\r\n    try {\r\n      const newPreset = await apiService.createPreset(createForm);\r\n      const updatedPresets = [...presets, newPreset];\r\n      setPresets(updatedPresets);\r\n      // Also update filtered presets to show the new preset immediately\r\n      const searchLower = searchTerm.toLowerCase();\r\n      const updatedFiltered = updatedPresets.filter((preset: Preset) =>\r\n        preset.name.toLowerCase().includes(searchLower) ||\r\n        preset.config_id.toLowerCase().includes(searchLower) ||\r\n        preset.description.toLowerCase().includes(searchLower)\r\n      );\r\n      setFilteredPresets(updatedFiltered);\r\n      setCreatingPreset(false);\r\n      setCreateForm({\r\n        name: '',\r\n        description: '',\r\n        baud_rate: 9600,\r\n        data_bits: 8,\r\n        stop_bits: 1,\r\n        parity: 0,\r\n      });\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to create preset');\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (preset: any) => {\r\n    if (window.confirm(`Are you sure you want to delete preset ${preset.name}?`)) {\r\n      try {\r\n        await apiService.deletePreset(preset.id);\r\n        const updatedPresets = presets.filter(p => p.id !== preset.id);\r\n        setPresets(updatedPresets);\r\n        // Also update filtered presets to remove the deleted preset immediately\r\n        const searchLower = searchTerm.toLowerCase();\r\n        const updatedFiltered = updatedPresets.filter((preset: Preset) =>\r\n          preset.name.toLowerCase().includes(searchLower) ||\r\n          preset.config_id.toLowerCase().includes(searchLower) ||\r\n          preset.description.toLowerCase().includes(searchLower)\r\n        );\r\n        setFilteredPresets(updatedFiltered);\r\n      } catch (err) {\r\n        setError(err instanceof Error ? err.message : 'Failed to delete preset');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleViewDetails = (preset: Preset) => {\r\n    setSelectedPreset(preset);\r\n  };\r\n\r\n  const handleCloseDetails = () => {\r\n    setSelectedPreset(null);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setEditingPreset(null);\r\n    setCreatingPreset(false);\r\n  };\r\n\r\n  const getDataTypeName = (dataType: number): string => {\r\n    const types = ['UINT16', 'INT16', 'UINT32', 'INT32', 'FLOAT32', 'FLOAT64'];\r\n    return types[dataType] || 'UNKNOWN';\r\n  };\r\n\r\n  const handleConfigureSlaves = async (preset: Preset) => {\r\n    setConfiguringSlaves(preset);\r\n    await fetchSlavesForPreset(preset.config_id);\r\n  };\r\n\r\n  const fetchSlavesForPreset = async (configId: string) => {\r\n    try {\r\n      const slavesData = await apiService.getSlaves(configId);\r\n      // Map API response to match interface\r\n      const mappedSlaves = slavesData.map((slave: any) => ({\r\n        id: slave.id,\r\n        slaveId: slave.slave_id,\r\n        deviceName: slave.device_name,\r\n        pollingIntervalMs: slave.polling_interval_ms,\r\n        timeoutMs: slave.timeout_ms,\r\n        enabled: slave.enabled,\r\n        registers: slave.registers.map((reg: any) => ({\r\n          id: reg.id,\r\n          label: reg.label,\r\n          address: reg.address,\r\n          numRegisters: reg.num_registers,\r\n          functionCode: reg.function_code,\r\n          dataType: reg.data_type,\r\n          scaleFactor: reg.scale_factor,\r\n          offset: reg.offset,\r\n          enabled: reg.enabled,\r\n        }))\r\n      }));\r\n      setSlaves(mappedSlaves);\r\n    } catch (err) {\r\n      console.error('Failed to fetch slaves:', err);\r\n      setError('Failed to load slaves for this preset');\r\n    }\r\n  };\r\n\r\n  const updatePresetSlaveCount = (configId: string, count: number) => {\r\n    // Update presets state\r\n    const updatedPresets = presets.map(p => \r\n      p.config_id === configId ? { ...p, slaves_count: count } : p\r\n    );\r\n    setPresets(updatedPresets);\r\n    \r\n    // Update filtered presets\r\n    const searchLower = searchTerm.toLowerCase();\r\n    const updatedFiltered = updatedPresets.filter((preset: Preset) =>\r\n      preset.name.toLowerCase().includes(searchLower) ||\r\n      preset.config_id.toLowerCase().includes(searchLower) ||\r\n      preset.description.toLowerCase().includes(searchLower)\r\n    );\r\n    setFilteredPresets(updatedFiltered);\r\n    \r\n    // Update configuringSlaves if it's the same preset\r\n    if (configuringSlaves && configuringSlaves.config_id === configId) {\r\n      setConfiguringSlaves({ ...configuringSlaves, slaves_count: count });\r\n    }\r\n  };\r\n\r\n  const handleCancelSlaveConfig = () => {\r\n    setConfiguringSlaves(null);\r\n    setSlaves([]);\r\n    setCreatingSlave(false);\r\n    setEditingSlave(null);\r\n    setSlaveForm({\r\n      slave_id: '',\r\n      device_name: '',\r\n      polling_interval_ms: 5000,\r\n      timeout_ms: 1000,\r\n      enabled: true,\r\n      registers: []\r\n    });\r\n  };\r\n\r\n  const handleCreateSlave = () => {\r\n    setSlaveForm({\r\n      slave_id: '',\r\n      device_name: '',\r\n      polling_interval_ms: 5000,\r\n      timeout_ms: 1000,\r\n      enabled: true,\r\n      registers: []\r\n    });\r\n    setCreatingSlave(true);\r\n  };\r\n\r\n  const handleEditSlave = (slave: SlaveDevice) => {\r\n    setSlaveForm({\r\n      slave_id: slave.slaveId.toString(),\r\n      device_name: slave.deviceName,\r\n      polling_interval_ms: slave.pollingIntervalMs,\r\n      timeout_ms: slave.timeoutMs,\r\n      enabled: slave.enabled,\r\n      registers: [...slave.registers]\r\n    });\r\n    setEditingSlave(slave);\r\n  };\r\n\r\n  const handleSaveSlave = async () => {\r\n    if (!configuringSlaves) return;\r\n\r\n    // Validate slave ID uniqueness for new slaves\r\n    if (!editingSlave) {\r\n      const slaveId = parseInt(slaveForm.slave_id);\r\n      const existingSlave = slaves.find(s => s.slaveId === slaveId);\r\n      if (existingSlave) {\r\n        setError(`Slave ID ${slaveId} already exists for this configuration. Please choose a different ID.`);\r\n        return;\r\n      }\r\n    }\r\n\r\n    try {\r\n      const slaveData = {\r\n        slave_id: parseInt(slaveForm.slave_id),\r\n        device_name: slaveForm.device_name,\r\n        polling_interval_ms: slaveForm.polling_interval_ms,\r\n        timeout_ms: slaveForm.timeout_ms,\r\n        enabled: slaveForm.enabled,\r\n        registers: slaveForm.registers\r\n      };\r\n\r\n      if (editingSlave) {\r\n        const updatedSlave = await apiService.updateSlave(configuringSlaves.config_id, editingSlave.slaveId, slaveData);\r\n        // Map response to match interface\r\n        const mappedSlave = {\r\n          id: updatedSlave.id,\r\n          slaveId: updatedSlave.slave_id,\r\n          deviceName: updatedSlave.device_name,\r\n          pollingIntervalMs: updatedSlave.polling_interval_ms,\r\n          timeoutMs: updatedSlave.timeout_ms,\r\n          enabled: updatedSlave.enabled,\r\n          registers: updatedSlave.registers.map((reg: any) => ({\r\n            id: reg.id,\r\n            label: reg.label,\r\n            address: reg.address,\r\n            numRegisters: reg.num_registers,\r\n            functionCode: reg.function_code,\r\n            dataType: reg.data_type,\r\n            scaleFactor: reg.scale_factor,\r\n            offset: reg.offset,\r\n            enabled: reg.enabled,\r\n          }))\r\n        };\r\n        const updatedSlaves = slaves.map(s => s.slaveId === editingSlave.slaveId ? mappedSlave : s);\r\n        setSlaves(updatedSlaves);\r\n        // Update preset count\r\n        updatePresetSlaveCount(configuringSlaves.config_id, updatedSlaves.length);\r\n        setEditingSlave(null);\r\n      } else {\r\n        const newSlave = await apiService.createSlave(configuringSlaves.config_id, slaveData);\r\n        // Map response to match interface\r\n        const mappedSlave = {\r\n          id: newSlave.id,\r\n          slaveId: newSlave.slave_id,\r\n          deviceName: newSlave.device_name,\r\n          pollingIntervalMs: newSlave.polling_interval_ms,\r\n          timeoutMs: newSlave.timeout_ms,\r\n          enabled: newSlave.enabled,\r\n          registers: newSlave.registers.map((reg: any) => ({\r\n            id: reg.id,\r\n            label: reg.label,\r\n            address: reg.address,\r\n            numRegisters: reg.num_registers,\r\n            functionCode: reg.function_code,\r\n            dataType: reg.data_type,\r\n            scaleFactor: reg.scale_factor,\r\n            offset: reg.offset,\r\n            enabled: reg.enabled,\r\n          }))\r\n        };\r\n        const updatedSlaves = [...slaves, mappedSlave];\r\n        setSlaves(updatedSlaves);\r\n        // Update preset count\r\n        updatePresetSlaveCount(configuringSlaves.config_id, updatedSlaves.length);\r\n        setCreatingSlave(false);\r\n      }\r\n\r\n      setSlaveForm({\r\n        slave_id: '',\r\n        device_name: '',\r\n        polling_interval_ms: 5000,\r\n        timeout_ms: 1000,\r\n        enabled: true,\r\n        registers: []\r\n      });\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to save slave');\r\n    }\r\n  };\r\n\r\n  const handleDeleteSlave = async (slave: SlaveDevice) => {\r\n    if (!configuringSlaves) return;\r\n\r\n    if (window.confirm(`Are you sure you want to delete slave ${slave.deviceName}?`)) {\r\n      try {\r\n        await apiService.deleteSlave(configuringSlaves.config_id, slave.slaveId);\r\n        const updatedSlaves = slaves.filter(s => s.id !== slave.id);\r\n        setSlaves(updatedSlaves);\r\n        // Update preset count\r\n        updatePresetSlaveCount(configuringSlaves.config_id, updatedSlaves.length);\r\n      } catch (err) {\r\n        setError(err instanceof Error ? err.message : 'Failed to delete slave');\r\n      }\r\n    }\r\n  };\r\n\r\n  const addRegister = () => {\r\n    const newRegister: RegisterMapping = {\r\n      id: Date.now(), // Temporary ID for form management\r\n      label: registerForm.label,\r\n      address: registerForm.address,\r\n      numRegisters: registerForm.num_registers,\r\n      functionCode: registerForm.function_code,\r\n      dataType: registerForm.data_type,\r\n      scaleFactor: registerForm.scale_factor,\r\n      offset: registerForm.offset,\r\n      enabled: registerForm.enabled\r\n    };\r\n\r\n    setSlaveForm({\r\n      ...slaveForm,\r\n      registers: [...slaveForm.registers, newRegister]\r\n    });\r\n\r\n    // Reset register form\r\n    setRegisterForm({\r\n      label: '',\r\n      address: 0,\r\n      num_registers: 1,\r\n      function_code: 3,\r\n      data_type: 0,\r\n      scale_factor: 1.0,\r\n      offset: 0.0,\r\n      enabled: true\r\n    });\r\n  };\r\n\r\n  const removeRegister = (index: number) => {\r\n    setSlaveForm({\r\n      ...slaveForm,\r\n      registers: slaveForm.registers.filter((_, i) => i !== index)\r\n    });\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"loading\">Loading presets...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"error\">Error: {error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Device Presets</h1>\r\n\r\n      <div className=\"card\">\r\n        <div className=\"card-header\">\r\n          <h2>Presets ({filteredPresets.length})</h2>\r\n          <div className=\"card-actions\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search presets...\"\r\n              value={searchTerm}\r\n              onChange={handleSearch}\r\n              className=\"search-input\"\r\n            />\r\n            <button onClick={() => setCreatingPreset(true)} className=\"btn\">\r\n              Create New Preset\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th style={{ textAlign: 'center' }}>Name</th>\r\n              <th style={{ textAlign: 'center' }}>Config ID</th>\r\n              <th style={{ textAlign: 'center' }}>Description</th>\r\n              <th style={{ textAlign: 'center' }}>Slaves</th>\r\n              <th style={{ textAlign: 'center' }}>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {filteredPresets.map((preset) => (\r\n              <tr key={preset.id}>\r\n                <td>{preset.name}</td>\r\n                <td>{preset.config_id}</td>\r\n                <td>{preset.description}</td>\r\n                <td>{preset.slaves_count || 0}</td>\r\n                <td>\r\n                  <button onClick={() => handleViewDetails(preset)} style={{ background: 'none', border: 'none', cursor: 'pointer' }} title=\"View Details\">\r\n                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                      <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"></path>\r\n                      <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\r\n                    </svg>\r\n                  </button>\r\n                  <button onClick={() => handleConfigureSlaves(preset)} style={{ background: 'none', border: 'none', cursor: 'pointer', color: '#007bff' }} title=\"Configure Slaves\">\r\n                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                      <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect>\r\n                      <line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\"></line>\r\n                      <line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\"></line>\r\n                      <line x1=\"21\" y1=\"3\" x2=\"3\" y2=\"21\"></line>\r\n                    </svg>\r\n                  </button>\r\n                  <button onClick={() => handleEdit(preset)} style={{ background: 'none', border: 'none', cursor: 'pointer' }} title=\"Edit\">\r\n                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                      <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"></path>\r\n                      <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"></path>\r\n                    </svg>\r\n                  </button>\r\n                  <button onClick={() => handleDelete(preset)} style={{ background: 'none', border: 'none', cursor: 'pointer', color: 'red' }} title=\"Delete\">\r\n                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                      <polyline points=\"3,6 5,6 21,6\"></polyline>\r\n                      <path d=\"M19,6v14a2,2 0 0,1-2,2H7a2,2 0 0,1-2-2V6m3,0V4a2,2 0 0,1,2-2h4a2,2 0 0,1,2,2v2\"></path>\r\n                      <line x1=\"10\" y1=\"11\" x2=\"10\" y2=\"17\"></line>\r\n                      <line x1=\"14\" y1=\"11\" x2=\"14\" y2=\"17\"></line>\r\n                    </svg>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      {(editingPreset || creatingPreset) && (\r\n        <div className=\"modal\">\r\n          <div className=\"modal-content\">\r\n            <h3>{editingPreset ? `Edit Preset: ${editingPreset.name}` : 'Create New Preset'}</h3>\r\n            <div className=\"modal-body\">\r\n              <form onSubmit={(e) => { e.preventDefault(); editingPreset ? handleSave() : handleCreate(); }}>\r\n                {editingPreset && (\r\n                  <div className=\"form-group\">\r\n                    <label>Config ID:</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={editForm.config_id}\r\n                      onChange={(e) => setEditForm({...editForm, config_id: e.target.value})}\r\n                      required\r\n                      autoComplete=\"off\"\r\n                    />\r\n                  </div>\r\n                )}\r\n                <div className=\"form-group\">\r\n                  <label>Name:</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={editingPreset ? editForm.name : createForm.name}\r\n                    onChange={(e) => editingPreset ? setEditForm({...editForm, name: e.target.value}) : setCreateForm({...createForm, name: e.target.value})}\r\n                    required\r\n                    autoComplete=\"off\"\r\n                  />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label>Description:</label>\r\n                  <textarea\r\n                    value={editingPreset ? editForm.description : createForm.description}\r\n                    onChange={(e) => editingPreset ? setEditForm({...editForm, description: e.target.value}) : setCreateForm({...createForm, description: e.target.value})}\r\n                    autoComplete=\"off\"\r\n                  />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label>Baud Rate:</label>\r\n                  <select\r\n                    value={editingPreset ? editForm.baud_rate : createForm.baud_rate}\r\n                  onChange={(e) => editingPreset ? setEditForm({...editForm, baud_rate: parseInt(e.target.value)}) : setCreateForm({...createForm, baud_rate: parseInt(e.target.value)})}\r\n                >\r\n                  <option value={9600}>9600</option>\r\n                  <option value={19200}>19200</option>\r\n                  <option value={38400}>38400</option>\r\n                  <option value={57600}>57600</option>\r\n                  <option value={115200}>115200</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>Data Bits:</label>\r\n                <select\r\n                  value={editingPreset ? editForm.data_bits : createForm.data_bits}\r\n                  onChange={(e) => editingPreset ? setEditForm({...editForm, data_bits: parseInt(e.target.value)}) : setCreateForm({...createForm, data_bits: parseInt(e.target.value)})}\r\n                >\r\n                  <option value={7}>7</option>\r\n                  <option value={8}>8</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>Stop Bits:</label>\r\n                <select\r\n                  value={editingPreset ? editForm.stop_bits : createForm.stop_bits}\r\n                  onChange={(e) => editingPreset ? setEditForm({...editForm, stop_bits: parseInt(e.target.value)}) : setCreateForm({...createForm, stop_bits: parseInt(e.target.value)})}\r\n                >\r\n                  <option value={1}>1</option>\r\n                  <option value={2}>2</option>\r\n                </select>\r\n              </div>\r\n                <div className=\"form-group\">\r\n                  <label>Parity:</label>\r\n                  <select\r\n                    value={editingPreset ? editForm.parity : createForm.parity}\r\n                    onChange={(e) => editingPreset ? setEditForm({...editForm, parity: parseInt(e.target.value)}) : setCreateForm({...createForm, parity: parseInt(e.target.value)})}\r\n                  >\r\n                    <option value={0}>None</option>\r\n                    <option value={1}>Odd</option>\r\n                    <option value={2}>Even</option>\r\n                  </select>\r\n                </div>\r\n              </form>\r\n            </div>\r\n            <div className=\"form-actions\">\r\n              <button type=\"submit\" className=\"btn\" onClick={(e) => { e.preventDefault(); editingPreset ? handleSave() : handleCreate(); }}>{editingPreset ? 'Save' : 'Create'}</button>\r\n              <button type=\"button\" onClick={handleCancel} className=\"btn btn-secondary\">Cancel</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {selectedPreset && (\r\n        <div className=\"modal\">\r\n          <div className=\"modal-content\" style={{ maxWidth: '600px' }}>\r\n            <h3>Gateway Configuration: {selectedPreset.name}</h3>\r\n            <div style={{ marginBottom: '20px' }}>\r\n              <h4>General Settings</h4>\r\n              <div style={{ marginLeft: '20px' }}>\r\n                <p><strong>Config ID:</strong> {selectedPreset.gateway_configuration.general_settings.config_id}</p>\r\n                <p><strong>Schema Version:</strong> {selectedPreset.gateway_configuration.general_settings.schema_version}</p>\r\n                <p><strong>Last Updated:</strong> {selectedPreset.gateway_configuration.general_settings.last_updated}</p>\r\n              </div>\r\n            </div>\r\n            <div style={{ marginBottom: '20px' }}>\r\n              <h4>UART Configuration</h4>\r\n              <div style={{ marginLeft: '20px' }}>\r\n                <p><strong>Baud Rate:</strong> {selectedPreset.gateway_configuration.uart_configuration.baud_rate}</p>\r\n                <p><strong>Data Bits:</strong> {selectedPreset.gateway_configuration.uart_configuration.data_bits}</p>\r\n                <p><strong>Stop Bits:</strong> {selectedPreset.gateway_configuration.uart_configuration.stop_bits}</p>\r\n                <p><strong>Parity:</strong> {selectedPreset.gateway_configuration.uart_configuration.parity}</p>\r\n              </div>\r\n            </div>\r\n            <div style={{ marginBottom: '20px' }}>\r\n              <p><strong>Description:</strong> {selectedPreset.description}</p>\r\n              <p><strong>Slave Devices:</strong> {selectedPreset.slaves_count}</p>\r\n            </div>\r\n            <div className=\"form-actions\">\r\n              <button onClick={handleCloseDetails} className=\"btn btn-secondary\">Close</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {configuringSlaves && (\r\n        <div className=\"modal\">\r\n          <div className=\"modal-content\" style={{ maxWidth: '1200px', maxHeight: '90vh', overflow: 'auto' }}>\r\n            <h3>Configure Slaves: {configuringSlaves.name}</h3>\r\n\r\n            {error && (\r\n              <div className=\"error\" style={{ marginBottom: '20px', padding: '10px', backgroundColor: '#f8d7da', border: '1px solid #f5c6cb', borderRadius: '4px', color: '#721c24' }}>\r\n                <strong>Error:</strong> {error}\r\n                <button\r\n                  onClick={() => setError(null)}\r\n                  style={{ float: 'right', background: 'none', border: 'none', color: '#721c24', cursor: 'pointer', fontSize: '16px' }}\r\n                  title=\"Close error\"\r\n                >\r\n                  \r\n                </button>\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"card\" style={{ marginBottom: '20px' }}>\r\n              <div className=\"card-header\">\r\n                <h4>Slave Devices ({slaves.length})</h4>\r\n                <button onClick={handleCreateSlave} className=\"btn\">Add Slave</button>\r\n              </div>\r\n\r\n              {slaves.length === 0 ? (\r\n                <div style={{ textAlign: 'center', padding: '40px 20px', color: '#666' }}>\r\n                  <p>No slave devices configured yet.</p>\r\n                  <p>Click \"Add Slave\" to configure your first slave device.</p>\r\n                </div>\r\n              ) : (\r\n                <table className=\"table\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th style={{ textAlign: 'center' }}>Slave ID</th>\r\n                      <th style={{ textAlign: 'center' }}>Device Name</th>\r\n                      <th style={{ textAlign: 'center' }}>Polling Interval</th>\r\n                      <th style={{ textAlign: 'center' }}>Timeout</th>\r\n                      <th style={{ textAlign: 'center' }}>Status</th>\r\n                      <th style={{ textAlign: 'center' }}>Registers</th>\r\n                      <th style={{ textAlign: 'center' }}>Actions</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {slaves.map((slave) => (\r\n                      <tr key={slave.id}>\r\n                        <td style={{ textAlign: 'center' }}>{slave.slaveId}</td>\r\n                        <td>{slave.deviceName}</td>\r\n                        <td style={{ textAlign: 'center' }}>{slave.pollingIntervalMs}ms</td>\r\n                        <td style={{ textAlign: 'center' }}>{slave.timeoutMs}ms</td>\r\n                        <td style={{ textAlign: 'center' }}>\r\n                          <span className={slave.enabled ? 'status-online' : 'status-offline'}>\r\n                            {slave.enabled ? 'Enabled' : 'Disabled'}\r\n                          </span>\r\n                        </td>\r\n                        <td style={{ textAlign: 'center' }}>{slave.registers.length}</td>\r\n                        <td style={{ textAlign: 'center' }}>\r\n                          <button onClick={() => handleEditSlave(slave)} style={{ background: 'none', border: 'none', cursor: 'pointer', marginRight: '10px' }} title=\"Edit\">\r\n                            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                              <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"></path>\r\n                              <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"></path>\r\n                            </svg>\r\n                          </button>\r\n                          <button onClick={() => handleDeleteSlave(slave)} style={{ background: 'none', border: 'none', cursor: 'pointer', color: 'red' }} title=\"Delete\">\r\n                            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                              <polyline points=\"3,6 5,6 21,6\"></polyline>\r\n                              <path d=\"M19,6v14a2,2 0 0,1-2,2H7a2,2 0 0,1-2-2V6m3,0V4a2,2 0 0,1,2-2h4a2,2 0 0,1,2,2v2\"></path>\r\n                              <line x1=\"10\" y1=\"11\" x2=\"10\" y2=\"17\"></line>\r\n                              <line x1=\"14\" y1=\"11\" x2=\"14\" y2=\"17\"></line>\r\n                            </svg>\r\n                          </button>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"form-actions\">\r\n              <button onClick={handleCancelSlaveConfig} className=\"btn btn-secondary\">Close</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Slave Configuration Modal */}\r\n      {(creatingSlave || editingSlave) && configuringSlaves && (\r\n        <div className=\"modal\">\r\n          <div className=\"modal-content large-modal\">\r\n            <h3>{editingSlave ? `Edit Slave: ${editingSlave.deviceName}` : 'Configure New Slave'}</h3>\r\n            \r\n            <div className=\"modal-body\">\r\n              <form onSubmit={(e) => { e.preventDefault(); handleSaveSlave(); }}>\r\n                \r\n                {/* Section 1: Basic Information */}\r\n                <div className=\"form-section\">\r\n                  <h4 className=\"form-section-title\">Basic Information</h4>\r\n                  <div className=\"form-grid form-grid-2\">\r\n                    <div className=\"form-group\">\r\n                      <label>Slave ID</label>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={slaveForm.slave_id}\r\n                        onChange={(e) => setSlaveForm({...slaveForm, slave_id: e.target.value})}\r\n                        required\r\n                        min=\"1\"\r\n                        max=\"247\"\r\n                        placeholder=\"1-247\"\r\n                      />\r\n                      <small className=\"form-hint\">\r\n                        Unique identifier (1-247)\r\n                        {slaves.length > 0 && (\r\n                          <span className=\"form-hint-accent\">\r\n                            Existing: {slaves.map(s => s.slaveId).join(', ')}\r\n                          </span>\r\n                        )}\r\n                      </small>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <label>Device Name</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={slaveForm.device_name}\r\n                        onChange={(e) => setSlaveForm({...slaveForm, device_name: e.target.value})}\r\n                        required\r\n                        placeholder=\"e.g., Solar Inverter\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Section 2: Communication Settings */}\r\n                <div className=\"form-section\">\r\n                  <h4 className=\"form-section-title\">Communication Settings</h4>\r\n                  <div className=\"form-grid form-grid-3\">\r\n                    <div className=\"form-group\">\r\n                      <label>Polling Interval (ms)</label>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={slaveForm.polling_interval_ms}\r\n                        onChange={(e) => setSlaveForm({...slaveForm, polling_interval_ms: parseInt(e.target.value)})}\r\n                        min=\"100\"\r\n                        placeholder=\"5000\"\r\n                      />\r\n                      <small className=\"form-hint\">How often to poll</small>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <label>Timeout (ms)</label>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={slaveForm.timeout_ms}\r\n                        onChange={(e) => setSlaveForm({...slaveForm, timeout_ms: parseInt(e.target.value)})}\r\n                        min=\"100\"\r\n                        placeholder=\"1000\"\r\n                      />\r\n                      <small className=\"form-hint\">Response timeout</small>\r\n                    </div>\r\n                    <div className=\"form-group checkbox-group\">\r\n                      <label>Status</label>\r\n                      <label className=\"checkbox-label checkbox-vertical\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={slaveForm.enabled}\r\n                          onChange={(e) => setSlaveForm({...slaveForm, enabled: e.target.checked})}\r\n                        />\r\n                        <span className={slaveForm.enabled ? 'status-text-enabled' : 'status-text-disabled'}>\r\n                          {slaveForm.enabled ? 'Enabled' : 'Disabled'}\r\n                        </span>\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Section 3: Register Mappings */}\r\n                <div className=\"form-section\">\r\n                  <h4 className=\"form-section-title\">Register Mappings</h4>\r\n                  <p className=\"form-section-desc\">Configure the Modbus registers to read from this slave device.</p>\r\n\r\n                  {/* Add Register Sub-form */}\r\n                  <div className=\"form-subsection\">\r\n                    <h5 className=\"form-subsection-title\">Add New Register</h5>\r\n                    <div className=\"form-grid form-grid-auto\">\r\n                      <div className=\"form-group\">\r\n                        <label>Label</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          placeholder=\"e.g., voltage\"\r\n                          value={registerForm.label}\r\n                          onChange={(e) => setRegisterForm({...registerForm, label: e.target.value})}\r\n                        />\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <label>Address</label>\r\n                        <input\r\n                          type=\"number\"\r\n                          placeholder=\"0\"\r\n                          value={registerForm.address}\r\n                          onChange={(e) => setRegisterForm({...registerForm, address: parseInt(e.target.value)})}\r\n                          min=\"0\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <label>Data Type</label>\r\n                        <select\r\n                          value={registerForm.data_type}\r\n                          onChange={(e) => setRegisterForm({...registerForm, data_type: parseInt(e.target.value)})}\r\n                        >\r\n                          <option value={0}>UINT16</option>\r\n                          <option value={1}>INT16</option>\r\n                          <option value={2}>UINT32</option>\r\n                          <option value={3}>INT32</option>\r\n                          <option value={4}>FLOAT32</option>\r\n                          <option value={5}>FLOAT64</option>\r\n                        </select>\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <label>Scale</label>\r\n                        <input\r\n                          type=\"number\"\r\n                          placeholder=\"1.0\"\r\n                          value={registerForm.scale_factor}\r\n                          onChange={(e) => setRegisterForm({...registerForm, scale_factor: parseFloat(e.target.value)})}\r\n                          step=\"0.01\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <label>Offset</label>\r\n                        <input\r\n                          type=\"number\"\r\n                          placeholder=\"0.0\"\r\n                          value={registerForm.offset}\r\n                          onChange={(e) => setRegisterForm({...registerForm, offset: parseFloat(e.target.value)})}\r\n                          step=\"0.01\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"form-group checkbox-group\">\r\n                        <label>Active</label>\r\n                        <label className=\"checkbox-label checkbox-vertical\">\r\n                          <input\r\n                          type=\"checkbox\"\r\n                          checked={registerForm.enabled}\r\n                            onChange={(e) => setRegisterForm({...registerForm, enabled: e.target.checked})}\r\n                          />\r\n                          <span>{registerForm.enabled ? 'Yes' : 'No'}</span>\r\n                        </label>\r\n                      </div>\r\n                      <div className=\"form-group form-group-btn\">\r\n                        <button type=\"button\" onClick={addRegister} className=\"btn btn-sm\">\r\n                          Add Register\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Registers Table */}\r\n                  {slaveForm.registers.length > 0 ? (\r\n                    <div className=\"registers-table-wrapper\">\r\n                      <h5 className=\"form-subsection-title\">Configured Registers ({slaveForm.registers.length})</h5>\r\n                      <table className=\"table registers-table\">\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Label</th>\r\n                            <th>Address</th>\r\n                            <th>Data Type</th>\r\n                            <th>Scale</th>\r\n                            <th>Offset</th>\r\n                            <th>Status</th>\r\n                            <th>Actions</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {slaveForm.registers.map((reg, index) => (\r\n                            <tr key={index}>\r\n                              <td>{reg.label}</td>\r\n                              <td>{reg.address}</td>\r\n                              <td>{getDataTypeName(reg.dataType)}</td>\r\n                              <td>{reg.scaleFactor}</td>\r\n                              <td>{reg.offset}</td>\r\n                              <td>\r\n                                <span className={`status-badge ${reg.enabled ? 'status-badge-success' : 'status-badge-danger'}`}>\r\n                                  {reg.enabled ? 'Enabled' : 'Disabled'}\r\n                                </span>\r\n                              </td>\r\n                              <td>\r\n                                <button\r\n                                  type=\"button\"\r\n                                  onClick={() => removeRegister(index)}\r\n                                  className=\"btn-icon btn-icon-danger\"\r\n                                  title=\"Remove\"\r\n                                >\r\n                                  \r\n                                </button>\r\n                              </td>\r\n                            </tr>\r\n                          ))}\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"empty-state\">\r\n                      No registers configured yet. Add registers above to define what data to read from this slave device.\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n              </form>\r\n            </div>\r\n\r\n            {/* Modal Footer */}\r\n            <div className=\"modal-footer\">\r\n              <button type=\"button\" className=\"btn btn-primary\" onClick={(e) => { e.preventDefault(); handleSaveSlave(); }}>\r\n                {editingSlave ? 'Save Changes' : 'Create Slave'}\r\n              </button>\r\n              <button type=\"button\" onClick={() => { setCreatingSlave(false); setEditingSlave(null); }} className=\"btn btn-secondary\">\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DevicePresets;\r\n","/**\r\n * Simple in-memory cache service for API responses\r\n * Reduces unnecessary API calls and speeds up page loads\r\n */\r\n\r\ninterface CacheEntry {\r\n  data: any;\r\n  timestamp: number;\r\n  expiresIn: number; // milliseconds\r\n}\r\n\r\nclass CacheService {\r\n  private cache: Map<string, CacheEntry> = new Map();\r\n  private static readonly DEFAULT_TTL = 5 * 60 * 1000; // 5 minutes default\r\n  private static readonly LONG_TTL = 30 * 60 * 1000; // 30 minutes for static data\r\n\r\n  /**\r\n   * Set a cache entry\r\n   */\r\n  set(key: string, data: any, ttlMs: number = CacheService.DEFAULT_TTL): void {\r\n    this.cache.set(key, {\r\n      data,\r\n      timestamp: Date.now(),\r\n      expiresIn: ttlMs,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get a cache entry if valid\r\n   */\r\n  get(key: string): any | null {\r\n    const entry = this.cache.get(key);\r\n    if (!entry) return null;\r\n\r\n    // Check if expired\r\n    const now = Date.now();\r\n    if (now - entry.timestamp > entry.expiresIn) {\r\n      this.cache.delete(key);\r\n      return null;\r\n    }\r\n\r\n    return entry.data;\r\n  }\r\n\r\n  /**\r\n   * Check if key exists and is not expired\r\n   */\r\n  has(key: string): boolean {\r\n    const entry = this.cache.get(key);\r\n    if (!entry) return false;\r\n\r\n    const now = Date.now();\r\n    if (now - entry.timestamp > entry.expiresIn) {\r\n      this.cache.delete(key);\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Clear a specific cache entry\r\n   */\r\n  clear(key: string): void {\r\n    this.cache.delete(key);\r\n  }\r\n\r\n  /**\r\n   * Clear all cache entries\r\n   */\r\n  clearAll(): void {\r\n    this.cache.clear();\r\n  }\r\n\r\n  /**\r\n   * Get cache size\r\n   */\r\n  size(): number {\r\n    return this.cache.size;\r\n  }\r\n\r\n  /**\r\n   * Get TTL constants\r\n   */\r\n  static getTTL(type: 'short' | 'long' = 'short'): number {\r\n    return type === 'long' ? CacheService.LONG_TTL : CacheService.DEFAULT_TTL;\r\n  }\r\n}\r\n\r\nexport const cacheService = new CacheService();\r\nexport const DEFAULT_TTL = 5 * 60 * 1000; // 5 minutes\r\nexport const LONG_TTL = 30 * 60 * 1000; // 30 minutes\r\n","import { cacheService, DEFAULT_TTL } from './cacheService';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:8000/api';\r\n\r\nclass ApiService {\r\n  private getAuthHeaders(): HeadersInit {\r\n    const tokens = localStorage.getItem('authTokens');\r\n    if (tokens) {\r\n      try {\r\n        const parsedTokens = JSON.parse(tokens);\r\n        return {\r\n          'Authorization': `Bearer ${parsedTokens.access}`,\r\n          'Content-Type': 'application/json',\r\n        };\r\n      } catch (error) {\r\n        console.error('Error parsing auth tokens:', error);\r\n      }\r\n    }\r\n    return {\r\n      'Content-Type': 'application/json',\r\n    };\r\n  }\r\n\r\n  private async request(endpoint: string, options: RequestInit = {}): Promise<any> {\r\n    const url = `${API_BASE_URL}${endpoint}`;\r\n    let headers = this.getAuthHeaders();\r\n\r\n    let response = await fetch(url, {\r\n      ...options,\r\n      headers: {\r\n        ...headers,\r\n        ...options.headers,\r\n      },\r\n    });\r\n\r\n    if (response.status === 401) {\r\n      // Try to refresh token\r\n      const refreshSuccess = await this.refreshToken();\r\n      if (refreshSuccess) {\r\n        // Retry with new token\r\n        headers = this.getAuthHeaders();\r\n        response = await fetch(url, {\r\n          ...options,\r\n          headers: {\r\n            ...headers,\r\n            ...options.headers,\r\n          },\r\n        });\r\n      }\r\n    }\r\n\r\n    if (response.status === 401) {\r\n      // Token refresh failed or not attempted, logout\r\n      localStorage.removeItem('authTokens');\r\n      localStorage.removeItem('authUser');\r\n      window.location.href = '/login';\r\n      throw new Error('Authentication required');\r\n    }\r\n\r\n    if (!response.ok) {\r\n      const errorText = await response.text();\r\n      throw new Error(`API request failed: ${response.status} ${response.statusText} - ${errorText}`);\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  private async refreshToken(): Promise<boolean> {\r\n    const tokens = localStorage.getItem('authTokens');\r\n    if (!tokens) return false;\r\n\r\n    try {\r\n      const parsedTokens = JSON.parse(tokens);\r\n      const response = await fetch(`${API_BASE_URL}/auth/token/refresh/`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ refresh: parsedTokens.refresh }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        const newTokens = {\r\n          access: data.access,\r\n          refresh: parsedTokens.refresh, // Keep the same refresh token\r\n        };\r\n        localStorage.setItem('authTokens', JSON.stringify(newTokens));\r\n        return true;\r\n      }\r\n    } catch (error) {\r\n      console.error('Token refresh failed:', error);\r\n    }\r\n    return false;\r\n  }\r\n\r\n  async getConfiguration(): Promise<any> {\r\n    return this.request('/config/');\r\n  }\r\n\r\n  async getTelemetry(): Promise<any[]> {\r\n    return this.request('/telemetry/');\r\n  }\r\n\r\n  async provisionDevice(data: any): Promise<any> {\r\n    const response = await fetch(`${API_BASE_URL}/devices/provision`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n    if (!response.ok) {\r\n      throw new Error(`Provisioning failed: ${response.statusText}`);\r\n    }\r\n    return response.json();\r\n  }\r\n\r\n  async getAlerts(): Promise<any[]> {\r\n    const cacheKey = 'alerts';\r\n    const cached = cacheService.get(cacheKey);\r\n    if (cached) return cached;\r\n\r\n    const data = await this.request('/alerts/');\r\n    cacheService.set(cacheKey, data, DEFAULT_TTL);\r\n    return data;\r\n  }\r\n\r\n  async getSystemHealth(): Promise<any> {\r\n    const cacheKey = 'system_health';\r\n    const cached = cacheService.get(cacheKey);\r\n    if (cached) return cached;\r\n\r\n    const data = await this.request('/health/');\r\n    cacheService.set(cacheKey, data, DEFAULT_TTL);\r\n    return data;\r\n  }\r\n\r\n  async getKPIs(): Promise<any> {\r\n    const cacheKey = 'kpis';\r\n    const cached = cacheService.get(cacheKey);\r\n    if (cached) return cached;\r\n\r\n    const data = await this.request('/kpis/');\r\n    cacheService.set(cacheKey, data, DEFAULT_TTL);\r\n    return data;\r\n  }\r\n\r\n  async getUsers(search?: string): Promise<any[]> {\r\n    const cacheKey = `users_${search || 'all'}`;\r\n    const cached = cacheService.get(cacheKey);\r\n    if (cached) return cached;\r\n\r\n    const params = search ? `?search=${encodeURIComponent(search)}` : '';\r\n    const data = await this.request(`/users/${params}`);\r\n    cacheService.set(cacheKey, data, DEFAULT_TTL);\r\n    return data;\r\n  }\r\n\r\n  async createUser(userData: any): Promise<any> {\r\n    const result = await this.request('/users/create/', {\r\n      method: 'POST',\r\n      body: JSON.stringify(userData),\r\n    });\r\n    // Invalidate users cache\r\n    cacheService.clear('users_all');\r\n    cacheService.clearAll(); // Clear all cache for safety\r\n    return result;\r\n  }\r\n\r\n  async createEmployee(employeeData: any): Promise<any> {\r\n    const result = await this.request('/users/create/', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ ...employeeData, is_staff: true }),\r\n    });\r\n    cacheService.clear('users_all');\r\n    return result;\r\n  }\r\n\r\n  async getUserDevices(userId: number): Promise<any[]> {\r\n    return this.request(`/users/${userId}/devices/`);\r\n  }\r\n\r\n  async updateUser(userId: number, data: any): Promise<any> {\r\n    const result = await this.request(`/users/${userId}/`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(data),\r\n    });\r\n    cacheService.clear('users_all');\r\n    return result;\r\n  }\r\n\r\n  async deleteUser(userId: number): Promise<any> {\r\n    const result = await this.request(`/users/${userId}/delete/`, {\r\n      method: 'DELETE',\r\n    });\r\n    cacheService.clear('users_all');\r\n    return result;\r\n  }\r\n\r\n  // Profile Management (for current logged-in user)\r\n  async getProfile(): Promise<any> {\r\n    return this.request('/profile/');\r\n  }\r\n\r\n  async updateProfile(data: any): Promise<any> {\r\n    return this.request('/profile/update/', {\r\n      method: 'PUT',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  async changePassword(data: { current_password: string; new_password: string }): Promise<any> {\r\n    return this.request('/profile/change-password/', {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  // Customer Management (separate from staff users/employees)\r\n  async getCustomers(search?: string): Promise<any[]> {\r\n    const params = search ? `?search=${encodeURIComponent(search)}` : '';\r\n    return this.request(`/customers/${params}`);\r\n  }\r\n\r\n  async createCustomer(customerData: any): Promise<any> {\r\n    return this.request('/customers/create/', {\r\n      method: 'POST',\r\n      body: JSON.stringify(customerData),\r\n    });\r\n  }\r\n\r\n  async getCustomer(customerId: number): Promise<any> {\r\n    return this.request(`/customers/${customerId}/`);\r\n  }\r\n\r\n  async updateCustomer(customerId: number, data: any): Promise<any> {\r\n    return this.request(`/customers/${customerId}/update/`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  async deleteCustomer(customerId: number): Promise<any> {\r\n    return this.request(`/customers/${customerId}/delete/`, {\r\n      method: 'DELETE',\r\n    });\r\n  }\r\n\r\n  async getPresets(): Promise<any[]> {\r\n    const cacheKey = 'presets';\r\n    const cached = cacheService.get(cacheKey);\r\n    if (cached) return cached;\r\n\r\n    const data = await this.request('/presets/');\r\n    // Use longer TTL for presets as they change less frequently\r\n    cacheService.set(cacheKey, data, 30 * 60 * 1000); // 30 minutes\r\n    return data;\r\n  }\r\n\r\n  async createPreset(data: any): Promise<any> {\r\n    const result = await this.request('/presets/create/', {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n    });\r\n    cacheService.clear('presets');\r\n    return result;\r\n  }\r\n\r\n  async updatePreset(id: number, data: any): Promise<any> {\r\n    const result = await this.request(`/presets/${id}/`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(data),\r\n    });\r\n    cacheService.clear('presets');\r\n    return result;\r\n  }\r\n\r\n  async deletePreset(id: number): Promise<any> {\r\n    const result = await this.request(`/presets/${id}/delete/`, {\r\n      method: 'DELETE',\r\n    });\r\n    cacheService.clear('presets');\r\n    return result;\r\n  }\r\n\r\n  async getDevices(search?: string, page: number = 1, pageSize: number = 25): Promise<any> {\r\n    const params = new URLSearchParams();\r\n    if (search) params.append('search', search);\r\n    params.append('page', page.toString());\r\n    params.append('page_size', pageSize.toString());\r\n    \r\n    const queryString = params.toString();\r\n    return this.request(`/devices/?${queryString}`);\r\n  }\r\n\r\n  async createDevice(deviceData: any): Promise<any> {\r\n    return this.request('/devices/create/', {\r\n      method: 'POST',\r\n      body: JSON.stringify(deviceData),\r\n    });\r\n  }\r\n\r\n  async updateDevice(deviceId: number, data: any): Promise<any> {\r\n    return this.request(`/devices/${deviceId}/`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  async deleteDevice(deviceId: number): Promise<any> {\r\n    return this.request(`/devices/${deviceId}/delete/`, {\r\n      method: 'DELETE',\r\n    });\r\n  }\r\n\r\n  async deleteDevicesBulk(deviceIds: number[]): Promise<any> {\r\n    return this.request(`/devices/delete-bulk/`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({ device_ids: deviceIds }),\r\n    });\r\n  }\r\n\r\n  async getSlaves(configId: string): Promise<any[]> {\r\n    return this.request(`/presets/${configId}/slaves/`);\r\n  }\r\n\r\n  async createSlave(configId: string, slaveData: any): Promise<any> {\r\n    return this.request(`/presets/${configId}/slaves/create/`, {\r\n      method: 'POST',\r\n      body: JSON.stringify(slaveData),\r\n    });\r\n  }\r\n\r\n  async updateSlave(configId: string, slaveId: number, slaveData: any): Promise<any> {\r\n    return this.request(`/presets/${configId}/slaves/${slaveId}/`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(slaveData),\r\n    });\r\n  }\r\n\r\n  async deleteSlave(configId: string, slaveId: number): Promise<any> {\r\n    return this.request(`/presets/${configId}/slaves/${slaveId}/delete/`, {\r\n      method: 'DELETE',\r\n    });\r\n  }\r\n}\r\n\r\nexport const apiService = new ApiService();"],"names":["DevicePresets","presets","setPresets","useState","filteredPresets","setFilteredPresets","loading","setLoading","error","setError","editingPreset","setEditingPreset","creatingPreset","setCreatingPreset","searchTerm","setSearchTerm","selectedPreset","setSelectedPreset","configuringSlaves","setConfiguringSlaves","slaves","setSlaves","creatingSlave","setCreatingSlave","editingSlave","setEditingSlave","editForm","setEditForm","config_id","name","description","baud_rate","data_bits","stop_bits","parity","createForm","setCreateForm","slaveForm","setSlaveForm","slave_id","device_name","polling_interval_ms","timeout_ms","enabled","registers","registerForm","setRegisterForm","label","address","num_registers","function_code","data_type","scale_factor","offset","useEffect","fetchPresets","debouncedSearchTerm","setDebouncedSearchTerm","timer","setTimeout","clearTimeout","async","data","apiService","getPresets","filteredData","search","searchLower","toLowerCase","filter","preset","includes","err","Error","message","handleSave","updatedPreset","updatePreset","id","updatedPresets","map","p","updatedFiltered","handleCreate","newPreset","createPreset","fetchSlavesForPreset","mappedSlaves","getSlaves","configId","slave","slaveId","deviceName","pollingIntervalMs","timeoutMs","reg","numRegisters","functionCode","dataType","scaleFactor","console","updatePresetSlaveCount","count","_objectSpread","slaves_count","handleSaveSlave","parseInt","find","s","concat","slaveData","updatedSlave","updateSlave","mappedSlave","updatedSlaves","length","newSlave","createSlave","_jsx","className","children","_jsxs","type","placeholder","value","onChange","e","target","onClick","style","textAlign","handleViewDetails","background","border","cursor","title","width","height","viewBox","fill","stroke","strokeWidth","d","cx","cy","r","handleConfigureSlaves","color","x","y","rx","ry","x1","y1","x2","y2","gateway_configuration","general_settings","uart_configuration","handleEdit","window","confirm","deletePreset","handleDelete","points","onSubmit","preventDefault","required","autoComplete","handleCancel","maxWidth","marginBottom","marginLeft","schema_version","last_updated","handleCloseDetails","maxHeight","overflow","padding","backgroundColor","borderRadius","float","fontSize","handleCreateSlave","toString","handleEditSlave","marginRight","deleteSlave","handleDeleteSlave","handleCancelSlaveConfig","min","max","join","checked","parseFloat","step","addRegister","newRegister","Date","now","index","_","i","removeRegister","CacheService","constructor","cache","Map","set","key","ttlMs","arguments","undefined","DEFAULT_TTL","this","timestamp","expiresIn","get","entry","delete","has","clear","clearAll","size","getTTL","LONG_TTL","cacheService","API_BASE_URL","process","getAuthHeaders","tokens","localStorage","getItem","parsedTokens","JSON","parse","access","request","endpoint","options","url","headers","response","fetch","status","refreshToken","removeItem","location","href","ok","errorText","text","statusText","json","method","body","stringify","refresh","newTokens","setItem","getConfiguration","getTelemetry","provisionDevice","getAlerts","cacheKey","cached","getSystemHealth","getKPIs","getUsers","params","encodeURIComponent","createUser","userData","result","createEmployee","employeeData","is_staff","getUserDevices","userId","updateUser","deleteUser","getProfile","updateProfile","changePassword","getCustomers","createCustomer","customerData","getCustomer","customerId","updateCustomer","deleteCustomer","getDevices","page","pageSize","URLSearchParams","append","queryString","createDevice","deviceData","updateDevice","deviceId","deleteDevice","deleteDevicesBulk","deviceIds","device_ids"],"sourceRoot":""}