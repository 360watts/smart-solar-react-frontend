"use strict";(self.webpackChunksmart_solar_frontend=self.webpackChunksmart_solar_frontend||[]).push([[275],{3275:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var r=s(2555),a=s(5043),n=s(5560),i=s(579);const l=e=>({0:"UINT16",1:"INT16",2:"UINT32",3:"INT32",4:"FLOAT32",5:"FLOAT64"}[e]||"Unknown (".concat(e,")")),c=()=>{const[e,t]=(0,a.useState)(null),[s,c]=(0,a.useState)([]),[o,d]=(0,a.useState)([]),[h,u]=(0,a.useState)(!0),[m,g]=(0,a.useState)(null),[p,x]=(0,a.useState)("communication"),[f,v]=(0,a.useState)(!1),[y,b]=(0,a.useState)(null),[_,j]=(0,a.useState)(!1),[N,S]=(0,a.useState)(null),[A,T]=(0,a.useState)(null),[w,k]=(0,a.useState)({protocol_type:"RTU",baud_rate:9600,parity:"N",data_bits:8,stop_bits:1,interface_type:"RS485",global_response_timeout_ms:1e3,inter_frame_delay_ms:50,global_retry_count:3,global_retry_delay_ms:100,global_poll_interval_ms:5e3}),[C,O]=(0,a.useState)({slave_id:"",device_name:"",polling_interval_ms:5e3,timeout_ms:1e3,enabled:!0,registers:[]}),[q,I]=(0,a.useState)({label:"",address:0,num_registers:1,function_code:3,data_type:"UINT16",scale_factor:1,offset:0,enabled:!0}),D=(0,a.useCallback)(async()=>{try{const e=await n.K.get("/modbus/configurations/summary/");if(e.configurations&&e.configurations.length>0){const s=await n.K.get("/modbus/configurations/".concat(e.configurations[0].config_id,"/"));t(s),k({protocol_type:s.protocol_type,baud_rate:s.baud_rate,parity:s.parity,data_bits:s.data_bits,stop_bits:s.stop_bits,interface_type:s.interface_type,global_response_timeout_ms:s.global_response_timeout_ms,inter_frame_delay_ms:s.inter_frame_delay_ms,global_retry_count:s.global_retry_count,global_retry_delay_ms:s.global_retry_delay_ms,global_poll_interval_ms:s.global_poll_interval_ms})}}catch(e){console.error("Failed to fetch configuration:",e),g("Failed to load configuration")}},[]),E=(0,a.useCallback)(async()=>{try{const e=await n.K.get("/modbus/presets/");c(e.results||[])}catch(e){console.error("Failed to fetch presets:",e)}},[]),P=(0,a.useCallback)(async e=>{try{const t=await n.K.getSlaves(e);d(t||[])}catch(t){console.error("Failed to fetch slaves:",t)}},[]);(0,a.useEffect)(()=>{(async()=>{u(!0),await Promise.all([D(),E()]),u(!1)})()},[D,E]);if(h)return(0,i.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),(0,i.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading configuration..."})]})});if(m)return(0,i.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,i.jsx)("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-md w-full",children:(0,i.jsxs)("div",{className:"text-red-500 text-center",children:[(0,i.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Error"}),(0,i.jsx)("p",{children:m}),(0,i.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Retry"})]})})});const L=async()=>{if(e){if(!y){const e=parseInt(C.slave_id);if(o.find(t=>t.slave_id===e))return void g("Slave ID ".concat(e," already exists for this configuration. Please choose a different ID."))}try{const t={slave_id:parseInt(C.slave_id),device_name:C.device_name,polling_interval_ms:C.polling_interval_ms,timeout_ms:C.timeout_ms,enabled:C.enabled,registers:C.registers};y?(await n.K.updateSlave(e.config_id,y.slave_id,t),b(null)):(await n.K.createSlave(e.config_id,t),j(!1)),O({slave_id:"",device_name:"",polling_interval_ms:5e3,timeout_ms:1e3,enabled:!0,registers:[]}),await P(e.config_id)}catch(t){g(t instanceof Error?t.message:"Failed to save slave")}}};return h?(0,i.jsx)("div",{className:"loading",children:"Loading configuration..."}):(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{children:"Slave Configuration"}),m&&(0,i.jsxs)("div",{className:"error",style:{marginBottom:"20px",padding:"10px",backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",borderRadius:"4px",color:"#721c24"},children:[(0,i.jsx)("strong",{children:"Error:"})," ",m,(0,i.jsx)("button",{onClick:()=>g(null),style:{float:"right",background:"none",border:"none",color:"#721c24",cursor:"pointer",fontSize:"16px"},title:"Close error",children:"\xd7"})]}),e?(0,i.jsxs)("div",{className:"card",children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsxs)("h2",{children:["Slave Devices (",o.length,")"]}),(0,i.jsx)("button",{onClick:()=>{O({slave_id:"",device_name:"",polling_interval_ms:5e3,timeout_ms:1e3,enabled:!0,registers:[]}),j(!0)},className:"btn",children:"Configure New Slave"})]}),0===o.length?(0,i.jsxs)("div",{style:{textAlign:"center",padding:"40px 20px",color:"#666"},children:[(0,i.jsx)("p",{children:"No slave devices configured yet."}),(0,i.jsx)("p",{children:'Click "Create New Slave" to add your first slave device.'})]}):(0,i.jsxs)("table",{className:"table",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{style:{textAlign:"center"},children:"Slave ID"}),(0,i.jsx)("th",{style:{textAlign:"center"},children:"Device Name"}),(0,i.jsx)("th",{style:{textAlign:"center"},children:"Polling Interval"}),(0,i.jsx)("th",{style:{textAlign:"center"},children:"Timeout"}),(0,i.jsx)("th",{style:{textAlign:"center"},children:"Status"}),(0,i.jsx)("th",{style:{textAlign:"center"},children:"Registers"}),(0,i.jsx)("th",{style:{textAlign:"center"},children:"Actions"})]})}),(0,i.jsx)("tbody",{children:o.map(t=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{style:{textAlign:"center"},children:t.slave_id}),(0,i.jsx)("td",{children:t.device_name}),(0,i.jsxs)("td",{style:{textAlign:"center"},children:[t.polling_interval_ms,"ms"]}),(0,i.jsxs)("td",{style:{textAlign:"center"},children:[t.response_timeout_ms,"ms"]}),(0,i.jsx)("td",{style:{textAlign:"center"},children:(0,i.jsx)("span",{className:t.enabled?"status-online":"status-offline",children:t.enabled?"Enabled":"Disabled"})}),(0,i.jsx)("td",{style:{textAlign:"center"},children:t.registers.length}),(0,i.jsxs)("td",{style:{textAlign:"center"},children:[(0,i.jsx)("button",{onClick:()=>(e=>{O({slave_id:e.slave_id.toString(),device_name:e.device_name,polling_interval_ms:e.polling_interval_ms,timeout_ms:e.response_timeout_ms,enabled:e.enabled,registers:[...e.registers]}),b(e)})(t),style:{background:"none",border:"none",cursor:"pointer",marginRight:"10px"},title:"Edit",children:(0,i.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,i.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),(0,i.jsx)("button",{onClick:()=>(async t=>{if(e&&window.confirm("Are you sure you want to delete slave ".concat(t.device_name,"?")))try{await n.K.deleteSlave(e.config_id,t.slave_id),await P(e.config_id)}catch(s){g(s instanceof Error?s.message:"Failed to delete slave")}})(t),style:{background:"none",border:"none",cursor:"pointer",color:"red"},title:"Delete",children:(0,i.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("polyline",{points:"3,6 5,6 21,6"}),(0,i.jsx)("path",{d:"M19,6v14a2,2 0 0,1-2,2H7a2,2 0 0,1-2-2V6m3,0V4a2,2 0 0,1,2-2h4a2,2 0 0,1,2,2v2"}),(0,i.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),(0,i.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})]})]},t.id))})]})]}):(0,i.jsx)("div",{className:"card",children:(0,i.jsxs)("div",{style:{textAlign:"center",padding:"40px 20px"},children:[(0,i.jsx)("h3",{children:"No Configuration Available"}),(0,i.jsx)("p",{children:"Create a preset in the Device Presets section first, then configure slaves here."})]})}),(_||y)&&(0,i.jsx)("div",{className:"modal",children:(0,i.jsxs)("div",{className:"modal-content large-modal slave-config-modal",children:[(0,i.jsx)("h3",{children:y?"Edit Slave: ".concat(y.device_name):"Configure New Slave"}),(0,i.jsx)("div",{className:"modal-body",children:(0,i.jsxs)("form",{onSubmit:e=>{e.preventDefault(),L()},children:[(0,i.jsxs)("div",{className:"form-section",children:[(0,i.jsx)("h4",{className:"form-section-title",children:"Basic Information"}),(0,i.jsxs)("div",{className:"form-grid form-grid-2",children:[(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Slave ID"}),(0,i.jsx)("input",{type:"number",value:C.slave_id,onChange:e=>O((0,r.A)((0,r.A)({},C),{},{slave_id:e.target.value})),required:!0,min:"1",max:"247",placeholder:"1-247"}),(0,i.jsxs)("small",{className:"form-hint",children:["Unique identifier (1-247)",o.length>0&&(0,i.jsxs)("span",{className:"form-hint-accent",children:["Existing: ",o.map(e=>e.slave_id).join(", ")]})]})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Device Name"}),(0,i.jsx)("input",{type:"text",value:C.device_name,onChange:e=>O((0,r.A)((0,r.A)({},C),{},{device_name:e.target.value})),required:!0,placeholder:"e.g., Solar Inverter"})]})]})]}),(0,i.jsxs)("div",{className:"form-section",children:[(0,i.jsx)("h4",{className:"form-section-title",children:"Communication Settings"}),(0,i.jsxs)("div",{className:"form-grid form-grid-3",children:[(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Polling Interval (ms)"}),(0,i.jsx)("input",{type:"number",value:C.polling_interval_ms,onChange:e=>O((0,r.A)((0,r.A)({},C),{},{polling_interval_ms:parseInt(e.target.value)})),min:"100",placeholder:"5000"}),(0,i.jsx)("small",{className:"form-hint",children:"How often to poll"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Timeout (ms)"}),(0,i.jsx)("input",{type:"number",value:C.timeout_ms,onChange:e=>O((0,r.A)((0,r.A)({},C),{},{timeout_ms:parseInt(e.target.value)})),min:"100",placeholder:"1000"}),(0,i.jsx)("small",{className:"form-hint",children:"Response timeout"})]}),(0,i.jsxs)("div",{className:"form-group checkbox-group",children:[(0,i.jsx)("label",{children:"Status"}),(0,i.jsxs)("label",{className:"checkbox-label checkbox-vertical",children:[(0,i.jsx)("input",{type:"checkbox",checked:C.enabled,onChange:e=>O((0,r.A)((0,r.A)({},C),{},{enabled:e.target.checked}))}),(0,i.jsx)("span",{className:C.enabled?"status-text-enabled":"status-text-disabled",children:C.enabled?"Enabled":"Disabled"})]})]})]})]}),(0,i.jsxs)("div",{className:"form-section",children:[(0,i.jsx)("h4",{className:"form-section-title",children:"Register Mappings"}),(0,i.jsx)("p",{className:"form-section-desc",children:"Configure the Modbus registers to read from this slave device."}),(0,i.jsxs)("div",{className:"form-subsection",children:[(0,i.jsx)("h5",{className:"form-subsection-title",children:"Add New Register"}),(0,i.jsxs)("div",{className:"form-grid form-grid-auto",children:[(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Label"}),(0,i.jsx)("input",{type:"text",placeholder:"e.g., voltage",value:q.label,onChange:e=>I((0,r.A)((0,r.A)({},q),{},{label:e.target.value}))})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Address"}),(0,i.jsx)("input",{type:"number",placeholder:"0",value:q.address,onChange:e=>I((0,r.A)((0,r.A)({},q),{},{address:parseInt(e.target.value)})),min:"0"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Data Type"}),(0,i.jsxs)("select",{value:q.data_type,onChange:e=>I((0,r.A)((0,r.A)({},q),{},{data_type:e.target.value})),children:[(0,i.jsx)("option",{value:"UINT16",children:"UINT16"}),(0,i.jsx)("option",{value:"INT16",children:"INT16"}),(0,i.jsx)("option",{value:"UINT32",children:"UINT32"}),(0,i.jsx)("option",{value:"INT32",children:"INT32"}),(0,i.jsx)("option",{value:"FLOAT32",children:"FLOAT32"}),(0,i.jsx)("option",{value:"FLOAT64",children:"FLOAT64"})]})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Scale"}),(0,i.jsx)("input",{type:"number",placeholder:"1.0",value:q.scale_factor,onChange:e=>I((0,r.A)((0,r.A)({},q),{},{scale_factor:parseFloat(e.target.value)})),step:"0.01"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Offset"}),(0,i.jsx)("input",{type:"number",placeholder:"0.0",value:q.offset,onChange:e=>I((0,r.A)((0,r.A)({},q),{},{offset:parseFloat(e.target.value)})),step:"0.01"})]}),(0,i.jsxs)("div",{className:"form-group checkbox-group",children:[(0,i.jsx)("label",{children:"Active"}),(0,i.jsxs)("label",{className:"checkbox-label checkbox-vertical",children:[(0,i.jsx)("input",{type:"checkbox",checked:q.enabled,onChange:e=>I((0,r.A)((0,r.A)({},q),{},{enabled:e.target.checked}))}),(0,i.jsx)("span",{children:q.enabled?"Yes":"No"})]})]}),(0,i.jsx)("div",{className:"form-group form-group-btn",children:(0,i.jsx)("button",{type:"button",onClick:()=>{const e={id:Date.now(),name:q.label,address:q.address,register_type:"HOLDING",function_code:q.function_code,register_count:q.num_registers,enabled:q.enabled,data_type:q.data_type,byte_order:"BE",scale_factor:q.scale_factor,offset:q.offset,decimal_places:2,unit:"",access_mode:"read_only",is_signed:!1,category:"",value_mapping:{},description:""};O((0,r.A)((0,r.A)({},C),{},{registers:[...C.registers,e]})),I({label:"",address:0,num_registers:1,function_code:3,data_type:"UINT16",scale_factor:1,offset:0,enabled:!0})},className:"btn btn-sm",children:"Add Register"})})]})]}),C.registers.length>0?(0,i.jsxs)("div",{className:"registers-table-wrapper",children:[(0,i.jsxs)("h5",{className:"form-subsection-title",children:["Configured Registers (",C.registers.length,")"]}),(0,i.jsxs)("table",{className:"table registers-table",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Label"}),(0,i.jsx)("th",{children:"Address"}),(0,i.jsx)("th",{children:"Data Type"}),(0,i.jsx)("th",{children:"Scale"}),(0,i.jsx)("th",{children:"Offset"}),(0,i.jsx)("th",{children:"Status"}),(0,i.jsx)("th",{children:"Actions"})]})}),(0,i.jsx)("tbody",{children:C.registers.map((e,t)=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:e.label}),(0,i.jsx)("td",{children:e.address}),(0,i.jsx)("td",{children:l(e.dataType)}),(0,i.jsx)("td",{children:e.scaleFactor}),(0,i.jsx)("td",{children:e.offset}),(0,i.jsx)("td",{children:(0,i.jsx)("span",{className:"status-badge ".concat(e.enabled?"status-badge-success":"status-badge-danger"),children:e.enabled?"Enabled":"Disabled"})}),(0,i.jsx)("td",{children:(0,i.jsx)("button",{type:"button",onClick:()=>(e=>{O((0,r.A)((0,r.A)({},C),{},{registers:C.registers.filter((t,s)=>s!==e)}))})(t),className:"btn-icon btn-icon-danger",title:"Remove",children:"\u2715"})})]},t))})]})]}):(0,i.jsx)("div",{className:"empty-state",children:"No registers configured yet. Add registers above to define what data to read from this slave device."})]})]})}),(0,i.jsxs)("div",{className:"modal-footer",children:[(0,i.jsx)("button",{type:"button",className:"btn btn-primary",onClick:e=>{e.preventDefault(),L()},children:y?"Save Changes":"Create Slave"}),(0,i.jsx)("button",{type:"button",onClick:()=>{j(!1),b(null),O({slave_id:"",device_name:"",polling_interval_ms:5e3,timeout_ms:1e3,enabled:!0,registers:[]})},className:"btn btn-secondary",children:"Cancel"})]})]})})]})}},5560:(e,t,s)=>{s.d(t,{K:()=>c});var r=s(2555);class a{constructor(){this.cache=new Map}set(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.DEFAULT_TTL;this.cache.set(e,{data:t,timestamp:Date.now(),expiresIn:s})}get(e){const t=this.cache.get(e);if(!t)return null;return Date.now()-t.timestamp>t.expiresIn?(this.cache.delete(e),null):t.data}has(e){const t=this.cache.get(e);if(!t)return!1;return!(Date.now()-t.timestamp>t.expiresIn)||(this.cache.delete(e),!1)}clear(e){this.cache.delete(e)}clearAll(){this.cache.clear()}size(){return this.cache.size}static getTTL(){return"long"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"short")?a.LONG_TTL:a.DEFAULT_TTL}}a.DEFAULT_TTL=3e5,a.LONG_TTL=18e5;const n=new a,i=3e5,l="https://smart-solar-django-backend.vercel.app/api";const c=new class{getAuthHeaders(){const e=localStorage.getItem("authTokens");if(e)try{const t=JSON.parse(e);return{Authorization:"Bearer ".concat(t.access),"Content-Type":"application/json"}}catch(t){console.error("Error parsing auth tokens:",t)}return{"Content-Type":"application/json"}}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s="".concat(l).concat(e);let a=this.getAuthHeaders(),n=await fetch(s,(0,r.A)((0,r.A)({},t),{},{headers:(0,r.A)((0,r.A)({},a),t.headers)}));if(401===n.status){await this.refreshToken()&&(a=this.getAuthHeaders(),n=await fetch(s,(0,r.A)((0,r.A)({},t),{},{headers:(0,r.A)((0,r.A)({},a),t.headers)})))}if(401===n.status)throw localStorage.removeItem("authTokens"),localStorage.removeItem("authUser"),window.location.href="/login",new Error("Authentication required");if(!n.ok){const e=await n.text();throw new Error("API request failed: ".concat(n.status," ").concat(n.statusText," - ").concat(e))}return n.json()}async refreshToken(){const e=localStorage.getItem("authTokens");if(!e)return!1;try{const t=JSON.parse(e),s=await fetch("".concat(l,"/auth/token/refresh/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh:t.refresh})});if(s.ok){const e={access:(await s.json()).access,refresh:t.refresh};return localStorage.setItem("authTokens",JSON.stringify(e)),!0}}catch(t){console.error("Token refresh failed:",t)}return!1}async get(e){return await this.request(e,{method:"GET"})}async post(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=(0,r.A)({method:"POST"},s);if(!t||t instanceof FormData){if(t instanceof FormData){a.body=t;const e=(0,r.A)({},this.getAuthHeaders());delete e["Content-Type"],a.headers=(0,r.A)((0,r.A)({},e),s.headers)}}else a.body=JSON.stringify(t);return this.request(e,a)}async put(e,t){return this.request(e,{method:"PUT",body:t?JSON.stringify(t):void 0})}async delete(e){return this.request(e,{method:"DELETE"})}async getConfiguration(){return this.request("/config/")}async getTelemetry(){return this.request("/telemetry/")}async provisionDevice(e){const t=await fetch("".concat(l,"/devices/provision"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Provisioning failed: ".concat(t.statusText));return t.json()}async getAlerts(){const e="alerts",t=n.get(e);if(t)return t;const s=await this.request("/alerts/");return n.set(e,s,i),s}async getSystemHealth(){const e="system_health",t=n.get(e);if(t)return t;const s=await this.request("/health/");return n.set(e,s,i),s}async getKPIs(){const e="kpis",t=n.get(e);if(t)return t;const s=await this.request("/kpis/");return n.set(e,s,i),s}async getUsers(e){const t="users_".concat(e||"all"),s=n.get(t);if(s)return s;const r=e?"?search=".concat(encodeURIComponent(e)):"",a=await this.request("/users/".concat(r));return n.set(t,a,i),a}async createUser(e){const t=await this.request("/users/create/",{method:"POST",body:JSON.stringify(e)});return n.clear("users_all"),n.clearAll(),t}async createEmployee(e){const t=await this.request("/users/create/",{method:"POST",body:JSON.stringify((0,r.A)((0,r.A)({},e),{},{is_staff:!0}))});return n.clear("users_all"),t}async getUserDevices(e){return this.request("/users/".concat(e,"/devices/"))}async updateUser(e,t){const s=await this.request("/users/".concat(e,"/"),{method:"PUT",body:JSON.stringify(t)});return n.clear("users_all"),s}async deleteUser(e){const t=await this.request("/users/".concat(e,"/delete/"),{method:"DELETE"});return n.clear("users_all"),t}async getProfile(){return this.request("/profile/")}async updateProfile(e){return this.request("/profile/update/",{method:"PUT",body:JSON.stringify(e)})}async changePassword(e){return this.request("/profile/change-password/",{method:"POST",body:JSON.stringify(e)})}async getCustomers(e){const t=e?"?search=".concat(encodeURIComponent(e)):"";return this.request("/customers/".concat(t))}async createCustomer(e){return this.request("/customers/create/",{method:"POST",body:JSON.stringify(e)})}async getCustomer(e){return this.request("/customers/".concat(e,"/"))}async updateCustomer(e,t){return this.request("/customers/".concat(e,"/update/"),{method:"PUT",body:JSON.stringify(t)})}async deleteCustomer(e){return this.request("/customers/".concat(e,"/delete/"),{method:"DELETE"})}async getPresets(){const e="presets",t=n.get(e);if(t)return t;const s=await this.request("/presets/");return n.set(e,s,18e5),s}async createPreset(e){const t=await this.request("/presets/create/",{method:"POST",body:JSON.stringify(e)});return n.clear("presets"),t}async updatePreset(e,t){const s=await this.request("/presets/".concat(e,"/"),{method:"PUT",body:JSON.stringify(t)});return n.clear("presets"),s}async deletePreset(e){const t=await this.request("/presets/".concat(e,"/delete/"),{method:"DELETE"});return n.clear("presets"),t}async getDevices(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25;const r=new URLSearchParams;e&&r.append("search",e),r.append("page",t.toString()),r.append("page_size",s.toString());const a=r.toString();return this.request("/devices/?".concat(a))}async createDevice(e){return this.request("/devices/create/",{method:"POST",body:JSON.stringify(e)})}async updateDevice(e,t){return this.request("/devices/".concat(e,"/"),{method:"PUT",body:JSON.stringify(t)})}async deleteDevice(e){return this.request("/devices/".concat(e,"/delete/"),{method:"DELETE"})}async deleteDevicesBulk(e){return this.request("/devices/delete-bulk/",{method:"POST",body:JSON.stringify({device_ids:e})})}async getSlaves(e){return this.request("/presets/".concat(e,"/slaves/"))}async createSlave(e,t){return this.request("/presets/".concat(e,"/slaves/create/"),{method:"POST",body:JSON.stringify(t)})}async updateSlave(e,t,s){return this.request("/presets/".concat(e,"/slaves/").concat(t,"/"),{method:"PUT",body:JSON.stringify(s)})}async deleteSlave(e,t){return this.request("/presets/".concat(e,"/slaves/").concat(t,"/delete/"),{method:"DELETE"})}}}}]);
//# sourceMappingURL=275.8b38b347.chunk.js.map